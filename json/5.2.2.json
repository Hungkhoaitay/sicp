[{"id":"/sicpjs/5.2.2","tag":"TITLE","body":"5.2.2  \n    The Assembler"},{"body":"\n\n  The assembler transforms the sequence of controller\n  instructions\n  for a machine into a corresponding list of machine instructions, each with its\n  execution\n  function.\n  Overall, the assembler is much like the evaluators we studied in\n  chapter 4—there is an input language (in this case, the\n  register-machine language) and we must perform an appropriate action for each\n  type of component in the language.\n   \n  ","tag":"#text"},{"tag":"TEXT","id":"#p1","child":[{"body":"\n    The technique of producing an execution\n    function\n    for each instruction is just what we used in\n    section ","tag":"#text"},{"tag":"REF","body":"4.1.7","href":"/sicpjs/4.1.7"},{"body":" to speed\n    up the evaluator by separating analysis from runtime execution.  As we\n    saw in chapter 4, much useful\n    \n    analysis of\n    JavaScript\n    expressions could\n    be performed without knowing the actual values of\n    names.\n    Here, analogously, much useful analysis of register-machine-language\n    expressions can be performed without knowing the actual contents of\n    machine registers.  For example, we can replace references to\n    registers by pointers to the register objects, and we can\n    replace references to labels by pointers to the place in the\n    instruction sequence that the label designates.\n  ","tag":"#text"}]},{"tag":"TEXT","id":"#p2","child":[{"body":"\n    Before it can generate the instruction execution\n    functions,\n    the assembler must know what all the labels refer to, so it begins by\n    scanning the controller sequence to separate the labels from the\n    instructions.  As it scans the controller, it constructs both a list of\n    instructions and a table that associates each label with a pointer\n    into that list.  Then the assembler augments the instruction list by\n    inserting the execution\n    function\n    for each instruction.\n  ","tag":"#text"}]},{"tag":"TEXT","id":"#p3","child":[{"body":"\n    The ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"assemble"},{"body":"function\n    is the main entry to the assembler. It takes the controller\n    sequence and the\n    machine model as arguments and returns the instruction sequence to be stored\n    in the model.\n    \n\tThe function\n\t","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"assemble"},{"body":"\n    calls\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"extract_labels"},{"body":"\n    to build the initial instruction list and label table from the supplied\n    controller.  The second argument\n    to\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"extract_labels"},{"body":"\n    is a\n    function\n    to be called to process these results: This\n    function\n    uses\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"update_insts"},{"body":"\n    to generate the instruction execution\n    functions\n    and insert them into the instruction list, and returns the modified list.\n    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":1,"eval":true,"prependLength":452,"program":"chap=4&prgrm=PTAEGUEkGEAVQFLlAVgHQCZMChsDMBXAOwGMAXASwHsjQBzAUzIH0AnBuigZzIdYAoAtgEMSACwpEGAGlDs6zIsMEMAlKADe2UDrlMCrWiPGSG-AESMW87r1bnV-eYuVqA3NgC+uQqUo1QMgBPAAczSR5WAnJqInUNPTIDWjEGYQATfgiyKJiaVTdQb3xiPNoAGyoqAGsCEOYQ1gpBfi4gwQAjKnLZKjDWYX8iLnjtXRIaHlAAN2Fy0ABeUGEuLioSVvauntA+vkHYkY9dROTQbmZidIY8U0zZ8tUxk5eAflA+VioBNs7u2XMxGqRCoAHdaHsBkNQABaGHLVYMTrlBgOZ4vXQALlAqQy-DIwgo5X4D1UBS8PlK0MqNTqzHKwg6DGJDKZ5S4slZzJcKlGJwmwzIMzmiwRaw2XPKPJkoElR3R7CShnOXEuRGutyk9zmTwxbw+rC+Akl0oBVxud1ljOZsPhKy4SI6KLRepO2IJRJJOo8xV8ZVAImqDAaTUEFEo02DDAAHvUbvwYyFZMYJFJOdb2XzdBQ8KAsqqBTxhEQWImE7GyZp0fzJkKSKLCwSS8xE8wHgQzInya7FWd+OoFgA+UAkY66TwfdkMc65-P0jMt2PlkKVrSuxvnQVcUU02r1SX8OXptmL-cZ5dkscY3vK-uLYfZLhXoqTh0zvMXGw8Pini9ZjEbqwopWGwHC2HwQiiKmMpfnYp6gXQf7PicN60HeQ70EwzACrwJZcE4BSgOiE7Mm+a56p83zLmaRDAmCtCJuwqyxIEoTTnCYqOs63bjhSJR+CxgbBpCBw0PB8aJsmUGmMepG9P0onDP+I61rsIQ7lUe4hs0-AiUM8F9Be8n7EM8o1oKyy+NuSwiCECb3gGwhBtpYYRlGsYtngCZSSYaZWmyIzSNWrohXpsQGQp6r4V2PE6KheYDsOwghCE5RBMwkhqtcrBpZICgAFbCLMXAkE0IRkPwwUhRifRSXZuYYV5qiyMIVmXnxfrQvaFB0EQThgd+rCmqAawGCQahVih+jKuUtgWN1vXmLIsE-koKiyKNrDjeS3idSxC1EAh0r8AdGWCrkQzKfFuKZB6xKndkF2xO1u1UvtzG9W2cwdr+D3ndEl2aERU1KikaS3YSxJ3SdH2HY9APPS9lICQEQnMKd8bZD50GyeyxlQocsghCQykbgSrBWMBWErQIKYyWKPWHc4a3hIK7XmVM7buepSynVzv7ZLFKkWfzviLFVKrMGFYllvzXYS+8aPS4drbxnLsbY-TR5qSZhy6nq2Jo40zThhQkbiV56tJo5vkynKQvxehw7kdVugOiwOEMHh+LCBTTCyKLxD9kLrsZLMpDBsT-DE4REvjj6yP+mHxbjQ0Gwx5NbtYZ73vE7I0MgTnZD4THl5Eb6b2o05wa8DwnlZIKmt+dryscqAeAMnQRMk5nOgbgK6SmwESy1x7NCD0MDc8ELOYfqqyu-gPQ9xMpHN1uPy-MGLNnV1LCn6arXlx67J99xvQxNzKx+n67Lf73ryG6I7iW9zfOju9hNC4cX-Ad8IXfCwnuFXwwdH6n2ThHNO0cSaFGvicTwz4SJTlficSiAgsagHMB0DIgQGBTHhv6Di9ouKoiFt4CuKNaCj34EvQGCR4qzR4BYUeS1AHL0Iq9ShuC660NiPiPBLACF0IVNNMGeJoajzOpEBG+RY4UP9GjDoAxSBiHrhgumzcMxtz-gAjOLthZTGuFMJYSiU6qKMRVQWz5Z5zhNGWCxq4JYbkfBpWkZ42SHi0bjeCB4HEhyfqIhKDl9FvxsYXL+Xsf46McW-V0H8i4lxILIR8-jT5ILInA0O6Rw6pyjjHMBJ9vBvwQcRV804Qm6DQVPMgAJsHpFAKYlRm5pGELtIiZEpDEEdUrrQRp4hPFsniKcGac0sHKPEKwyUHD+L+j6eYgR-A5lSJyDIuIr9rrgx9p6JZQjEawPkdCC4BI6CMHSPSOaExBAhBoJE-OqRmDHKuoEi4IRCQCEudcqQJZ1AADIfk4k2R8m53zFgLBHvc45CcZnQnkPwFmQyGGjPkKw+FhROH+k-ANOCZYuxA3ikc-+pzzlMMkpg5F0y9oBBpvBWFuL6GBJuls4kMU0WJ2hI2YsFUuYIsCYwiq5gOUllYdy1llLaAXEFaWJcdKRGg0lscolfLqKYMlQ4BOYqDFNilfULmF48UMs2dDFlRQ2UsQPPC-VcqlXmElCi1wFKemSzsdKislqzgEpOQwM5SrSU2ozGqk1GrnXuOZHq+lcrGVGorNM6FLFDIWvDWca1fQ7W8lFY6i4C8cWuv0fi1UryKACFxX8+VhKvXEoqoyrsAIU07VjQELNHlDJ9FPDyiNhrIb8EZS2mKDquGNvqCJKKuk4w5uGVQztPaKysvrUYXedAqAPMXZjRuNscb+TkqAPR6INwWOAousgi6LHVJnrOC4wb+B+JQeMVSLili7jpAebWwb5weL8QU5+Dl4kRNzkk5pxcyFlPfHOal9iBExL1IBDgVNrBYoghomCcGhqtlhe+iWn6MLfpLJExJshwnYe9vIdm44gMVJ0FUjBWCcELqXf+p6AQiHtKdJ04i3SuE0cPQM5kbak2jI41QSZGY+3+n48wY9ondn5CBrKs4kbO0Sf+mUMubH-TXLskWEg1Qnlyo09UCwam1UUg1SEAgXAxCtAJJpgO30Jq5sCbp-TpmxAOC9OUDsdbZ2OWclwIqUYvLqOkn5XT3dSaqXkDBhC4FaaBZlLp5ZR0WYnodoEp216QombMxZ0Q1Q8PZx-T-IjqTXQQNyenGB18SnouhGjJih72BqNXQhjalmctbp7voqDdAIs00grbZr2X4vM1cEl58GHnaZPfnlgjBWOBE0Mrp4j4Dskp0jmV2OrtKumoCD5yM-U6A8ZGUw8wO3UTLQ4MJmFAjvhmCI26w7-LavXdYUR9NXC4vZAS8N97inhEg1kx2z032WmXQ8xqo2fA8DfEEA1ngl9cZt1biF1+G5RDQiWP0SHrBoeo74VY9ENjM33xlkuHHsi0uauWGULexBRRKyJyrDy8ZSdEDhxN2J7OdB311pMIrY3pMc8p-pEB62OcldW9AkXaTEGkYlhR1dVH6kY6h3R1ZtpOIdMM-AlT0IldY5Okpu7FRRm68EKw5nF2WIm-RmUaOEOofLPo2suz7bxGdqt5JleUKwe7xjAwEgBAhc9OqfDuHwMBenzzu3Tu-WrNqRGOswJwQwgntBUscwB1zDX0VrvDG-nGsxZD3HkL193RsRT2CtPLCs9eZrgImHNS11ay8UXqP-9i+u1L8nwWqfMFzMz67bPzklkrth43zRAVZA6Pb9VTvrNp498sAegT1e0aiZHw3prG68Ztf1iFWf5ewWYJO-36qg-gwnfr6H4LO+S+sS72zBfj32An5Cmf0CPBruX7H7Flr0+9937nzIAHEP3MAy1UREFYCDCGkPWYF0xf1dDfzAOYAgKgKXVgJa3rk32vxjlvyT0AOALT3YEjFYBYDixgJQL4HgL1DfyIL4FIIwPIN9lQPjCwN-xvw7wAIPzTxNyoIxEQLtyxy-03zvjbhwI4Ll1H0BFohBHBBV39DwLV2IQ11B0dTRmyGqU-hLC+HKBRCGg920zOALXQUFE0JyG6F0Id1WVkCIAIB0LrQ1Q+xwm0IsI9xT2d3+zxDxyqxYg+19390Dz6m73cOVGhi8M8w-l8OjD9wD2ASDgwV8GUg-lCNXQSK90dTqHSEGGDEfGqTbm1gQ1CwsmJm6yQ163XVAJIE1xvQsh0RKM4EGjKPpnMB0SqLPgsl01pxiwsDgKFg3D6Gsm-wsFblaPHXbm+BbCgmqS-SwkiOiICMqnDxPixjZ3ZzRj8JiLEjFQWMWJvkcK-mcJ-FcMFiCh2JvnyILzaxONOJPinxGjYP6LJCuI5xSTSK4TRjsS0KCC4ylBZmSS3AMOVCMO+OGheO1xYhjByFR1fVIhoX2PML4DO3GjNlsxk2VAuBsJ0NhK0PhNYF3wQL0CRN2wxJ2GJLxINg+GjEhPIGhPZG2LfmhicJxOahWI-C3HhxfjIxPg3CkEpJbBRBUBLFFEZUZJ0L4CK1djzXQKaCIEQh5NLH5MiTJMWPeHYEJMAI5BZIFyBPeIXEiVYC+LlL5KRFuU1OuNiRSSeLNNPntiVPD2xFVIYGROjjeUgmcnUMNOZGNO+UtKtNdgtNNPZ3tgKT1E8BULeN3gc2UhRCFA6KWGJOfGjPbgGBUFFHjPRGMyc2QKYIglXl0DwGTOnHRxdOv3zPtQ-UCXMHSBuXMC6ROGMxbQoIEFzPfhayFM2VLLTQlg7MLMCE7W7N5wrKrKkBrNYzrMdTAP4GjCGQlljK3RdOjBjy01gR7EHOrNrLzPHMMmbOA3RNsOJAW23NQUNConMCRHKiCDuOyzVwMyK3SXKTgTJj6DbLxAW2DLdlbJHk7VfLgXikPRCAKSKV4jHK4UkFNjmAoAAC8zBtzZy0yVy5VKy1zRyNyuFB4uBXkyB+kVBVh-4UT4KzhsKfNGAF8wDeDX8t0nM2dDY8EiLCyQCDM2d3g1N+wqKAwaLcKSLMzGyyL8SkDGyWK35qKcLiKK9ME1MszIDKDGKt0GzsymzWLCKOLRLzBQLKBwKoKeLqDNwwLZooKBKb5sQqlFLGAaI6JZD2AABHDsKYDiHo9cuKQJNCjC8QV4hRXePiuStAuLFgi47A9rVEtCDk00jyySn4FrcU6qMXKBfJFkzbb3ZyWgkg9AgbRg0KzA3ytg7dP7W8IKrU2S0KrLTTCKkKKKvJGBMPYpVynXLizymAyMw3WUY3GqtKuqlrANbwqlBgYg+glKxdfig7I3I7RKnqzTNA7imNes+ofihbBPHTFrfTfKqAwzDq2gEKqAwqrTWas4BzUA5qpasMtyhK0ohNdERMhJUUcwAAKmIAOi9UupHOAv9CcsGCwvYsYG3PimMrorTysE0r4OFm-i4AUreu+qPyYD+v1C5mCQBpw1FC5lZUEoNCNCEBBtMpkNoEsusqFA4hqyQxGMAocrlWeswrECqrNU0jqH4CDCCHzkZBREKKmFVO+HqV5lWHWCpoYBpt7M9AJGY0W1GIuHNE1C9X6gmFYHSFtJOHeCFruFwM7SZvFvsMdXtHZupsROZvj2CPFVVGJNFo1slt0GlvVAtC1FvwYCsrmA5q5sZUZQVvSBGDJGr1tr931tvxVo2DVu5uJDtodrJoCHw0Br2yiwBIxtKMsHBqVreym0DppmszczwoCTlR62Owjtc3cz9rnWcikFBCzNtjvA61UmKJ3iOvqLsH00qN6NUlqOLuDGTpaMrvaI-Jr2Ss037ATKYECHuQ91gPNo7AjlTL3PbqFDIHuX6J3DmmtVUooHUvPzatkFSx2qnpnocH5sTOpV5pRHHqYWtWJlYRjk5FGRaMn07n5o1TmEqBICyMiwaJOtdAJ1VBlq1BhnFDhVcDO1Lp-A3rUAg2qnXrpp7KBKVV+Obp63hWZN9L1D-r5oAplxPiqWAfMEEFsMoFSgvI1EtBphGK13wuVHMBpmWB0PWCyPSAeqApQv9AfXqFAftXJw3AeFFHdtfvWj0A-ugP-oHLlUFuNuFu1EeGkvgbfswSBHRpYaixdAMoBVd09FJDIXTMdXWN4HzqcVvS3AiwSQlwKXvsUD3NyJ-pCnikQuHJgdInvKWJMIUdiL6kZRSUcGKtGIUegoAuQp0A1WJteuEoToxA1SLBIKUZPiw0DsjxHuyJ+3CgdCsq9m2jfMJrOAcbbolgJpeE+pBoXx8bIAhqlsvN8YNoxCEtooX2yHPssKp3Cb7vGgycNpGnNuhuCeKf0lKciZ7PCYRoka+oX3PqId4GvrsAqZ0HeA6cvq6ZpmBo8YXxAkweksoe6b4BGfyeUsKZ0L3m52GF6dAHeDHowgSFqY2eWBSi9lulHpCARyOemURraeUrgOkt01maUpAOGOku2aOdYqMtRqEekPoj0AiZsvhAQ3xoCtADcdJrBKrmcgQyDsGmlGObbhFN0IZqFAQ06KzoYBzrBaFkxwmP6WpRZgcjZzBfT0IcGdrrxscCxftVkEyVJewqFjxYWalGGMcAeOfBpcFCKe7oaYjnEZCmfpISxLMNFNYEvn5s+piwzqyYqgKK2uVDxbSeWs83GaQ1MJw0aL8kpc8dGIDqVfldYeVcQ1YelCRm8epgVfUc31Vbjvc1fgCc1aNe1dNYVfhXNfcH+cMdRFFaUOY15YOIFe-xDopKpJYDlE9ZxJ9MWNyPZOCQDOqgyKvpyMfELwKOiYF3xS3ETZvlDKhQ3DoBIDOQRYWHRDRjBYlmtWEFYSwVLfSfAb1CVWtXYFN3nuEFkA6BfmEFAAAFIGlK3b5RkFhWETpG3m2e8m3O2XglVj5zBJEOglo4FqElVDJzAe3moWGLBJ3F3JV+AAAGMkYd10OZb4iwLNs5Ic0hbdvUA6ZhSZOaOd2thwd++aG9pdstrdkNjEM99PZ7DgZdle59l4V9yd298dr9uBfjPd8duvFdk9k4SwbNsTas9qD+aldRg93O8okt2QDAddgANnJHg+Nfy3wiQ83zLdkAABZN2PA0n+ACOYtyQtWotFXvYqO+tMES2CggA","body":"function assemble(controller, machine) {\n    return extract_labels(controller,\n                          (insts, labels) => {\n                              update_insts(insts, labels, machine);\n                              return insts;\n                          });\n} "}]},{"tag":"TEXT","id":"#p4","child":[{"body":"\n\t      The function ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"extract_labels"},{"body":" takes\n\t      as arguments a list ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"controller"},{"body":" \n\t      and a ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"receive"},{"body":"\n\t      function. The function ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"receive"},{"body":" will\n\t      be called with two values: (1) a list ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"insts"},{"body":"\n\t      of instruction data structures, each containing an instruction from\n\t      ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"controller"},{"body":"; and (2) a table called\n\t      ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"labels"},{"body":", which associates each label from\n\t      ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"controller"},{"body":" with the position in the list\n\t      ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"insts"},{"body":" that the label designates.\n      ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":2,"eval":true,"prependLength":442,"program":"chap=4&prgrm=PTAEGUEkGEAVQFLlAVgHQCZMChsDMBXAOwGMAXASwHsjQBbAQwGsBTAfQBsGAjFjtlkTIAnAJ4AKLr35EGdFgBpQFIgGcyqgJSgA3tlAHQwlmQLDaABwYVhknnzaz5Sleq0BubAF9chUpRpQAHMTNmMginUWW0YSAAsVRSMWIMc5Fm09Q2TTc3oGeMTxACIQsjCUyLJo4s1xcLT5TU8ffGJyaloyUQsWcVcRAg6aTJyzWjiWBgATfrVB4aJm0Fa-RdAOKiomAgs2C2EKOnFVUTpuKg4lKl7hBgC1TP1DEhp1UAA3Bg5QAF5QBiqVRUEgnM4XK6gG7Re6dDzPAzGXK0SJsYjTFh4RKzL4cTQI7LZAD8oGiwiotlO50uSmKxCYRCoAHdaNC7g9QABaTkAoEsc4cFi1AmEgwALlAkxm4jI1g44lxmma3l87Q5m22u049nlUj4qiUepk6Se2Ve80+3z+vOBoKNjSSRvh2SR42UqjRRAxWKILBx33xosJJLJFLs0gdtPRmOxGx1XJ5gNU-O4guFQeyEtlFHlipaqv8nXyrH2hzoFEoH3YLAAHntMeJaxYlLEEr7DTqtLoCRQ8KB+h7zeoGEIBHXG3Wld2M0OyKASNbZyPyk22LiCH0m8qM668uJtL8AHzzzzZLykjjJ5R9gfaiNNicWKdZIOz5TzVTWjU7PZG8P6jt7zrO8+EfJVTyDXdaH3P5jwGVQIIMc99RYa9+1RcIqmiMcLDA01XzeOdhGtMoKgiKIYgKNskkwiicLIvDEMJKD+wPY9SPNaohFUeplgJZDL1Ql9RVDWwmyjIgGWZWgm2MIEi26XoExtFM023QwfFWNUi0YEs2VhGh6IbcT8kKds42kA0oVuAzHmnF5COsr8th-UsjnEfSHnom4wOuGyHmdByLQYPxP3+RhcNQo9i3YA4jgrCgqyMvBGxbKjEkA-VNAUEUMzyzzOm8myvR4rd1MREw3Rg6KGAsCwOFENgVE9DFhAalRUgAKwYL5VBIQ4LDIcRcry0UbjS3C+2ilLsoBULwJVNpC0CJMKCCIh6kqOinCSYEzBIDJ7Iq5ENiqEpVvW4olFo6phEjUA9uEA7lR8NYOQuogyIdcQPqa+ZhCGB58OOt0pVmbN5V+gYAcWBbXu0lb5PWtdvg3HCfqRz7ocBzpRgJFiwZlOUiZzDHVDWrH-pxkY4YLdZdPYX6GwGNKzMdTs-JhAKlAsEhgfnRzZWEMoSNCG7onEVsMptCmvp2uZ1AWs1HPXas62tX7VfRgZyoFi0tb8P4RvdNgCsMh8ta3Y2SQZ03-MK1cG0tutWeozLL059k4UDIMJVtuLy0rNX6xS53m1Mt2LKypiWOq49hNGgxk3KTjBA0InhZMJQDeIfddcTmYvlIWLQV5vjE68fMlvWQuRwO-ZS75o6HtCVPuPEXmlAh8QOJoLj07L8DQEWt6dOYdhqnUAQUpZiPpadT3bKsvAuCCHmm4Tt9zWmBLAn+SeU5oHeHgVshdd7dCPTNz6H233eln55WLTvrzDfC8e7a5h3gIbY3E--oKx9Oiu2ln-AB-8F7WS-m8fOhhY5sWbuAluh8hBpx4ivBga89ZAMMn4POTEkG12Lg3DufN3DDyQZXfiF4rwJ2yKJU+tJuAzFAAfd86gYYcm5CpAUQpdaaTphyA+4gX6410GMPIHAzrFAPldbB99ljw2Wl0FgU9RE0BlKo8o2NYbNwJlMcGxMD5-Q4dTB+5CR4I1oLbbgdxSBxGnowue5lIEYKwWXZub4MTvH+LYuuDjvFDR1kxC+t57QPkCc+Y2b54LOU1L+HU-4PZR34KuP8kTYEgz3Aguh4DQm91Qe3NxUSkEZmTmwNuA8SAuA-Jk-+AlaFgIAUQ+uvNSF1Irk0s8TEGlCWNgw2exRmHTFAH4+x7CFhcMTHyXhtQemWOUaMux8QkmjBYlI9QJQxnxDkUaRR1cOTbICVo8QRyTGTLEQnfR0pu5nJ0UDPiWlFmollEEEI0xOBnVeHQCwNA05d0mGwV5-MWKoisDYERVAfl-KENoAAZHCyUBjIXQt9LCv4vx96AteVXUegRwjiB2msyqkjpHhDkUS8hSj1gYS2rddGW5xGgo9K895nzNkmWKOS-ZeLaDizuquAljKdASImMi7uZUqWCKLEuIQCpUaHRFes6RsqyByNVjyqxJtVUMsnHoklKIWWYLZRsoanLVVzJVLyvWw5RyrlVmBJlBqkU3OJpKlY0rAh-iJU6k6pqShGgpSaKV1rUThPHMK0VJtWV+nZWal2oBiiBs1Ys8NCTpCOqVc6wmErJz7IOUWHyPqs1+ukTcINTQQ1atRNfXVT59UnTBdYMSeqEXRuNbG-1hMty0nLS9AtgRa2rh8jcHCxKTo5uJoTUdZUU3rCHcBfSJUPL1j1SWt03cZ2TilQO6xH8ghUCBYe5m8wQEuI5qADxm9HKBJIoesgh7Amn3PjeMNOp0YZMQUFd4sT-jfi1H+SBaaQLygyQQuBzq47IIqX3NBpCaluH4TQ1CoTaXkXpRErRJSCIWnCKLco-LJbpXMvy+iBKwPG3gbBaDlSeKd2CK3WD7dwhKw0shr9BgBmnsTcM4I96qATM4UWbhSZVJ8PmU89YB6j2rN9W6f1pR+O7J1HOjk0mH1sCfepw99zLkUIgxO8VxNtPnKEzTCxkmOS-NwsOEgTAQXOts0wEo1nLXUqswQVQcQTiyjs9nBVDmTpOZc55uItR5UcA3P23dMU2CqB6tWGe3GpbmSc+vfmb48P-FIoRlLu1fNMHOXLdIz7dZUeirkvKFhQs+YKEwJQBT+48RYx00ULSS7tPA4SKh7mx4ljkg+4wjjZ55aUGly9G8CSZZSPhsiWFKJszGwVorDR5Y6zK5BnJXTDDlNo5tdxPknOseadMIurTG7l1Gj1z1tB4tVn2+O+T0i7tCmuikVTRYBsUj6CxuTpLNlcq0d9uRLGq2LKcytlI30Ie6ZGA20GRnSYw6prDaL1r-bRDwBSOgw3kvEfZpZRe3MJsZccgUDk-xbhY+EDj8nnRn0hNfVfe25txx05phxm1c52efTfrFhdIcfqLDPYobbpTxeGEgdfQKopyvx30+LnnbA8GXcV6duuHWy4WMoT09jlXSTCHJLYQZvGqfY8E2Y5SonZn8IWesM3NOhdAz+7QBTDu6ByJ5x9wI7u2A847pj7HpmzGBYR660mvvYfmLtxyW2tYWAkAIK-KxTjIGjYVxL-+9G3FLbq35LsVznWKT6DrDF-xigfWKE0m2H8mZJfUCL92VkbhWTLk0rMPQS-zAPJixNsjq+xeMSehvziCcAWssvVe6X2+sM78+svPHllhYHzYpfuOR-p9cVPknM-i-z8xeX7TVfE415LCZ4fZBG8pNb3zXfc-S8H8TS94-o1T-sBe+vy-o-c9+Z34nDvvQ++vegO6gwOK+H8X2Q2F+V+42be-+s+gBD+wB1WXmbAjAwgrAd0GmTmL+eUb++woWaBDAGB2E2By2DY6esBt+8Be+SB5exgVYwg5QEOGm6BmBuBGY+BDB0QzBy2rBxBmBjilBBW0+NB9+3eC+xQ7uHBQY+Bvu0B3+1++eoho0EoXGI+dIkkjILIFu6wxeVuMyqY4mMefW7AAwp8MGQg5IHAgod0UeoeeQ4Kxu8wlhIglwthwewuoARABANh-aoaLhnE1hHhUe8+hehm0owSVq1aLh8eieyeG0pe4RG6xMURvWgQ5SAwY4CeSehUeCs8fg-M5S3cBRxAaOWquw0w9wZhH4p8Vkae+OpOFovMs2uW+OtIvMlqT87wbirRdKEs6exQbiXR36c4Tm1oeWJQOBusb4LeEx+OJQ0uIxWStA1OAgVEp81GmRsRNYORCRw0meACLMYuEuceux8ReRKeJxhxEyrhwR2EoROsOUNxSCDRi2E2zxLxACOeD0IhE+SonxEu8E5Riy1uRhkKVh7h0QIuDhMkNYIg5OIGPEQRUJwggJXxdRTeW2XxQYlR1R5yPE8ETeMJXWXxoKH4pJEuXgIJ9MH8wW-MgoYxBW1oPhNhTEjJoAeAdw8gLJvhHATE1qKBDibBEsj8hgXJ6Q1oThtWv+EplalGzqxQ0wfyxQ8y2Qgpo6IptgYpSczJ-whMcpGQpJhp1o3chpdSLESpKpap4pWqQp4gNYeMZSepl6zaDpP+9m2ukEipypvoqp-EBIGpuEOpaEt4rJ8oR2IZ9ChuYYxQ-Ig0ogvxdWykrmdSvSnO3Rc4D6Fg1ohMR2lJO2Lp3c+ZXSLE2ZpJPgZ4gZMRCU3wFAAAXn0CGeMf8OGaSZab6UKDaQYNajvKoFYGQCsvIECJgoqgqSdMOfFiEJIUKTIa-peqFicX7KolOVFMgeWicSSNZvuEufQCuaOTOYQVqXOXgQuagVqTuUgsuSOdOY-lIZqQITUJuZeg+SQdqbuZOQeXeSoLWVIo2SeZwe+L+Q2U2buQwp+SEBJFJDocYAAI4bjvDcLTHdlRp9kDnxC4par+xHmPlYGHoQ4UHtFJm-5Xr4ybbUb66JxClEFvkymenXGGDtYkJa4MXXbo4QEsCMG8F1ZHo0WCGEXvFUGwmsQUUMUGDWZ8USwlmZ5MVtJa4Z4ALXYxbUVam8X0ku6nQA4qW4VqUFZzIerWrcFMFxZ8GHoXmPb-ZDSA5cUmU8X8Fvn6WWZFgSUXlHbw55DBb3l7DHn+F2k4W0VuXJEeUFYhbnm4VuY3axaEbFoEgcm0bWjFAABUxAH0foiV-p6pWqaF9wQ5+5IQIZLEEFa5h+JgAFshesTWH5eVxVT+pVz5qsFFFVaC1oqsUqV5BuRuks1VUF2hfKLA8FWiykts-KyxHqLozq2Vg5cQmFqaLkuw4grAogXcPAgoTR7wxgrwwgIy-wSYIIC1LAS1rCRiK1GQG2jaHo0YPofom0m10wPsp5l12Iu+xMG1FId1+Y1qu1oIi1b2t1BeZF51jgfJN1b1WgA+j1vo0wM+-VBA3w+1h1hMhMr1W1WgSoA+SNCeoN91GYEoX18Ny1pMyN0wqNM1UmjGhS6c-KwlhGpQpVvl4O5NTW+282-mkWY541J0NNyc4WGqpNseH8voTIRBbMME16zRC478-W-RtgUhJAo1b4vRkt7ANNwxMxjkLZsW9J7JJgrCgKUecWMNggB0vJbJsVOtZAgKcxf6Z0CmP5lAdZjZtldmciUGnldtFADtfCx2GwOtpGsoRhX4Nt0inR6Who0iwxSgxSusn1NhII+J0VJonOqGF1XoMYkNZMe1O0b26GpBJ1SoUZEGOdWBJ1Upbp-qWdUV0thKJo2UYlpSftedFZeuXSDCFdxQdAvhlA9UiZ3osYI1aZ45bogORdAIsdJA1R0wGVGk1Zs18Sc2FE1dTQnOb4uIGsQImd6Q2d82QKjdg9eQqIEN11ioz5rdm9ia9IvVyQRd6Y4CEok6pMiotumViycRSeTZy9jkv6DGKCTNLFGYydQNNhdR2Go0HZ1pxs6ZlFhgWRr9+xhMwJdQrWKxpI5xb9+4FZAZz96wk1uVN57NQY1qw4TBotXSu2TGVSAKNRpiiwBtA1xcSDUasDTZGDO4zqRVkhRDaqz5nDl5t9e5eDkhAw3w-A+tyYdDB0ZVooJIYjjVFtVDFyhkYjG4xc1oYjbVfD7Dd5wjcd1Q89t0kjwYo9mw49uj-KVVAjd5OW0tBjxIGwc1ewZj7VmjwBQjNhn8XsbwNjhgJIVt8ucjdsYUAIdUgg4MltFgze4T+yTj1VHDel3DBW5jq5khSxz5-jLeYFMZMQ3V59Wh0kyQA1iFPIeWo1lZBmboOD01JhgQtskxpGO0ETVkKJNh0Qa1c4eW8xJYgtwt1E6DgZFI6xKydTkp0UJxkxFeY98d1jdQQzTQSg22MzqiusYzrj-ASxdQLeSzCxxQKznhXkSjRtfCTSZMYmEJbhzTaJo+3thV+OfNRYPDeWwlYznDEV1qVjRdrhcG6eCzwljWcGbz82RG7x3z9N6w5SpGe2Xz0t90GqzcZDFNPE-zC9kL7zRKrNUWMcPp4DTlgQtYCJ5ASJpz9xFzG1LAiU+DyDqI4ZhLqJ2N5VJLZLhKfJSg4ZtLooah8Jdw+LToBxpS3cTTthtd4umJ1+2JEub4vo8JAggo8gQguZyK-LLTBZeUzKJlhwRAQQhKuLUr-IacrLhxJI9L92RJdd4u0pts4SVhEgErK40r-yJrOJeStS6JDrECnYaNLrEohrfQZrH85h1r2rMrZ8zrLro0wJwbIbkubrSrZ40Wb4QQJAHy7TvwBINTCxxsCmDAciQyWbaqgrQY-qCmxgHuSgP0Sg3ACCDAoAAApKMnm4nApr8C7QwGWxWwvuW3W4SP6mAjIlomwNwFdF0sIv6j5MUI27NAStm7NKquIAAAz53huEhHJJIlDxsfKdm1AdsZgfQlBqph2bIjtFu1DZ3nRHtX1bIbubtBjbsV4g4pDnsAldLXv9vHsyIbsLvZDabLs9tTz9sPujSlAJuaYqkLRgtQt7arvdPSw3tKAYAzsABsyooH7z4HgHgxz7oAAALHO54DwxBw854Ii-Sih4m0RTe80EAA","body":"function extract_labels(controller, receive) {\n    return is_null(controller)\n           ? receive(null, null)\n           : extract_labels(\n                 tail(controller),\n                 (insts, labels) => {\n                   const next_element = head(controller);\n                   return is_string(next_element)\n                          ? receive(insts,\n                                    pair(make_label_entry(next_element,\n                                                          insts),\n                                         labels))\n                          : receive(pair(make_inst(next_element),\n                                         insts),\n                                    labels);\n               });\n} "},{"body":"The function\n      ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"extract_labels"},{"body":"\n    works by sequentially scanning the elements of the\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"controller"},{"body":"\n     and accumulating the\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"insts"},{"body":" and the\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"labels"},{"body":". If an element is a\n    string\n    (and thus a label) an appropriate entry is added to the\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"labels"},{"body":" table.  Otherwise the element is\n    accumulated onto the ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"insts"},{"body":"\n    list.","tag":"#text"},{"tag":"FOOTNOTE_REF","id":"#footnote-link-1","body":"1","href":"/sicpjs/5.2.2#footnote-1"}]},{"tag":"TEXT","id":"#p5","child":[{"body":"\n\tThe function\n      ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"update_insts"},{"body":"\n    modifies the instruction list, which initially contains only \n    the controller instructions,\n    to include the corresponding execution\n    functions:","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":3,"eval":true,"prependLength":446,"program":"chap=4&prgrm=PTAEGUEkGEAVQFLlAVgHQCZMChsDMBXAOwGMAXASwHsjQBzAUzIH0AnBuigZzIdYAoAtgEMSACwpEGAGlDs6zIsMEMAlKADe2UDrlMCrWiPGSG-AESMW87r1bnV-eYuVqA3NgC+uQqUo1QMgBPAAczSR5WAnJqInUNPTIDWjEGYQATfgiyKJiaVTdQb3xiPNoAGyoqAGsCEOYQ1gpBfi4gwQAjKnLZKjDWYX8iLnjtXRIaHlAAN2Fy0ABeUGEuLioSVvauntA+vkHYkY9dROTQbmZidIY8U0zZ8tUxk5eAflA+VioBNs7u2XMxGqRCoAHdaHsBkNQABaGHLVYMTrlBgOZ4vXQALlAqQy-DIwgo5X4D1UBS8PlK0MqNTqzHKwg6DGJDKZ5S4slZzJcKlGJwmwzIMzmiwRaw2XPKPJkoElR3R7CShnOXEuRGutyk9zmTwxbw+rC+Akl0oBVxud1ljOZsPhKy4SI6KLRepO2IJRJJOo8xV8ZVAImqDAaTUEFEo02DDAAHvUbvwYyFZMYJFJOdb2XzdBQ8KAsqqBTxhEQWImE7GyZp0fzJkKSKLCwSS8xE8wHgQzInya7FWd+OoFgA+UAkY66TwfdkMc65-P0jMt2PlkKVrSuxvnQVcUU02r1SX8OXptmL-cZ5dkscY3vK-uLYfZLhXoqTh0zvMXGw8Pini9ZjEbqwopWGwHC2HwQiiKmMpfnYp6gXQf7PicN60HeQ70EwzACrwJZcE4BSgOiE7Mm+a56p83zLmaRDAmCtCJuwqyxIEoTTnCYqOs63bjhSJR+CxgbBpCBw0PB8aJsmUGmMepG9P0onDP+I61rsIQ7lUe4hs0-AiUM8F9Be8n7EM8o1oKyy+NuSwiCECb3gGwhBtpYYRlGsYtngCZSSYaZWmyIzSNWrohXpsQGQp6r4V2PE6KheYDsOwghCE5RBMwkhqtcrBpZICgAFbCLMXAkE0IRkPwwUhRifRSXZuYYV5qiyMIVmXnxfrQvaFB0EQThgd+rCmqAawGCQahVih+jKuUtgWN1vXmLIsE-koKiyKNrDjeS3idSxC1EAh0r8AdGWCrkQzKfFuKZB6xKndkF2xO1u1UvtzG9W2cwdr+D3ndEl2aERU1KikaS3YSxJ3SdH2HY9APPS9lICQEQnMKd8bZD50GyeyxlQocsghCQykbgSrBWMBWErQIKYyWKPWHc4a3hIK7XmVM7buepSynVzv7ZLFKkWfzviLFVKrMGFYllvzXYS+8aPS4drbxnLsbY-TR5qSZhy6nq2Jo40zThhQkbiV56tJo5vkynKQvxehw7kdVugOiwOEMHh+LCBTTCyKLxD9kLrsZLMpDBsT-DE4REvjj6yP+mHxbjQ0Gwx5NbtYZ73vE7I0MgTnZD4THl5Eb6b2o05wa8DwnlZIKmt+dryscqAeAMnQRMk5nOgbgK6SmwESy1x7NCD0MDc8ELOYfqqyu-gPQ9xMpHN1uPy-MGLNnV1LCn6arXlx67J99xvQxNzKx+n67Lf73ryG6I7iW9zfOju9hNC4cX-Ad8IXfCwnuFXwwdH6n2ThHNO0cSaFGvicTwz4SJTlficSiAgsagHMB0DIgQGBTHhv6Di9ouKoiFt4CuKNaCj34EvQGCR4qzR4BYUeS1AHL0Iq9ShuC660NiPiPBLACF0IVNNMGeJoajzOpEBG+RY4UP9GjDoAxSBiHrhgumzcMxtz-gAjOLthZTGuFMJYSiU6qKMRVQWz5Z5zhNGWCxq4JYbkfBpWkZ42SHi0bjeCB4HEhyfqIhKDl9FvxsYXL+Xsf46McW-V0H8i4lxILIR8-jT5ILInA0O6Rw6pyjjHMBJ9vBvwQcRV804Qm6DQVPMgAJsHpFAKYlRm5pGELtIiZEpDEEdUrrQRp4hPFsniKcGac0sHKPEKwyUHD+L+j6eYgR-A5lSJyDIuIr9rrgx9p6JZQjEawPkdCC4BI6CMHSPSOaExBAhBoJE-OqRmDHKuoEi4IRCQCEudcqQJZ1AADIfk4k2R8m53zFgLBHvc45CcZnQnkPwFmQyGGjPkKw+FhROH+k-ANOCZYuxA3ikc-+pzzlMMkpg5F0y9oBBpvBWFuL6GBJuls4kMU0WJ2hI2YsFUuYIsCYwiq5gOUllYdy1llLaAXEFaWJcdKRGg0lscolfLqKYMlQ4BOYqDFNilfULmF48UMs2dDFlRQ2UsQPPC-VcqlXmElCi1wFKemSzsdKislqzgEpOQwM5SrSU2ozGqk1GrnXuOZHq+lcrGVGorNM6FLFDIWvDWca1fQ7W8lFY6i4C8cWuv0fi1UryKACFxX8+VhKvXEoqoyrsAIU07VjQELNHlDJ9FPDyiNhrIb8EZS2mKDquGNvqCJKKuk4w5uGVQztPaKysvrUYXedAqAPMXZjRuNscb+TkqAPR6INwWOAousgi6LHVJnrOC4wb+B+JQeMVSLili7jpAebWwb5weL8QU5+Dl4kRNzkk5pxcyFlPfHOal9iBExL1IBDgVNrBYoghomCcGhqtlhe+iWn6MLfpLJExJshwnYe9vIdm44gMVJ0FUjBWCcELqXf+p6AQiHtKdJ04i3SuE0cPQM5kbak2jI41QSZGY+3+n48wY9ondn5CBrKs4kbO0Sf+mUMubH-TXLskWEg1Qnlyo09UCwam1UUg1SEAgXAxCtAJJpgO30Jq5sCbp-TpmxAOC9OUDsdbZ2OWclwIqUYvLqOkn5XT3dSaqXkDBhC4FaaBZlLp5ZR0WYnodoEp216QombMxZ0Q1Q8PZx-T-IjqTXQQNyenGB18SnouhGjJih72BqNXQhjalmctbp7voqDdAIs00grbZr2X4vM1cEl58GHnaZPfnlgjBWOBE0Mrp4j4Dskp0jmV2OrtKumoCD5yM-U6A8ZGUw8wO3UTLQ4MJmFAjvhmCI26w7-LavXdYUR9NXC4vZAS8N97inhEg1kx2z032WmXQ8xqo2fA8DfEEA1ngl9cZt1biF1+G5RDQiWP0SHrBoeo74VY9ENjM33xlkuHHsi0uauWGULexBRRKyJyrDy8ZSdEDhxN2J7OdB311pMIrY3pMc8p-pEB62OcldW9AkXaTEGkYlhR1dVH6kY6h3R1ZtpOIdMM-AlT0IldY5Okpu7FRRm68EKw5nF2WIm-RmUaOEOofLPo2suz7bxGdqt5JleUKwe7xjAwEgBAhc9OqfDuHwMBenzzu3Tu-WrNqRGOswJwQwgntBUscwB1zDX0VrvDG-nGsxZD3HkL193RsRT2CtPLCs9eZrgImHNS11ay8UXqP-9i+u1L8nwWqfMFzMz67bPzklkrth43zRAVZA6Pb9VTvrNp498sAegT1e0aiZHw3prG68Ztf1iFWf5ewWYJO-36qg-gwnfr6H4LO+S+sS72zBfj32An5Cmf0CPBruX7H7Flr0+9937nzIAHEP3MAy1UREFYCDCGkPWYF0xf1dDfzAOYAgKgKXVgJa3rk32vxjlvyT0AOALT3YEjFYBYDixgJQL4HgL1DfyIL4FIIwPIN9lQPjCwN-xvw7wAIPzTxNyoIxEQLtyxy-03zvjbhwI4Ll1H0BFohBHBBV39DwLV2IQ11B0dTRmyGqU-hLC+HKBRCGg920zOALXQUFE0JyG6F0Id1WVkCIAIB0LrQ1Q+xwm0IsI9xT2d3+zxDxyqxYg+19390Dz6m73cOVGhi8M8w-l8OjD9wD2ASDgwV8GUg-lCNXQSK91UN3jsS0KCC4ylBZmSS3AMOVCMJyOGhSTSK4RjByFR1fVIhoS-mcL4DO3GjNlsxk2VAuBsJ0LqK0PML4F3wQL0GaN206J2BGP6INg+GjCqPIBqPZEqnZ2hicN6NYGajZx0GqTbntmCTWJvQsikCmJbBRBUBLFFEZSWJ0L6IKVdjzXQKaCIEQn2NLCOMiXGPD1AHeHYCGMAI5B2IF2KLRkyJyGyMeMOKRFuV+LeIFxSSCkhIF3tlePD2xE+IYBaOjjeUgmcnUJBOZDBO+RhNhPZ2hIhPZ3tiuIxE8BUK4SUOY26LMIuNYEvkKIYimIGBmLlFpIaIZOJIxA2PhxfjI1hLqHSEGGDEfF5K3zbgQyK0hPxS3DJNiQpPKIUV3gc2UhRCFF01FBGOfHVPbgGBUC1NsPKGfGMyc2QKYIglXl0DwH1OnHR3ROvxtPtQ-UCXMHSBuXMC6ROGMxbQoIECtPfha1OM2SdLTQllDLtMCE7QjN51dPdKkE9NY29MdTAP4GjCGQlk1PtMLTTJjy01gR7DjI9K9OtJTMMgDOAw6KNKy00wg2qiqXMCRHKiCBGiDI4gMyK3SXKTgTJj6GDLxAW3lNbOy1FGhkHLgXikPRCAKSKV4mTK4UkFNjmAoAAC8zAKyszQBtT0MiyEySydANVB4uBXkyB+kVBVh-5WjCy5VzyfNGAF8wDeDX8t0nM2dDY8E7y7SQCDM2d3g1N+w3yAwPzLyHyzS-SnyBikC-SAK353yLz7yK9ME1NzTIDKDfyt1fSLT-TALbyQLELzBFzKBly1yILqDNwlzZo1yYKb5sQqlcLGAaI6JZD2AABHDsKYDiOAshNo2gI8k88QJU6rXeKCrCtAuLFggvYc2PbdP7W8fkiEkS1Cn4FraU6qMXKBfJHYzbb3ZyWgkg9AgbRgpSzAyS7A9rHioJDCAU12ZC6C8cgXdSvJGBMPYpQSy3MC0SmA1Uw3WUY3Dy4yrylrANbwqlBgYg+gwyxdaCg7I3I7PSiKzTNA8CmNH0+oOylShPHTFrfTTCpSwzEK2gRSqAmsrTTKs4BzUA-yqA-KrbOdXSpDOFe1V+XUhJUUcwAAKmIAOi9XasTPnP9D4sGDPOAsYArPinoq-LTysFIr4OFm-i4BwpGsmqPyYBmv1C5mCTmpw1FC5lZVgoNCNCECWsYpkNoFYvYqFA4hqyQ01znICTlUGtPLEDcoCAfTsiDCCHzkZBRFCwsk+O+HqV5lWHWH4A+q+s9AJGY0W3HUlnNE1C9X6gmFYHSARJOHeDhruFwM7X+uRvsMdXtBBrBsGIBvj2CPFVVBGMRpJtRt0HRvVAtC1FvwYDYrmFBoYE+oBTxEZRxvSBGDJGr25r92ptvwJo2CJuhh5r5petoHw3mr2yiyZL0E4EGgsGmrxreymzlppmszcyvPurOB62O1WscBFW10El3ikFBHNNtjvA61UmJlp13kNuJlurPgsh0UdvquVrsAsB0Vdop03LRlVJ1KYECHuQ91gOZo7AjkNJ0JDqFDIHuT6Gsl8qYWtUIooGIvPyCtkFSwqozqzocGht1OpUhpRB3DmmtRdpC05FGT9sn07mho1TmEqBIBFMixVoTQlgJ1VAxq1BhnFEavWiVqiweW+rUDrJClLvHtFGKKVTyJrw7p9vhVWIJOqmnqhpnJlxPiqQXvMEEFsMoFShbI1EtBpn9q12vLOHMBpmWB0PWBFPSD6ruoPMdTeqXogi7vXFUgeFFFFqHsQ29p-DLvcB3LlQuD7oRtJHQt3tcBOvohHsGhdBos5ohk9FJG4v6uhD8ID3XPJ2cS3AiwSQlwKR7sUGrJSQrNktoDdOLIli7PJxOEiOiICK7U2Uof7CHPihwd4E4foaTNLK4UeuGvgr1oxA1SLBINtrgSwzlsj0TtFJ+3CgdDYq9m2i4cCR4fXJnLAbOAmoX0kbIDWrRuHKkZpoxDgs-IX2yBbssKpxUejvGmMdppGmZs2oUbsf0gcbUcjJUb2pQf0fwpboft4A-vsHQuCbbtCZpkWtEYXxAnPvQvfpif2sCZAJsZ0L3m52GGcZ0HeGTvcaTpCBTuSjCHVHxCKYR2KemVSaWoMaCvQt01iasfwtblyfeLDuEmKcArouOswSBFOr0FUY4vhAQ39tnLikCWEeerNqrmcgQ3lsGmlCqbbnON0N+qmAQ09uDEtutugj4e9O+BbCgkWbghZgcjZwWfT3vqieDHPscGpXhVkEyUedcDMl0CuYyalDaccGTqFk+cFFsYju8YjmQZCgHpIQ5OWMZOSxvJi2ltMYqilLKuVCucMZqo1QSaQ1MJw163XVed5BRZls1txaxaAeiz60QbOftXVv9A-mpWIc3wJZlG5VflkdJepgaqZexaeeFF1thevvjNRARaFPbrFMfEL2RbtosgdqWDJaizxfplAJIH9o3A9rlc5fJcVb8nMD9qFg3EDpiwsC4ufA3AKZ3htvMB+dG0CUx2Of6WyC-SwmYf8NiL6m5Ndixg9eqjRh4bdZt29dPkcPqOWM8dxzZnxLXpCm1k3zzkDZPinyktaz+dXqhIKKhQ3DoBIDOS2YWHRDRgWYlmtWEFYSwVLaMdTYxCVWtXYFN1zuEFkA6BfmEFAAAFIGlK3qprUFhWETpG3m2e8m3O2TglVj5zBJEOglo4FqElVDJzAe3molaLBJ3F3JV+AAAGMkYdvUOZHI1W7NsTD0skSNkKA6ZhSZOaOd2thwM7RCdPG9pdstrdk94rWGeaZ7DgZdoul9vUM9st298949uBfjPd8duvFd7dk4SwA9oVoujwel7F4hrNnNyS+92QDAddgANnJAQ-JZxe9mQ72aVcndkAABZN34PyYKpCOpSPB5WlmkOD3N972CggA","body":"function update_insts(insts, labels, machine) {\n    const pc = get_register(machine, \"pc\");\n    const flag = get_register(machine, \"flag\");\n    const stack = machine(\"stack\");\n    const ops = machine(\"operations\");\n    return for_each(inst => set_inst_execution_fun(\n                                inst,\n                                make_execution_function(\n                                    inst_controller_instruction(inst),\n                                    labels, machine, pc,\n                                    flag, stack, ops)),\n                    insts);\n} "}]},{"tag":"TEXT","id":"#p6","child":[{"body":"\n    The machine instruction data structure simply pairs the\n    controller\n    instruction  with the corresponding execution\n    function.\n    The execution\n    function\n    is not yet available when\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"extract_labels"},{"body":"\n    constructs the instruction, and is inserted later by\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"update_insts"},{"body":".\n      ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":4,"eval":true,"prependLength":447,"program":"chap=4&prgrm=PTAEGUEkGEAVQFLlAVgHQCZMChsDMBXAOwGMAXASwHsjQBzAUzIH0AnBuigZzIdYAoAtgEMSACwpEGAGlDs6zIsMEMAlKADe2UDrlMCrWiPGSG-AESMW87r1bnV-eYuVqA3NgC+uQqUo1QMgBPAAczSR5WAnJqInUNPTIDWjEGYQATfgiyKJiaVTdQb3xiPNoAGyoqAGsCEOYQ1gpBfi4gwQAjKnLZKjDWYX8iLnjtXRIaHlAAN2Fy0ABeUGEuLioSVvauntA+vkHYkY9dROTQbmZidIY8U0zZ8tUxk5eAflA+VioBNs7u2XMxGqRCoAHdaHsBkNQABaGHLVYMTrlBgOZ4vXQALlAqQy-DIwgo5X4D1UBS8PlK0MqNTqzHKwg6DGJDKZ5S4slZzJcKlGJwmwzIMzmiwRaw2XPKPJkoElR3R7CShnOXEuRGutyk9zmTwxbw+rC+Akl0oBVxud1ljOZsPhKy4SI6KLRepO2IJRJJOo8xV8ZVAImqDAaTUEFEo02DDAAHvUbvwYyFZMYJFJOdb2XzdBQ8KAsqqBTxhEQWImE7GyZp0fzJkKSKLCwSS8xE8wHgQzInya7FWd+OoFgA+UAkY66TwfdkMc65-P0jMt2PlkKVrSuxvnQVcUU02r1SX8OXptmL-cZ5dkscY3vK-uLYfZLhXoqTh0zvMXGw8Pini9ZjEbqwopWGwHC2HwQiiKmMpfnYp6gXQf7PicN60HeQ70EwzACrwJZcE4BSgOiE7Mm+a56p83zLmaRDAmCtCJuwqyxIEoTTnCYqOs63bjhSJR+CxgbBpCBw0PB8aJsmUGmMepG9P0onDP+I61rsIQ7lUe4hs0-AiUM8F9Be8n7EM8o1oKyy+NuSwiCECb3gGwhBtpYYRlGsYtngCZSSYaZWmyIzSNWrohXpsQGQp6r4V2PE6KheYDsOwghCE5RBMwkhqtcrBpZICgAFbCLMXAkE0IRkPwwUhRifRSXZuYYV5qiyMIVmXnxfrQvaFB0EQThgd+rCmqAawGCQahVih+jKuUtgWN1vXmLIsE-koKiyKNrDjeS3idSxC1EAh0r8AdGWCrkQzKfFuKZB6xKndkF2xO1u1UvtzG9W2cwdr+D3ndEl2aERU1KikaS3YSxJ3SdH2HY9APPS9lICQEQnMKd8bZD50GyeyxlQocsghCQykbgSrBWMBWErQIKYyWKPWHc4a3hIK7XmVM7buepSynVzv7ZLFKkWfzviLFVKrMGFYllvzXYS+8aPS4drbxnLsbY-TR5qSZhy6nq2Jo40zThhQkbiV56tJo5vkynKQvxehw7kdVugOiwOEMHh+LCBTTCyKLxD9kLrsZLMpDBsT-DE4REvjj6yP+mHxbjQ0Gwx5NbtYZ73vE7I0MgTnZD4THl5Eb6b2o05wa8DwnlZIKmt+dryscqAeAMnQRMk5nOgbgK6SmwESy1x7NCD0MDc8ELOYfqqyu-gPQ9xMpHN1uPy-MGLNnV1LCn6arXlx67J99xvQxNzKx+n67Lf73ryG6I7iW9zfOju9hNC4cX-Ad8IXfCwnuFXwwdH6n2ThHNO0cSaFGvicTwz4SJTlficSiAgsagHMB0DIgQGBTHhv6Di9ouKoiFt4CuKNaCj34EvQGCR4qzR4BYUeS1AHL0Iq9ShuC660NiPiPBLACF0IVNNMGeJoajzOpEBG+RY4UP9GjDoAxSBiHrhgumzcMxtz-gAjOLthZTGuFMJYSiU6qKMRVQWz5Z5zhNGWCxq4JYbkfBpWkZ42SHi0bjeCB4HEhyfqIhKDl9FvxsYXL+Xsf46McW-V0H8i4lxILIR8-jT5ILInA0O6Rw6pyjjHMBJ9vBvwQcRV804Qm6DQVPMgAJsHpFAKYlRm5pGELtIiZEpDEEdUrrQRp4hPFsniKcGac0sHKPEKwyUHD+L+j6eYgR-A5lSJyDIuIr9rrgx9p6JZQjEawPkdCC4BI6CMHSPSOaExBAhBoJE-OqRmDHKuoEi4IRCQCEudcqQJZ1AADIfk4k2R8m53zFgLBHvc45CcZnQnkPwFmQyGGjPkKw+FhROH+k-ANOCZYuxA3ikc-+pzzlMMkpg5F0y9oBBpvBWFuL6GBJuls4kMU0WJ2hI2YsFUuYIsCYwiq5gOUllYdy1llLaAXEFaWJcdKRGg0lscolfLqKYMlQ4BOYqDFNilfULmF48UMs2dDFlRQ2UsQPPC-VcqlXmElCi1wFKemSzsdKislqzgEpOQwM5SrSU2ozGqk1GrnXuOZHq+lcrGVGorNM6FLFDIWvDWca1fQ7W8lFY6i4C8cWuv0fi1UryKACFxX8+VhKvXEoqoyrsAIU07VjQELNHlDJ9FPDyiNhrIb8EZS2mKDquGNvqCJKKuk4w5uGVQztPaKysvrUYXedAqAPMXZjRuNscb+TkqAPR6INwWOAousgi6LHVJnrOC4wb+B+JQeMVSLili7jpAebWwb5weL8QU5+Dl4kRNzkk5pxcyFlPfHOal9iBExL1IBDgVNrBYoghomCcGhqtlhe+iWn6MLfpLJExJshwnYe9vIdm44gMVJ0FUjBWCcELqXf+p6AQiHtKdJ04i3SuE0cPQM5kbak2jI41QSZGY+3+n48wY9ondn5CBrKs4kbO0Sf+mUMubH-TXLskWEg1Qnlyo09UCwam1UUg1SEAgXAxCtAJJpgO30Jq5sCbp-TpmxAOC9OUDsdbZ2OWclwIqUYvLqOkn5XT3dSaqXkDBhC4FaaBZlLp5ZR0WYnodoEp216QombMxZ0Q1Q8PZx-T-IjqTXQQNyenGB18SnouhGjJih72BqNXQhjalmctbp7voqDdAIs00grbZr2X4vM1cEl58GHnaZPfnlgjBWOBE0Mrp4j4Dskp0jmV2OrtKumoCD5yM-U6A8ZGUw8wO3UTLQ4MJmFAjvhmCI26w7-LavXdYUR9NXC4vZAS8N97inhEg1kx2z032WmXQ8xqo2fA8DfEEA1ngl9cZt1biF1+G5RDQiWP0SHrBoeo74VY9ENjM33xlkuHHsi0uauWGULexBRRKyJyrDy8ZSdEDhxN2J7OdB311pMIrY3pMc8p-pEB62OcldW9AkXaTEGkYlhR1dVH6kY6h3R1ZtpOIdMM-AlT0IldY5Okpu7FRRm68EKw5nF2WIm-RmUaOEOofLPo2suz7bxGdqt5JleUKwe7xjAwEgBAhc9OqfDuHwMBenzzu3Tu-WrNqRGOswJwQwgntBUscwB1zDX0VrvDG-nGsxZD3HkL193RsRT2CtPLCs9eZrgImHNS11ay8UXqP-9i+u1L8nwWqfMFzMz67bPzklkrth43zRAVZA6Pb9VTvrNp498sAegT1e0aiZHw3prG68Ztf1iFWf5ewWYJO-36qg-gwnfr6H4LO+S+sS72zBfj32An5Cmf0CPBruX7H7Flr0+9937nzIAHEP3MAy1UREFYCDCGkPWYF0xf1dDfzAOYAgKgKXVgJa3rk32vxjlvyT0AOALT3YEjFYBYDixgJQL4HgL1DfyIL4FIIwPIN9lQPjCwN-xvw7wAIPzTxNyoIxEQLtyxy-03zvjbhwI4Ll1H0BFohBHBBV39DwLV2IQ11B0dTqHSEGGDEfGqTbm1gQ1CwsmJm6yQ163XVAJIE1xvQsh0SMM4EGhMPpnMB0QsLPgsl01pxiwsDgKFg3D6Gsm-wsFbmcPHXbm+BbCgmqS-Swg+19390Dz6jZ3ZyxgSNiTRhiID2ASD2SIFw+xwi+HKBRCGg9xPSCnD1iV0ILzaxKNKJvinxGjYN8LJCqI5xSS90dTRjsRLFYCCC4ylBZmSS3G0zOALWNAXD6P-XlAORYhjByFR1fVIhoS-jyIKLO3GjNlsxk2VAuCIAIHyIWM6O6AKN3wQL0FWN222PyNkHOMeFv2mIGHIDmPZEqnZ2hlyIOL4GamSO0PhxfjIxPg3CkGjFLBRBUBLFFEZVePyPeIKVdjzXQKaCIEQgBKBKREiSOOqPeHYFOMAI5CyI52GMgmcg6JyG6KRJbGBNuVxOqMSIGKaKpLfntjRNKOxExIYDWOjjeQJM0MFDhWmLJJRO+VpLpNPhSUFKFIxHtmhIxE8BUK4SUOYz2JyDeNYEvkGOVFuNmLlAVKWL4FFPDy+K33jwwl+OqLUI0OWXwkfELz0MlPD3xS3BtOKRlIUV3gc2UhRCFDcKWCuOfHdPbgGBUFFG9PRGMyc2QKYIglXl0DwH9OnHRw5Ov2jPtQ-UCXMHSBuXMC6ROGMxbQoIEEjPfhazBM2UTLTQlhLNjMCE7XLN5xTLTKkAzNYyzMdTAP4GjCGQlk9K3Q5OjBjy01gR7FrPTMzKjObMMnzOAy2J2OJAW3HNQUNConMCRHKiCDqOyzVwMyK3SXKTgTJj6CLLxAWwdM7OhkPLgXikPRCAKSKV4ibK4UkFNjmAoAAC8zBxzOygyBy5VUyhzGyRyuFB4uBXkyB+kVBVh-51jPyzhQKfNGAF8wDeDX8t0nM2dDY8EYLYyQCDM2d3g1N+wUKAw0LwK4LQzcyELjikDcy8K35UKwLYKK9ME1MwzIDKDsKt0czwy8z8LoKiL6LzB7zKBHyXyyLqDNwHzZoXyqKb5sQqluLGAaI6JZD2AABHDsKYDiLw4cuKQJACoC8QVorhI2EijitAuLFgio7A9rDYtCH43EiijirLTTIrLJHJcXfJZIzbb3ZyWgkg9AgbRg5i5DLyVg7LJHZ3PsGygXRiyi08gXMXKBfJMPYpfS1TIygKkylrO8RNe7RzMzJi1AmAjSwNR1by+gvyxdSig7I3I7Eq3yzTNA0imNbM+oaKlrVU2gBzUA9igKwzKrS3VKqAhyrTBPHTDK0A-qygp06rXeHrBNdEX0hJUUcwAAKmIAOi9SWobNvP9B0sGBAsIsYHHPilkowrTysGEr4OFm-i4C4v2pOqPyYHOv1C5mCUupw1FC5lZWooNCNCEFuvkpkNoGUtUqFA4hqyQyCOvK0rlR2uArEGSupE0jqH4CDCCHzkZBRH0KmExO+HqV5lWHWGRoYFRsrM9AJGY0W2CIuHNE1C9X6gmFYHSEZP1GpruFwM7WxoZrrQ1XtAJpRpWJxvjzCs2NVCuLpoFqZpOHeBZq1BuJUrmEJuJsZUZQ5vSBGDJGr2Vr93Ftvx5o2D5pJuJBVrVvhpYnwyur2yizar0FsLsAsDOq5sdSw3NppmszcwgoCTlR62OwescBFW10El3ikFBDDNtkyp3VUkMJ3i8uMLMKCI3GsKjuDC9qcO8NUk7LRldJ9KYECHuQ91gIYBUq9nGkDKnKzqFDIHuV8J3DmmtX4ooEEvPxa1YVSw6rrobocApt9OpTJpRGrqYWtWJlYRjk5FGScMn07gpu5vyPWDNJmvtXJwJ1VGltpt1rhVcDOxtp-B7rUAg2qm7vRorPxKVTGLBs3oEHhQ+LFIHLPoeQPs3JlxPiqTGPMEEB2MoFShXI1EtBpiCK10guVHMBpmWGnpIA0PSE2pvL-P9AfXqDnt5HJw3AeFFFXrGP3vJuTLlSpvVAtC1FcwlpEqfvXswSBAButqixdCkoBVd09FJDIWDMdTSN4DDvXFvS3AiwSQlwKUXsUCnO0N3pCnim-PrKvIftdmiOjD93SLEhAUZRSUcCco9rOEYdfKvN-J0A1Rhr2tovdoxA1SLBIOYddidpw2gTuS5OB3CgdELojgUahqUYkdiJUYlkhpeCOtuoX30bIEesltXIMfwYxBovQoX2yDmClDzqsY7Ajm8d0HeCsZeorvMZWSpwiaLorKsc+soeOoX1CZnt4Ei0GmiZ0HeBydAbyZphuu0YXxAh-tYpgfybsAqaCd4pCfyL3m52GEKdAHeCrqNJzuEhCD8OSjCHVHxEroGfkiOBNS+qyd4rgNYt00aZ4pAMCNYoSb3muq+pkr+uIekPoj0ELrUvhAQwhqstAE0bhv9qrmcgQwtsGmlAR3Gcuu1NYExqFAQ3cOciDpDugn7GfExzCP6WpRZgcjZxufTxAdnvBscCBftVkEyRhdAqFjBZaalECMcAaOfGRcFFCYd1WXzusfGgoZChhgdA6S1KVJVOSzlQQxNu23Jgqj0OGqgo8OO3pZ6s82qaQ0-mm3wk3wRZ0eCLNpMc5bPvsL8n5aRj0epi5Y4b5a5bGO5VfmMe9hFaizFcQxvvhVdvc1G0HOEcubnWcmyGqW5cVMhMKJ+2eiZeVHxJyMWKVNxbKEuKnIdrvMFFNeecdcnm7yFrEUyDx16oCHEckbiJT19YNpPXVUdqiPdcYYyL6gwV8GUg-mhkTeIA8w3DoBIDOXeYWHRDRhuYlmtWEFYSwVLa8cvr1CVWtXYFN1kBOlkA6BfmEFAAAFIGlK3b5RkFhm7hBG3m2e8m3O2XglVj5zBJEOglo4FqElVDJzAe3mpraLBJ3F3JV+AAAGMkYd10OZHou27NsTdMxouBA6ZhSZOaOd2thwDe+aa9pdstrd3Ul4U99PZ7DgZdjup9k4F9ydm98dz9uBfjPd8duvFd7dl4SwA9us0hckD+alDhrNnNio192QDAddgANlg+lZvoQ4Pc3zLdkAABZN2PBPH+BEPvnTByRVW7ncOkO+tMES2CggA","body":"function make_inst(inst_controller_instruction) {\n    return pair(inst_controller_instruction, null);\n}\nfunction inst_controller_instruction(inst) {\n    return head(inst);\n}\nfunction inst_execution_fun(inst) {\n    return tail(inst);\n}\nfunction set_inst_execution_fun(inst, fun) {\n    set_tail(inst, fun);\n} "},{"body":"\n\n    The\n    controller instruction\n    is not used by our simulator, but is handy to keep\n    around for debugging (see\n    exercise ","tag":"#text"},{"tag":"REF","body":"5.15","href":"/sicpjs/5.2.4#ex-5.15"},{"body":").\n  ","tag":"#text"}]},{"tag":"TEXT","id":"#p7","child":[{"body":"\n    Elements of the label table are pairs:\n    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":5,"eval":true,"prependLength":456,"program":"chap=4&prgrm=PTAEGUEkGEAVQFLlAVgHQCZMChsDMBXAOwGMAXASwHsjQBzAUzIH0AnBuigZzIdYAoAtgEMSACwpEGAGlDs6zIsMEMAlKADe2UDrlMCrWiPGSG-AESMW87r1bnV-eYuVqA3NgC+uQqUo1QMgBPAAczSR5WAnJqInUNPTIDWjEGYQATfgiyKJiaVTdQb3xiPNoAGyoqAGsCEOYQ1gpBfi4gwQAjKnLZKjDWYX8iLnjtXRIaHlAAN2Fy0ABeUGEuLioSVvauntA+vkHYkY9dROTQbmZidIY8U0zZ8tUxk5eAflA+VioBNs7u2XMxGqRCoAHdaHsBkNQABaGHLVYMTrlBgOZ4vXQALlAqQy-DIwgo5X4D1UBS8PlK0MqNTqzHKwg6DGJDKZ5S4slZzJcKlGJwmwzIMzmiwRaw2XPKPJkoElR3R7CShnOXEuRGutyk9zmTwxbw+rC+Akl0oBVxud1ljOZsPhKy4SI6KLRepO2IJRJJOo8xV8ZVAImqDAaTUEFEo02DDAAHvUbvwYyFZMYJFJOdb2XzdBQ8KAsqqBTxhEQWImE7GyZp0fzJkKSKLCwSS8xE8wHgQzInya7FWd+OoFgA+UAkY66TwfdkMc65-P0jMt2PlkKVrSuxvnQVcUU02r1SX8OXptmL-cZ5dkscY3vK-uLYfZLhXoqTh0zvMXGw8Pini9ZjEbqwopWGwHC2HwQiiKmMpfnYp6gXQf7PicN60HeQ70EwzACrwJZcE4BSgOiE7Mm+a56p83zLmaRDAmCtCJuwqyxIEoTTnCYqOs63bjhSJR+CxgbBpCBw0PB8aJsmUGmMepG9P0onDP+I61rsIQ7lUe4hs0-AiUM8F9Be8n7EM8o1oKyy+NuSwiCECb3gGwhBtpYYRlGsYtngCZSSYaZWmyIzSNWrohXpsQGQp6r4V2PE6KheYDsOwghCE5RBMwkhqtcrBpZICgAFbCLMXAkE0IRkPwwUhRifRSXZuYYV5qiyMIVmXnxfrQvaFB0EQThgd+rCmqAawGCQahVih+jKuUtgWN1vXmLIsE-koKiyKNrDjeS3idSxC1EAh0r8AdGWCrkQzKfFuKZB6xKndkF2xO1u1UvtzG9W2cwdr+D3ndEl2aERU1KikaS3YSxJ3SdH2HY9APPS9lICQEQnMKd8bZD50GyeyxlQocsghCQykbgSrBWMBWErQIKYyWKPWHc4a3hIK7XmVM7buepSynVzv7ZLFKkWfzviLFVKrMGFYllvzXYS+8aPS4drbxnLsbY-TR5qSZhy6nq2Jo40zThhQkbiV56tJo5vkynKQvxehw7kdVugOiwOEMHh+LCBTTCyKLxD9kLrsZLMpDBsT-DE4REvjj6yP+mHxbjQ0Gwx5NbtYZ73vE7I0MgTnZD4THl5Eb6b2o05wa8DwnlZIKmt+dryscqAeAMnQRMk5nOgbgK6SmwESy1x7NCD0MDc8ELOYfqqyu-gPQ9xMpHN1uPy-MGLNnV1LCn6arXlx67J99xvQxNzKx+n67Lf73ryG6I7iW9zfOju9hNC4cX-Ad8IXfCwnuFXwwdH6n2ThHNO0cSaFGvicTwz4SJTlficSiAgsagHMB0DIgQGBTHhv6Di9ouKoiFt4CuKNaCj34EvQGCR4qzR4BYUeS1AHL0Iq9ShuC660NiPiPBLACF0IVNNMGeJoajzOpEBG+RY4UP9GjDoAxSBiHrhgumzcMxtz-gAjOLthZTGuFMJYSiU6qKMRVQWz5Z5zhNGWCxq4JYbkfBpWkZ42SHi0bjeCB4HEhyfqIhKDl9FvxsYXL+Xsf46McW-V0H8i4lxILIR8-jT5ILInA0O6Rw6pyjjHMBJ9vBvwQcRV804Qm6DQVPMgAJsHpFAKYlRm5pGELtIiZEpDEEdUrrQRp4hPFsniKcGac0sHKPEKwyUHD+L+j6eYgR-A5lSJyDIuIr9rrgx9p6JZQjEawPkdCC4BI6CMHSPSOaExBAhBoJE-OqRmDHKuoEi4IRCQCEudcqQJZ1AADIfk4k2R8m53zFgLBHvc45CcZnQnkPwFmQyGGjPkKw+FhROH+k-ANOCZYuxA3ikc-+pzzlMMkpg5F0y9oBBpvBWFuL6GBJuls4kMU0WJ2hI2YsFUuYIsCYwiq5gOUllYdy1llLaAXEFaWJcdKRGg0lscolfLqKYMlQ4BOYqDFNilfULmF48UMs2dDFlRQ2UsQPPC-VcqlXmElCi1wFKemSzsdKislqzgEpOQwM5SrSU2ozGqk1GrnXuOZHq+lcrGVGorNM6FLFDIWvDWca1fQ7W8lFY6i4C8cWuv0fi1UryKACFxX8+VhKvXEoqoyrsAIU07VjQELNHlDJ9FPDyiNhrIb8EZS2mKDquGNvqCJKKuk4w5uGVQztPaKysvrUYXedAqAPMXZjRuNscb+TkqAPR6INwWOAousgi6LHVJnrOC4wb+B+JQeMVSLili7jpAebWwb5weL8QU5+Dl4kRNzkk5pxcyFlPfHOal9iBExL1IBDgVNrBYoghomCcGhqtlhe+iWn6MLfpLJExJshwnYe9vIdm44gMVJ0FUjBWCcELqXf+p6AQiHtKdJ04i3SuE0cPQM5kbak2jI41QSZGY+3+n48wY9ondn5CBrKs4kbO0Sf+mUMubH-TXLskWEg1Qnlyo09UCwam1UUg1SEAgXAxCtAJJpgO30Jq5sCbp-TpmxAOC9OUDsdbZ2OWclwIqUYvLqOkn5XT3dSaqXkDBhC4FaaBZlLp5ZR0WYnodoEp216QombMxZ0Q1Q8PZx-T-IjqTXQQNyenGB18SnouhGjJih72BqNXQhjalmctbp7voqDdAIs00grbZr2X4vM1cEl58GHnaZPfnlgjBWOBE0Mrp4j4Dskp0jmV2OrtKumoCD5yM-U6A8ZGUw8wO3UTLQ4MJmFAjvhmCI26w7-LavXdYUR9NXC4vZAS8N97inhEg1kx2z032WmXQ8xqo2fA8DfEEA1ngl9cZt1biF1+G5RDQiWP0SHrBoeo74VY9ENjM33xlkuHHsi0uauWGULexBRRKyJyrDy8ZSdEDhxN2J7OdB311pMIrY3pMc8p-pEB62OcldW9AkXaTEGkYlhR1dVH6kY6h3R1ZtpOIdMM-AlT0IldY5Okpu7FRRm68EKw5nF2WIm-RmUaOEOofLPo2suz7bxGdqt5JleUKwe7xjAwEgBAhc9OqfDuHwMBenzzu3Tu-WrNqRGOswJwQwgntBUscwB1zDX0VrvDG-nGsxZD3HkL193RsRT2CtPLCs9eZrgImHNS11ay8UXqP-9i+u1L8nwWqfMFzMz67bPzklkrth43zRAVZA6Pb9VTvrNp498sAegT1e0aiZHw3prG68Ztf1iFWf5ewWYJO-36qg-gwnfr6H4LO+S+sS72zBfj32An5Cmf0CPBruX7H7Flr0+9937nzIAHEP3MAy1UREFYCDCGkPWYF0xf1dDfzAOYAgKgKXVgJa3rk32vxjlvyT0AOALT3YEjFYBYDixgJQL4HgL1DfyIL4FIIwPIN9lQPjCwN-xvw7wAIPzTxNyoIxEQLtyxy-03zvjbhwI4Ll1H0BFohBHBBV39DwLV2IQ11B0dTRmyGqU-hLC+HKBRCGg920zOALXQUFE0JyG6F0Id1WVkCIAIB0LrQ1Q+xwm0IsI9xT2d3+zxDxyqxYg+19390Dz6m73cOVGhi8M8w-l8OjD9wD2ASDgwV8GUg-lCNXQSK90dTqHSEGGDEfGqTbm1gQ1CwsmJm6yQ163XVAJIE1xvQsh0RKM4EGjKPpnMB0SqLPgsl01pxiwsDgKFg3D6Gsm-wsFblaPHXbm+BbCgmqS-SwkiOiICMqnDxPixjZ3ZzRj8JiLEjFQWMWJvkcK-mcJ-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","body":"function make_label_entry(label_name, insts) {\n    return pair(label_name, insts);\n} "},{"body":"\n    Entries will be looked up in the table with\n    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":6,"eval":true,"prependLength":453,"program":"chap=4&prgrm=PTAEGUEkGEAVQFLlAVgHQCZMChsDMBXAOwGMAXASwHsjQBzAUzIH0AnBuigZzIdYAoAtgEMSACwpEGAGlDs6zIsMEMAlKADe2UDrlMCrWiPGSG-AESMW87r1bnV-eYuVqA3NgC+uQqUo1QMgBPAAczSR5WAnJqInUNPTIDWjEGYQATfgiyKJiaVTdQb3xiPNoAGyoqAGsCEOYQ1gpBfi4gwQAjKnLZKjDWYX8iLnjtXRIaHlAAN2Fy0ABeUGEuLioSVvauntA+vkHYkY9dROTQbmZidIY8U0zZ8tUxk5eAflA+VioBNs7u2XMxGqRCoAHdaHsBkNQABaGHLVYMTrlBgOZ4vXQALlAqQy-DIwgo5X4D1UBS8PlK0JE1QYDSaggolGmdIYAA96jd+OyQrJjBIpLJysIOgxyiNNOiKHhQFkuMwJsMCUQWDzuRyyZKMTpFVMSItQLrlaqOcwHgQzDzydrToZZeoFgA+Q3HXSeD7ihjnGVy5jC0XlZhqq2jG1G85KrgGyo1Op+kVi-j+sVcIUJwM8+MB9UhMmujHsJJ2-gO53ZLj5ooerhe6Wyi42Hh8IMcnOarRhyZkOQGqxsDi2PhCUQCmR6ThN1gt+ryNvW7WFs4lxbOvuK3gqrhOAqgdHulNejvaz7fHMAoEg8EfDnsVaxQKhL1whE15Go+c6bzFXxlUA0umQgcNDTkGeBnn+I6mGmAaprs-RAcMobjF2cHRlUtT1I0zT8IBQwgX0ba9PBQxHOi4bCL4UZLCIITciuEG0vSzRMhQLIgVyY78lBoDJuKqjSOiNpCXB+x4ZmgFEOkW4hpWi7FqWywhCE5RBMwkiXJJfAqZICgAFbCLMXAkE0IRkPwgnCRifR8sItEyk6oBgfxyyUXmFIlH494rFwFB0EQTgDpOLgqLIawGCQaharockVLYFjeb5RDmLIjZ2MFY5hawEXkt4P7Qglfn9goSgqPwBVEGpSq5EMSE6DFOJpJkBJEmVd6Fdk1WxG5uVUl5bUVearKtuVlWRNENWaLuJz1biTWEsSzXEiNHXjV13WUp5AT-swI1ctkNkmIKPHprBuGHLIIQkLVhooQSrBWL2TBFYOAhcUdI3OCV4RKm5JzhoN04GiNANqtkH43UqMxzBazC+IsFk6BcZ3AWqIMagjoDvNtyMVZmXJo7yEGHWOvGncRhxPDa2LbVhjLMkNnJgQTB2jtBKbg-Vy4OUelk6DWLDrgwm74sI91MLIAO+CW4OWRksykHSl38JdO4Y26Hjfr1ARy8ICsNBsKtRXzT2C8Ll2yIt-BrjQG5kFuKt5rumubUYwiMbwPCgVkSos9xpNEaJ52OcKdAXVdRsQ3qNDpCxARLB7AvR7H-lg5Wda+jj078IqMc1ddf0oTnyew8QBrY+TKOmlyau87XRdDL7R017Xln+yJUIU5W036PJ9E8y3xuJyqQt2-weAh7I9exCX-m-QPug63rSsq4UzcnJ4lb7p6EcnCeAj7aA5gdBkgQMFMK2-s+3lIh0KIOJv7l5feCfZ0nE0JPV5RxeYCfJRDuddUKD1F2p9PZTxoPiM+LAL7v3RDNRqIsWoJ1GjkVa+RVbO1-NtDoAxSBiC9gfN6JMTqyHHsIUOoBDb93DNcKYSwcG63EMwWhZlU5Sh9BcXiWcWHtgxuGcsaFYz1F4kmEhx0AwgRETwmW0Ue60C5s6fuA907W2HsLMhdBeHz21PzBUNsR72xILIcsMja5bxrDvbRyx0jywivrZWV0u4t28APDee5qyHgxnvb2PAATH3SKABheCIxjUvvCa+b5757kflrWgQTxCiIDPEW0sUeAWHiWIP+vEdzAN-Bk5hUD+D5JgV1CO8C8SW2KVVNBcQMEbV-BcAkdBGDpD9HFCYggQg0BHhbVIzAmnXXqhcEIhIBAdK6VIFU6gABk0yGp4nGd0qZiwFjxz6U0jW9ToSzi+skz+395B-12UAjyDT5SpWbMGDUk0hnyiaS0tpaSeQAkOTk052zAppUzLOK0Ny5HzLmi1GSRQtn3iNLrMyg09n-K-mk8w4KVR-yhScp+AQLgIpNLRX5-dbn9PIQ82FZlnmHwxVE3J0IMUgUGm2P5RYUgIMtsCzB0IRG7NpWcQlFheJHNcG81FtBOHpiztilJ5w7n4oYK0zlxLzDcr5bE8RYpJHphpR-f5s1EHEiZaCgIBE2VqrpTxb+fQeUqHlSApGFdcatmxXA-5wzRk0tmWKvFzTJWPLMhqq0AITU5XefeTO4laJ9GnNCw1GrLYapDSGc1v5A2mgklJHCnJrkGrOJbaNGoTn+q2m7OkdAqD9MLXtH2RNWaKvFGHa6NCoG9kLWQQtLCfFkHBunQVEi1TSMsTqFCAilgxgwlmRMbcuGZikVAueBZ-kKNALo02o9zYhLtuDcxtYOHnM+Zc1sXalHIUhvIR61hN2vUgkdC5U5vkcH4NIpxdVp0KTnfos2Rj6AmyfaPeQk6qwHm7R8VgXx96lqPifAtRal2dQCFfREkSV0xJAaBhtiSxRho5d-BDVAsnpljdCdDBS0m4ZKfkSadrw0MvmlbethbCO1NXsy+8XTaI8FENUQZ-ymMkGqBYBjZKc20BCAQLgYhWgEg4xLaGkUcVsZE5x8w-HBMOBJOJv1vGGJ0i4AZVkYFCGnoytJqtEdwwHqWH2c9w5iahWkygoq6Vm1fs5gpXdQk5NCfY9UWQqjbZbk-aYm0i87HL0cc3Nx5L7zbVvA29gBDS1EIs8x-T1CUJGdfUeicdgzPltc1Zz6rhbMc3vX3NeuhH1qI-RwC6BFXNftljYxhisDaOKmsJYLOraDqZZAFTR7K7ScvMG11EKUODYfvOF74ZhP1ddSWZcwI32B-0-SihVmXsjWa+sJ5jKCINxDKeqsjLUlvVLKOtFTNM+B4G+IIKLviy1+zETjWCVCyIoVENCJY-QzusAu892Itm07ruYPG2iX30G-vImUGeZc83-atexMCQOiCNxkIVqxVi253Z8-ZvujXtFw5niWVeyO-N1YcarVxm8PG-u8QfYDAS3vnfAzU2E4ToO33fA-OjARacfbKodibRq4Wc8EH-OHQ2OenfOztMoysxcfY2zU1jpGKnkYF7Lw7yn+WqZbAwEgBA8L8ubWzSt12m7I5boujRsXRNwQlJJw1wQwi2ZWUscw5VzDNyxpD3aWnos6YN2Te7V1m7Yjt99HgDpVmH1-m7jXyCS1XZixWv3pCJ6UID5ZIPj4HerKdxk13ll3eMXybHsgCPfdJ-IVWwPD57dg0d4fdDufhL5-zZRy7xejfEJghXtPVeQ8ttr71jTDehJN+YH11vJfZ16ZT5TYS6fq8-X7zN1EUewtQNG+P9vFu3PT8r8HzP4fZMCfwSIVgtIpwNtH9JofNoR-OeYCfs-RbL-ra5PH1zXfZ89-3079gLJWAsEywvwfz4Gv21BH1-z4AAMsyANFkf1fx90nzix327z3xryz0PgF1AIxFv2lwuyLwn1RxCH9xnyEmxEpyAwvDBAFQO2hGD0ZxfBvjvjVwVW2myGbT0RVC+HKBRCnGo3lzOBGQoEAzARti4J4JVwblACIAIG4L9XV2W3XDEObGowdxtzOA1TYRCzRSVE121112IFUJI3TXI00JU10WW3ZC1x12nilgPl8Gul0UtjsOIGYJATqHSEGDpHLGbVgjbiIWrRQkukPWeknHS24lkxICiQLkhg0WCNM3j3MA0SiL3SmFcwh2JgsFc2SJ7Uhj6ConbwsDu2yNFXeyDBHGbXonMJ0MsL0JsIMKRysX2gaO0W2hqOsOAj12aJNwUNEO6HEJULBgEhN3nj8IQPNi6OR3N0QMtzyLJCGORxMU2WO0h1HU4KCCQ0DC+mMUjH4LtEEIEC4S2KXVInZ1oHZByGeyHXFFfk4L6L4AGwilYgkyMLtAuGkO4JuJyDuNYBIJvz0EePa3eJ2CBN+O1DILZAuPICuK3C6MtkUO+P4i6J8N9wcwmMjm7CkAhKDBRBUBVANA1XhO4L4B80slxUiB0n4ExNVBxJHlBOGPeHYABN71TDRO0X2OHEYlWJyHWKpOxKRB6VZOGO0RMXmKFO0VJjJEFJeGxEZIYCeOVkdVYKVEpPOL5NxJbVFLFOUR2M1K1JtAlNvRtE8FcN-AiRZ0+KUNYAR12LOIhIGChNJgtO+N1OGORIT1RL1JeHcM8JQS3HLFL3bxJOGKGUjENKsWNKWPV22lc2XH7hRG7DSKWCBMrHjMcgGBUANGTPRHVzv2AIEHzl0DwHTK9Fe0dXfzTN5UNPqnMHSG6XMAfhOBzJDTzNjIxkTIBTHmLJ8yLNcANEth7LNSrP+RrLrIbMLIVWc34DZGSTbOkwNHZLZC3xJwXGHNrKkHrOiUbInIIgLMRj+yBLWw4y0Usm8XMCRFMiCGmOqHoO4x81XV-WiKmAbRCHxIQUqzDKKznPjnI3fLXnqmfMNJcTdGzIVUkBYjmAoAAC8zBdyrzMyZDyghzDURz1yxydB1cY4uARkyAEkVBVhyFnibR6o8L1NGB+9nMsDh9KEj8GjqYz5SKSyD9uMGj3gGMSxaK-x6KCLyKj979YCQCWLqLBM+LT8hw6TSDOL8KyL0DZNmz+L7BBKGMRKz92KB46KpLGKncwLKAILoLKK-jtKKBdKYKOLvESKCLzwiBgQqC9AABHC0KYZ8LI2DbuQ1TC7C8QSMlgyHXM+Sp-TLeA8zK8+LF4+RD0qxXy0Sn4aTIMoSQnexFeLo5rKMyHCA--Z-DjJ-PMr2N-KfB7VypccKtkuSqKw8ljD8uKmrJeerZc0nODX8SKx-C-GMlDbrb+Rq5sZqq-EXWgNKqA9bGA0q1qybCwPqjK6oLK+S++EFFTJSlsyrbbQ1GM2S+oPMnjHM3i+amKxas4Zajq+wE06kVK49Sk3lCOVM+dfI8wAAKmIHKklWuo3K3JAXcsGFwq4sYFguIo+s0rryYH0rAIhk8w4vMukoP35gBuwKhnKAtEx0uoNEGhOTUr-QAyEB+ssusqvHYHstrWfFX1SxAJctkTcu4A8rEC8pAQHTqH4FpCCAthFBRACP3S12+ACSWG8nWBpoYDpsCHIwJBZzs3tXlCuBuDuACgmFYHSHEpOHeBFtuCkHSF33I0ZNZrkIVQ5o2FpoeNZut1CpdQPJVslpGCjzlruErwYHsrmC5p5o1Q1UNqkjJGlt0HeDtpZqNqdp0GxA1utvppantpGEOvvA8wMQ6xehtPHBegsCsHWsWzfRKy82PTExhsIuJrOFM163+scGRXqqOsYikFBD4oyKZqmCCOomOoJoEAiOKPDFiLLsYnTqSPBnDHbOjOkzx3RFTLID6Wo1HwtotAVngu4JTKYECD6TyOjDih60MuMvGr-hnWWunq-j0sduHu7HPTxRZwnrSR60uj-hViFG-iSLL00XBnVzmEqBIB9NM31QxjbWFs0nlslVajWA2COPXv5sZuPOEnfoZpLMoUdU5SOPxsjt2URM9KIuPQ3sZsAvJ0cxeG8SOPMEEBkMoGUkvOuEfoCXPWKPXgxmrPPWWG4PWE8PSCeuAuet-CppnBOpvs7EhgeCBlWE5rfsgY-vcDwaFo0gwbFtJEEoQdcAxsvF6uPTRGRojXI1JCJvQoVTaN4FbLofPkjGCMuuJ0NLvsUAQp8K-qEmrLXNRBgZ-TgZOAsLZCsP0P8g0J2McFitFVkZgsAs3PHJetJreqE1BpToxHVyY3-3kcsmK08wcV6S8JoOnhrBxoVhsfqjsfbqNI4cNXcf728bIEhreEQJ8Y9ulMkoYv72yHPokNCb7qFgihSZltnQtsxy7uCdCTwjCf7oigNDCaRpbnUuyZkvPuId4BCLsBKedsIYvqvuPRBp+v7xMxEcEqoa6b4CGY0pyaVDyaKMEvHu5lHoAiIKBiUiFiajHqIKIiOBBWRoSZkqyMEtc2mdaYPwWYHneEqahy4FMv-VPHccEZsuxocu7Dxp02KKArvRJqwtcYpqwUhyIVDqCi+kTyBstOLu7CIQhzzoYALuBdPu+DKISXXq+nogaOBedyIcvs6ewccDRd5VkEK0JbwvBixdye4Kh0DkmAU1mMrApbmapZ7tqaKffGbmfsYLMEJJ4OtLy3iZ0wBehCSbCKkHDqxaSZjvgyenXpUfj1JY8dFWDuFlGYrtFbHAVfWi8ZlcgblYQIVaTotAcLjoCdVcjvlcgd2UNfYYKrtBQv0ZzvvAmZERHSFVoZSO7AYfZqYY2EOIEfdNkk4dNoVsU0eCj28T9ZCkPmDclQrXoLNKYKVpalJCWPDDoBIFaRhYWHRG2mBYxh62ED-iPiLeSbAe1E5R63YEF1kDKlkA6AUmEFAAAFJAky3W5v4Fg57hA62G3a96222XhOUa4f4oFmAOhko14X5OUCJzBO3nJZxi3nIMV+AAAGR2l0jEDJDYqOjN5hOsuYtecqCwZJg+tJGdqthwAbOgeKS98cdJBwA93mI953ObK9Rdgd3zfqe9q949h9jdl4dDbdkdz2cdx9oSSwXdvRh9jwXRWV99LcdNzNhAl92QDAFdgANnJFg91fg6tl3YSPHdkAABY12YO7ozJEPC7RxyQzWgoVHKOEjC2CggA","body":"function lookup_label(labels, label_name) {\n    const val = assoc(label_name, labels);\n    return is_undefined(val)\n           ? error(label_name, \"undefined label -- assemble\")\n           : tail(val);\n} "}]},{"tag":"EXERCISE","title":"Exercise 5.8","id":"#ex-5.8","child":[{"body":"\n    The following register-machine code is ambiguous, because the label\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"here"},{"body":" is defined more than once:\n    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":7,"eval":false,"body":"\"start\",\n  go_to(label(\"here\")),\n\"here\",\n  assign(\"a\", constant(3)),\n  go_to(label(\"there\")),\n\"here\",\n  assign(\"a\", constant(4)),\n  go_to(label(\"there\")),\n\"there\","},{"body":"\n    With the simulator as written, what will the contents of register\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"a"},{"body":" be when control reaches\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"there"},{"body":"?  Modify the\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"extract_labels"},{"body":"function\n    so that the assembler will signal an error if the same label\n    name is used to indicate two different locations.\n  ","tag":"#text"}]},{"tag":"DISPLAYFOOTNOTE","id":"#footnote-1","count":1,"href":"/sicpjs/5.2.2#footnote-link-1","child":[{"body":"\n    Using the\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"receive"},{"body":"function\n    here is a way to get\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"extract_labels"},{"body":"\n    to effectively return two\n    values—","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"labels"},{"body":" and\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"insts"},{"body":"—without explicitly making a\n    compound data structure to hold them.  An alternative implementation, which\n    returns an explicit pair of values, is\n    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":8,"eval":false,"body":"function extract_labels(controller) { \n    if (is_null(controller)) {\n        return pair(null, null);\n    } else {\n        const result = extract_labels(tail(controller));\n        const insts = head(result);\n        const labels = tail(result);\n        const next_element = head(controller);\n        return is_string(next_element)\n               ? pair(insts, \n                      pair(make_label_entry(next_element, insts), labels))\n               : pair(pair(make_inst(next_element), insts), labels);\n    }\n}"},{"body":"\n    which would be called by ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"assemble"},{"body":" as follows:\n    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":9,"eval":false,"body":"function assemble(controller, machine) {\n    const result = extract_labels(controller);\n    const insts = head(result);\n    const labels = tail(result);\n    update_insts(insts, labels, machine);\n    return insts;\n}"},{"body":"\n\n    You can consider our use of ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"receive"},{"body":" as\n    demonstrating an elegant way to\n    \n    return multiple values, or simply an excuse\n    to show off a programming trick.  An argument like\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"receive"},{"body":" that is the next\n    function\n    to be invoked is called a\n    \"continuation.\"  Recall that we\n    also used continuations to implement the backtracking control\n    structure in the ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":" evaluator in\n    section ","tag":"#text"},{"tag":"REF","body":"4.3.3","href":"/sicpjs/4.3.3"},{"body":".","tag":"#text"}]}]