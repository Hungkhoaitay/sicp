[{"id":"/sicpjs/4.3.3","tag":"TITLE","body":"4.3.3  \n    Implementing the\n    \n      \n      amb\n    \n    Evaluator"},{"tag":"TEXT","id":"#p1","child":[{"body":"\n    The evaluation of an ordinary\n    JavaScript program\n    may return a value, may never terminate, or may signal an error.\n    In nondeterministic\n    JavaScript\n    the evaluation of\n    a program\n    may in addition result in the discovery of\n    a dead end, in which case evaluation must backtrack to a previous choice\n    point.  The interpretation of nondeterministic\n    JavaScript\n    is complicated by this extra case.\n  ","tag":"#text"}]},{"tag":"TEXT","id":"#p2","child":[{"body":"\n    We will construct the ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":" evaluator for\n    nondeterministic\n    JavaScript\n    by modifying the\n    \n    analyzing evaluator of\n    section ","tag":"#text"},{"tag":"REF","body":"4.1.7","href":"/sicpjs/4.1.7"},{"body":".","tag":"#text"},{"tag":"FOOTNOTE_REF","id":"#footnote-link-1","body":"1","href":"/sicpjs/4.3.3#footnote-1"},{"body":" As in the analyzing evaluator, evaluation of\n    a component\n    is accomplished by calling an \n    \n    execution\n    function\n    produced by analysis of that\n    component.\n    The difference between the interpretation of ordinary\n    JavaScript\n    and the interpretation of nondeterministic\n    JavaScript\n    will be entirely\n    in the execution\n    functions.","tag":"#text"}]},{"tag":"SUBHEADING","id":"#h1","child":[{"body":"\n      Execution\n      functions\n      and continuations\n    ","tag":"#text"}]},{"tag":"TEXT","id":"#p3","child":[{"body":"\n    Recall that the\n    \n    execution\n    functions\n    for the ordinary evaluator take one argument: the environment of execution.\n    In contrast, the execution\n    functions\n    in the ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":" evaluator take three arguments:\n    the environment, and two\n    functions\n    called\n    ","tag":"#text"},{"tag":"EM","child":[{"body":"continuation functions","tag":"#text"}]},{"body":".\n    The evaluation of\n    a component\n    will finish by calling one of these two\n    continuations: If the evaluation results in a value, the \n    ","tag":"#text"},{"tag":"EM","child":[{"body":"success continuation","tag":"#text"}]},{"body":" is called with that value; if the evaluation\n    results in the discovery of a dead end, the \n    ","tag":"#text"},{"tag":"EM","child":[{"body":"failure continuation","tag":"#text"}]},{"body":" is called.  Constructing and calling\n    appropriate continuations is the mechanism by which the nondeterministic\n    evaluator implements backtracking.\n  ","tag":"#text"}]},{"tag":"TEXT","id":"#p4","child":[{"body":"\n    It is the job of the success continuation to receive a value and proceed\n    with the computation.  Along with that value, the success continuation is\n    passed another failure continuation, which is to be called subsequently if\n    the use of that value leads to a dead end.\n  ","tag":"#text"}]},{"tag":"TEXT","id":"#p5","child":[{"body":"\n    It is the job of the failure continuation to try another branch of the\n    nondeterministic process.  The essence of the nondeterministic\n    language is in the fact that\n    components\n    may represent choices among\n    alternatives.  The evaluation of such\n    a component\n    must proceed with\n    one of the indicated alternative choices, even though it is not known\n    in advance which choices will lead to acceptable results.  To deal\n    with this, the evaluator picks one of the alternatives and passes this\n    value to the success continuation.  Together with this value, the\n    evaluator constructs and passes along a failure continuation that can\n    be called later to choose a different alternative.\n  ","tag":"#text"}]},{"tag":"TEXT","id":"#p6","child":[{"body":"\n    A failure is triggered during evaluation (that is, a failure\n    continuation is called) when a user program explicitly rejects the\n    current line of attack (for example, a call to\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"require"},{"body":" may result in execution of\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb()"},{"body":",\n    an expression that always\n    fails—see section ","tag":"#text"},{"tag":"REF","body":"4.3.1","href":"/sicpjs/4.3.1"},{"body":").  The failure\n    continuation in hand at that point will cause the most recent choice point\n    to choose another alternative.  If there are no more alternatives to be\n    considered at that choice point, a failure at an earlier choice point\n    is triggered, and so on.  Failure continuations are also invoked by\n    the driver loop in response to a\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"retry"},{"body":"\n    request, to find another value of the\n    program.","tag":"#text"}]},{"tag":"TEXT","id":"#p7","child":[{"body":"\n    In addition, if a side-effect operation (such as assignment to a\n    variable) occurs on a branch of the process resulting from a choice,\n    it may be necessary, when the process finds a dead end, to undo the\n    side effect before making a new choice.  This is accomplished by\n    having the side-effect operation produce a failure continuation that\n    undoes the side effect and propagates the failure.\n  ","tag":"#text"}]},{"tag":"TEXT","id":"#p8","child":[{"body":"\n    In summary, failure continuations are constructed by\n    ","tag":"#text"},{"tag":"UL","child":[{"tag":"LI","child":[{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":" expressions—to provide a\n\tmechanism to make alternative choices if the current choice made by the\n\t","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":" expression leads to a dead end;\n      ","tag":"#text"}]},{"tag":"LI","child":[{"body":"\n\tthe top-level driver—to provide a mechanism to report failure\n\twhen the choices are exhausted;\n      ","tag":"#text"}]},{"tag":"LI","child":[{"body":"\n\tassignments—to intercept failures and undo assignments\n\tduring backtracking.\n      ","tag":"#text"}]}]}]},{"tag":"TEXT","id":"#p9","child":[{"body":"\n    Failures are initiated only when a dead end is encountered. This occurs\n    ","tag":"#text"},{"tag":"UL","child":[{"tag":"LI","child":[{"body":"\n\tif the user program executes\n\t","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb()"},{"body":";","tag":"#text"}]},{"tag":"LI","child":[{"body":"\n\tif the user types\n\t","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"retry"},{"body":"\n\tat the top-level driver.\n      ","tag":"#text"}]}]}]},{"tag":"TEXT","id":"#p10","child":[{"body":"\n    Failure continuations are also called during processing of a failure:\n    ","tag":"#text"},{"tag":"UL","child":[{"tag":"LI","child":[{"body":"When the failure continuation created by an assignment finishes\n      undoing a side effect, it calls the failure continuation it intercepted,\n      in order to propagate the failure back to the choice point that\n      led to this assignment or to the top level.\n\n      ","tag":"#text"}]},{"tag":"LI","child":[{"body":"When the failure continuation for an ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":"\n      runs out of choices, it calls the failure continuation that was originally\n      given to the ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":", in order to propagate the\n      failure back to the previous choice point or to the top level.\n      ","tag":"#text"}]}]}]},{"tag":"SUBHEADING","id":"#h2","child":[{"body":"Structure of the evaluator","tag":"#text"}]},{"tag":"TEXT","id":"#p11","child":[{"body":"\n    The syntax- and data-representation\n    functions\n    for the ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":" evaluator, and also the basic\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"analyze"},{"body":"function,\n    are identical to those in the evaluator of\n    section ","tag":"#text"},{"tag":"REF","body":"4.1.7","href":"/sicpjs/4.1.7"},{"body":", except for the fact\n    that we need additional syntax\n    functions\n    to recognize\n    \n\tthe ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":" syntactic form:\n      ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":1,"eval":true,"prependLength":186,"program":"chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQGZMChslAGYCuAdgMYAuAlgPYkDOhATjQLYQzxKpoCMaAJlzFy1OqCr0A+hQCGAc3kBTACZSANpIoAKMmwAOdJSQoAaUBQAWSmQoCUoAN7ZQr0EyUUiTEhOn7ZKiZdAyMTBwAyCNBrWRUQ1kMSYwoHAF4Mi2tbeQBubABfYVJKWl9JDSoKJSZZdQSklIdnN3dPb3LpOUVVSvodPUSws1AAIk1q2vVRu3yikVLxCZq6qQA3OqIlBuHm1pc3Dy8fGKU47TkqesHG8NnC4tEy0FZZAGsbZantDfUt5oOriOHVAmn62nGVRW03Mv3+c0ei06UhIslY2xuuycgLax2R3WUajBA1CyRM5lGqPRMwR2AWYl8rw+KLR23oAE9WAAjGjqAGtYEnYkQqlKUbmDnc3n3Ip0koM0CSnnqKQ0Ags9E7MmpbEC9onWLxS7XUlNGWIhUVWT0ehUeQkdEmLVNXWHfX4hSEvokobainW232x0UGkPenPAN2h0pKRK3nO8KuoHu07nY3aQ0XQIm31muzm8PiSNBmNwmxKAAe+g8NrKCZ1LTdeNTRuzWau9fz5rlT3EFRUSjI6lktQZnaTuJBFQJvWFmL9Yz0DDkJikA6HI9kDJmoAAPruca03NPPbOtPWKRsmFRZFz1DZ18PR2Ud-vD0e-DkvXPTeSxoWSDXQcny3F9uwA0BH03BlY05ZVx0bZNmzjFU1Q1bZM3Tec8wRCCoOfOh1k2csqxrW06AQnFBV8TC2yw39UnzWkIKZGwl36WRV3w0CKNFWFiKkStqyUWs6H5JsQWFUZ2JXCggI3AiSHFUA+NAMtBNIkTyJIcD5WeCph25FRZA04TRJISi9WbE8eiJc9sL-cY0S5YzTLIsDcL0pZnNcgJanRSZYKldR6EsiSTlefRtBQ1V1VU2iOwcxiCy83xDJckyeRUdkwqQkEEvqejczuXTe0Zd5Ph8kyhPcii-NZSZ6HMLL2XEvKhXPJyjOqzTzOU+qApqJrQBa0qkU-AD5JAsckuaABIfYrKnLpTzs8EkopSbuO3FKysIVKpugsp0NyycOv6KQPAIC9QF4Xbxq24CjsIgbPCG07qNBLRLqUa6NtAAR7oVR6FJ4wCWo+lNiR+v6GPMDAgeeEGVQoGgpBkzi5MfSHm1Y9G6A4rinsU7R3w-NxkeewDRU7UwyfJl4Ko0Kq3K0ut6YZimDu247Xsa2mOc5-aysOxSpAh2amIeHtxoqajYzkapg1yz6bO-ey4bGeWOKVlJQ3mVKzsAmq2Yo2ak0+grOzGy1pCXFQqjKOoceWr8z3WzXpLoB2GVWE2+ocN8hc-Gc1p9W4Ri9kgfadlUdaUYN9ZlhV7cduhVmEh2yC3DEGLaz7oaum67s8vbU99lV2KUABHLYnXNxCC++ov-sB0vxvL2OpDqSZUWoNZc+KhtASbi6W81hHmMNip6BruuyDZChWGH8KPVs71oqXyPZ9r4wF6TiCd-nmx4+DUL+mXvZXBHlMrYvxj2+BoILtPlJN+X+h89vs54nvz-H+eDWOSr8TDny3p-C2KZ0x-0Rn2aQCd9AUHZLGOee9F4fy-tZaQJAiDqHqDAgBcDmYv0VgnN+MDIFYJRLgwqbYYE230tIO8NAyBvBdicNW7tw7DApMw1hB9DZ8LeOLGg2V2E0R-u2HMEcpYGz2njIRm8c7BjakbL64JRhCOUiA1IU89oVBoPoFYqMmD425FQPudYG4LTcFRFMFRSAjmQYY4xNBTGDC5BYsG44g5CwqJ41ETBnFGNHG4sxATvGzUIciRxQTVQhK3GEjxXiZp5ycDY6+S0OErXXj+IeFJYnBNce4tgESdrRM-BEuJLjQklPMZYs2aTHAZNAHYqhocN7-U0V46pCSTHhJSR5MMhsamJNMShcR6i5Lj3ybdWBvgCDPzkqM6OkzC6-Rum3YZe1Z723iSsVZDc2mSWbhs-6k9pYsSZrIfQ+hNDZzHJNf22lzAjnkEQYMrNzIQMQmoqSNy7lUAeS+OmwcjxPN6i80AbyPkxmeWUf+lyRl9KSaUwZhFUbd1ufcyJTScQyVAKMkxoA0iEpReMuC8YonHOyVIQp+zakDIaRZWagtQAAH5GbMgBTisceMaZErcXYUFYLRWtGFIspgF0VnxElnYNlAAuLlNgeVAu8fy1k2hBVMGFWysVR4JVLIZZxWVecRX6ota4XZ3tjWHLzrIi0jCsWAuBY0oemDXYdLyRHf02K1XlO2Q9A68K3UyMoflSRRUZHzOhUweQXztKhSOavFsUi01yr0bLaQzkEIfhpWvdWHtZmjFVa6pSkRohsoqDTCFZltLW1AFEVpwcYpoRrcGyFVj7UksyCW7kowKnOXRpYGgQKRKTLeQmhFnY5hAA","body":"function is_amb(component) {      \n    return is_tagged_list(component, \"application\") && \n           is_name(function_expression(component)) && \n           symbol_of_name(function_expression(component)) === \"amb\";\n}\nfunction amb_choices(component) {\n    return arg_expressions(component);\n} "},{"body":"\n\tThe symbol ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":" here is no longer\n\ta name with proper scoping. Whenever the symbol\n\t","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":" appears as the function\n\texpression of an application, the evaluator treats the application as\n\ta nondeterministic choice point.","tag":"#text"},{"tag":"FOOTNOTE_REF","id":"#footnote-link-2","body":"2","href":"/sicpjs/4.3.3#footnote-2"}]},{"tag":"TEXT","id":"#p12","child":[{"body":"\n    We must also add to the dispatch in ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"analyze"},{"body":" a\n    clause that will recognize\n    such expressions and generate an appropriate execution\n      function:","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":2,"eval":true,"prependLength":694,"program":"chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQGZMChslAGYCuAdgMYAuAlgPYkDOhATjQLYQzxKpoCMaAJlzFy1OqCr0A+hQCGAc3kBTACZSANpIoAKMmwAOdJSQoAaUBQAWSmQoCUoAN7ZQr0EyUUiTEhOn7ZKiZdAyMTBwAyCNBrWRUQ1kMSYwoHAF4Mi2tbeQBubABfYVJKWl9JDSoKJSZZdQSklIdnN3dPb3LpOUVVSvodPUSws1AAIk1q2vVRu3yikVLxCZq6qQA3OqIlBuHm1pc3Dy8fGKU47TkqesHG8NnC4tEy0FZZAGsbZantDfUt5oOriOHVAmn62nGVRW03Mv3+c0ei06UhIslY2xuuycgLax2R3WUajBA1CyRM5lGqPRMwR2AWYl8rw+KLR23oAE9WAAjGjqAGtYEnYkQqlKUbmDnc3n3Ip0koM0CSnnqKQ0Ags9E7MmpbEC9onWLxS7XUlNGWIhUVWT0ehUeQkdEmLVNXWHfX4hSEvokobainW232x0UGkPenPAN2h0pKRK3nO8KuoHu07nY3aQ0XQIm31muzm8PiSNBmNwmxKAAe+g8NrKCZ1LTdeNTRuzWau9fz5rlT3EFRUSjI6lktQZnaTuJBFQJvWFmL9Yz0DDkJikA6HI9kDJmoAAPruca03NPPbOtPWKRsmFRZFz1DZ18PR2Ud-vD0e-DkvXPTeSxoWSDXQcny3F9uwA0BH03BlY05ZVx0bZNmzjFU1Q1bZM3Tec8wRCCoOfOh1k2csqxrW06AQnFBV8TC2yw39UnzWkIKZGwl36WRV3w0CKNFWFiKkStqyUWs6H5JsQWFUZ2JXCggI3AiSHFUA+NAMtBNIkTyJIcD5WeCph25FRZA04TRJISi9WbE8eiJc9sL-cY0S5YzTLIsDcL0pZnNcgJanRSZYKldR6EsiSTlefRtBQ1V1VU2iOwcxiCy83xDJckyeRUdkwqQkEEvqejczuXTe0Zd5Ph8kyhPcii-NZSZ6HMLL2XEvKhXPJyjOqzTzOU+qApqJrQBa0qkU-AD5JAsckuaABIfYrKnLpTzs8EkopSbuO3FKysIVKpugsp0NyycOv6KQPAIC9QF4Xbxq24CjsIgbPCG07qNBLRLqUa6NtAAR7oVR6FJ4wCWo+lNiR+v6GPMDAgeeEGVQoGgpBkzi5MfSHm1Y9G6A4rinsU7R3w-NxkeewDRU7UwyfJl4Ko0Kq3K0ut6YZimDu247Xsa2mOc5-aysOxSpAh2amIeHtxoqajYzkapg1yz6bO-ey4bGeWOKVlJQ3mVKzsAmq2Yo2ak0+grOzGy1pCXFQqjKOoceWr8z3WzXpLoB2GVWE2+ocN8hc-Gc1p9W4Ri9kgfadlUdaUYN9ZlhV7cduhVmEh2yC3DEGLaz7oaum67s8vbU99lV2KUABHLYnXNxCC++ov-sB0vxvL2OpDqSZUWoNZc+KhtASbi6W81hHmMNip6BruuyDZChWGH8KPVs71oqXyPZ9r4wF6TiCd-nmx4+DUL+mXvZXBHlMrYvxj2+BoILtPlJN+X+h89vs54nvz-H+eDWOSr8TDny3p-C2KZ0x-0Rn2aQCd9AUHZLGOee9F4fy-tZaQJAiDqHqDAgBcDmYv0VgnN+MDIFYJRLgwqbYYE230tIO8NAyBvBdicNW7tw7DApMw1hB9DZ8LeOLGg2V2E0R-u2HMEcpYGz2njIRm8c7BjakbL64JRhCOUiA1IU89oVBoPoFYqMmD425FQPudYG4LTcFRFMFRSAjmQYY4xNBTGDC5BYsG44g5CwqJ41ETBnFGNHG4sxATvGzUIciRxQTVQhK3GEjxXiZp5ycDY6+S0OErXXj+IeFJYnBNce4tgESdrRM-BEuJLjQklPMZYs2aTHAZNAHYqhocN7-U0V46pCSTHhJSR5MMhsamJNMShcR6i5Lj3ybdWBvgCDPzkqM6OkzC6-Rum3YZe1Z723iSsVZDc2mSWbhs-6k9pYsSZrIfQ+hNDZzHJNf22lzAjnkEQYMrNzIQMQmoqSNy7lUAeS+OmwcjxPN6i80AbyPkxmeWUf+lyRl9KSaUwZhFUbd1ufcyJTScQyVAKMkxoA0iEpReMuC8YonHOyVIQp+zakDIaRZWagtQAAH5GbMgBTisceMaZErcXYUFYLRWtGFIspgF0VnxElnYNlAAuLlNgeVAu8fy1k2hBVMGFWysVR4JVLIZZxWVecRX6ota4XZ3tjWHLzrIi0jCsWAuBY0oemDXYdLyRHf02K1XlO2Q9A68K3UyMoflSRRUZHzOhUweQXztKhSOavFsUi01ytpPgACjACAsHYFAOAiBkDoH4BgR1RCKBMCIFYHKFZVGqyYTQXkZwLJ1tacHTlFZFWgBqCwYIFZeFNvvJxHtVZBzVBUOYDwC8qADxUAI-R0gCB1A5NoNtjg1EAEIQ5VprWu2YoBZRXOZABbQfMhrNVEeycwxg1j1qhp1TEpA1AAXFHq1o56pWXuyjekgd6KkVCfdHKQp6CD3vaatDeBAKRAZfalBdQaRaftCmBico9pkbOg3Mipk0Iaod+ehmG2gsNbLkYhpEgk-1BDoMrfDNK0qnOulhi5R7DZ43lmWEIJgXQEYfRojjxFlJLmqOEAD0gBN-G2GWcDnrIPCjLBSCTWwEMKiU2xOgImdDSbQ9-NMbZpMMPEHvdQNBbQkHjbe6j0YnS3pkycdMtmcNGtzZq2zOnmyZkcw8AlVhyyJCQZRtYVngwkpUjQ-Iydnh4xc5qFCw0yw-Po6AAIQRoqUpCvxSTiKyPA38ifdLKG8tX0ySmzMMWlAxvK0RLLxGitOEWim9M5XDO+ErCJtQlmWDWZ0HFzLw0uTWnLH+uzaVjDyCsGl4KECMikvvOZibvxP5ss5Sl4I0W8uTeVPFldwqRqDcC-K4OSq5vjcsJt3kECAA8oIxsLZ28tntTA+0QlRjQRmJB2SxveWfRURA-WqCVaMUAABqdtlrFSVosfIKgBAcpxYcKD5SQPQfvo-P0a85mYc5UW-mbtva3EvabYQJQAB3L7sLQG-f+yoQHIOweWvR1DrH52QoI7GBSOnqOjyM8x7Dn4O2WugibW8P7QVlTVa2Cz39d6JwQVvRoJtUU3O-NaIfbOFletqR2xOBmDbqF4JZ0t8HHKe1-oV4Y7QxnTNQ8C8Ft+tnDvg6VShElmRMzw6560TlmYcee7cM79Xab4fmHTDj+4DMigMxh6AS3f7Xekt84JfzyDOs0Z43q-HwQUIFJIDyZ9KlWShgjz2kKSgdfkwJeV0LkqLrldj-+vVn16CB6q3F2rrJdXG-BXliXIl2-oilhHnEkeU3y5MxbrzrG9rFkAjFTj2etfqGl6ouXZvx9K+G+X1wavOKG766o3X9jsE0MN47y1nKx+K9j0Oa35nbddeVg7v3rhnfpfj6mj3xvOWzzkj7ldmWz8LUA9d9oECtdtQ8Bd8hi96Zo96939E8EEAtU9usD9yZM8pcxhSA89o4C90RQAABafA6FWsEsEwIvcmAoEvWeLfI8SvPLavZzDbLzMFJvFvHvNvZrc1LvZgVkXvQrDvcPCg4fJLS-CfYbTNMAbNZgNgDgQtbgEtNAFActZEasKgVgR2AeEDVKYjUgEbEOOTc8EQCkVQ9Q-uMUGNEwjQmwNQu5MhEwbxEQPQq2Rw7sAlSwswrQsqRgWbc8MmKSQ0ZSNwQ0UVTvD8KSY0QI1wY0EIrgtwKSVbSI5LQIJgGIvwzqYkRI4kVI8mKSCoHBPBZSPImhIWUIg1TqB2egO5WQdkZSCoqoz7TmUo8VTqTPSIzPMFJouIzqV4KwbuLkegcUHoywPoxgBmTo1wKSYHRItwNdcwVqElAAPlAArDpwaPGKmQhHwOmNcFmNAHmLSCWJWKILWNiImM6nwMKUiJWNaAOLcCIOuPWKkgACptiY8B09j0hDjQAni9jXBHjOpgBXjdj9iviwATi0iNEABSIE94kE5Y0ASE340Af4jRGbaY4Ez4+EmbD404jY0YTdDIdE2EzElYgk0lVqXEqSS7GEuYkk0Aa7VwCkiEnQUYS7NIbYjExY+EtkxklElkhYmkj4rklYpY3kykzqBY9k8wI8Tk24kU0lHE5kiETdV4+Em40U0AbdVwOtMme4Nw68Uw2dGwSaOLElHESKDMH+cwdwo0zwpERFfUtQqwu0mCGgLkAAK3HW8PNJuR0N8FuPiINKsOUmcN0PzFxOSyDI8OzXuGwEdMNM0Ixkpx8PBCkmfV+gsVUGUnTMWWSBUHWO4LKI0UgBIFzKqBqOlJLLLKQQLMLK6I0SGKkFgEgEiMbObNrLrLxMbIAFFEieyOy6ypIAA5WQIc14kcocwAzs1oPUgmCgSMp0jwpM4BArM01oC0sgLkzMMgXbG0xMuczGB0uchchM9TZcTGPgtctwDcrcyNNsHc3cqM205cxFSLIsbFZBPc407Qowr7YkPQnlZBCxOlaOGodQdkG3d02QDYZva8RBUmfVL8qQGw+8YMBw3QiM8mN5f83II8JFHZdofQe-NPJ0PQtrYwDrKjB-N+AFCis9J8zQk0grTC6ctwJC5csXC7Ac43Wi1ZJCyaN0z0ygYaZ-Y3dig81cBLbi8HBA5PYilA2kHzbIeQEzAbFUZAkLUlH-UXDSt+WMrNVKHNPNWQrgYtTAHAN85EZyBCD8JLThMOG6UYVVV1JSSIaINlPIzVCFMybSa2UAKIenBmGKNCGmby2qFle1d-Jy7kUYCpZydGSwGgIFPvZNFNN5BNBFTsPRcaTiOodkAAL0+ChG+FSval8HrwlCIDIAXlUHMGXSuE+K53oCqpqviC+FWE41mjquzEF1yvAsKpOlKrUQqt+2qqUFqsIB6sWPfWarGtUG0HHxFyIrn2IhZ1ikGrNVEsLNsxYuDnqr5GyoVD6oKsqm6gytDSxF+TcM3FYG8NBBZk-U4pCiyvxWPK5BEFC2OsKoWpZglntSgJTRGtmtau6oaumtFWBvGviGi20IGn61-J2q2smoasOojFRH6pPlQXIHQQoES1V0NiPhSBvDwRylkGalQLKpj1vUqrmsnWRr5C5L91kBGtEvwEhptFAGEwsSIDBkIDcU5rqE0HM1AAABIAAdaoCsCgaWxwWQAoEW0S7QEyBTemwGcGrvOWd0XvJW3vKci1b-FqqGnWlW-awGJGpVLkIGw2ia026Sj8LNbMbwMvLmnBXmggfm7OPBKHUWiWtrGWuWhW43fawQ1wEfbfQ2dfYjZzUgKdESOSEQPG8mPXfI+oIBTwo3MVTlGveO0gLnY7K-QmkwYm8CqOqVHOkgcwTMNOhO8MpGiwNsau0gT+EOw9V65cYWO6i0r6pQCUcBFu5Ok-GuwK8mC-OPW4nMzMlQbtSOsrJu8AtsGu3q9Gk60WXFd1CcAlF3UlHmQiCZalVoAlNYD60lbu7QHewCdSENCK91fulMK22m0Ghm2499I+0gCq5-fnJfVWzElXS1GfJ67WhfX4ZfAGrvJva2+ICevMx+rZcHAoXa8mYO1GosZegamfZWIazet-E+kg7rJ6l6g+481+-06FVB7YdB0sASK+62UB4a6m0akG+mxq0VYh9+8HT+mBn+sVfAJ43gJ4uuglXkNQMsULRa0XFayTKXOu1isFZg7g-+iRyXIBuoEBuu8B2mjh6RsVbQLh1oHhgQfhmRsVBR9LQB9LBBox7goR3vcwLRyxhmOR+xzmT6U2nR2hpx0OlusVeB5-JB-CnKsh-GaONOdGmyvCwh9u-QY+0hvK76zudOFUTOf1QeaNWhglMgaJ0++J9GoJwu7hbUQfNwAlWQTJshrjGOBJ7udQXuUCAeGhpLe+xh4O9W4OKJt+6m5-Nmw2jml2nm4GfmpQOEUCYW3zSM1QZJ4e0VfAVGQlLkS4XwcWyW6WigRwTOMWsgSwEcAAA173lo-szhse-pactWnF3UsBygOe0y2s5Qyfab-RpqaezDNq7yVRKbubWAeahs4YsaPAdquCds5o025rdoGaGeoBGesDGazhzjmhaV8Z6uQd8Gb04lVGrVXoZCTTxSyWRELoXk7Ae1kGqo+VwRziVtuQop+aFhTspc5gtORcAhoDRfPqajsbcFxZPlITPmtj1qPCVX7GJjXpkQe2FHPvwclm7RTsRamXWscVwfmvh3cxBDpewaWNGCeNlcDDzJeIlDAKle7vFhM1YVOgJRalCyERETEX3qKePMNZXVC3pdRaxgFYxe0FGjSePI1ajFUDuuhjQk9ftHmttdZ3dfbvetIE+rKbdYafochptqmoOPfTDYsnIuA10qdCDeGn9bzOGkRvB1jbpvhZRv8aOsCe1k5bfkwePKYFKdie2Hlmoclloc+kaa+aYeOecZEDYctQ4aOYTa73ze0HYy1s41+F21tppe3wReLeeGUDkjeVCjeYYGl0+bjbBo3XCZTSKIN0XYzs5gNo0epaYe7UzB3bsC7brK6bGp6aBddv6ZSKsEkB9qWf9pED2enKVrjU4fbcLNne7jjVCnTFPYneNw6Y8b0bAHZsYF6ZBaYFZaFnwGnW8FtAHgFrwQsDe0Wb9pWdnfWc2aYB2fnbfbA52PncfoRm-Y8YHdWw-fkFeX-bto8f2oRmA-B3Hbsb8an3GkrEHGrRVT9Rcr9Lo-kGGnzcfr0IqH4p-N0IewHcAqkEk7KkE6+0-hY8nYau7UA1CGfRdLrEcMmaPCzoOjw10IQotRTcoqC2oqdCRsmmQz9IY4-FI5s+DSopIp0BcInddavR+mauqa-efuNwHc1rxG1pah89wR1Dg85TUyCc0y8+ynC+qZ5ZedACgdqrg7Y8tWDrxyewJ1-NGFIDeBIBoBJwWUNiQSMQINHR4+qGdV5SGU45Ldrbq-9SsSxetfboIBrYxr9Iowbf+rbv6GhQTtCy7rIaE-OoYHqexapvuYYdbeab7bBS6-eeA6U9too9FV-fnaVoTtscsdA6MZo+GiY+Yfse47IF45a4E6MLg87NI-0+I6FlE7u7rNO9U85ky6y4RdaUa7Rua+ssrfbtuYYFG99O7teW5ASqSoXkxZvqbbvpjYgbE65N-s+-K7iWSClt0ESuSsTstQHoNw2Zh5EmS-ByzrbDJ8tSVW3Nx9h7PcO6e+52R9e9FR0c26Z8rWQSx50Cwjp9J8KdFTDpYKgUx7a10BrvcY-AKD1bKaGr13aukV2AJcCcV-xaO0-BplZQ7RiYxo2vdQ0+kEB7zhV4B+5HV6Fj5aN-48FeV51-1ectt4KcN+NX6WSWZQt73d15Oq1XJSZTBhkDRkd9SRvpd+yedm16Fk5X1fD6V+d414MhZn64N-t9V6T8hTa5T8t8-HZc94Zmj8Cdz-ZYVmURSDh+jRd8UUj69-1ar5N4T-Ey1p0Tz5Hu94GrLdL-rnr+z4qEphJlmjhdT9rd65gkfED9ydkimmthd-Ppb4-AL+a9n+r4Zit+7lwYwe75r8CYoa76z85iVXQK6UK+K9K8VHZHsKOKIO7qTksuhW5EGYj81iR4frbfXYa0pqybzhbdXYOunfEGztjC8hq0dYCxPoGrQAV7+vwM9COFngQgN0yOCQCQDAHzlEch6GYCx0TwqU3SfsVzt1hY49seeVTGpmYUxLANFamJNLvmT1Z4JABfwF1qAPAETh7w85egEAIxahZJWc0HEBBAsQ1MVQkdBgSMCOBBIKaEgAgDHkEFRVhBNRUQTN2kFuN6YlBJQKXhoIzdnID-eoH5FgGjB4BdOSQagIKDoDpGmA1SjgMs5ucPurgfAOoN+DzcbQ0jAgW1iIE1BLEA8H+nB1YF0CEUoWajsA0VBsCEUXjQsqrG4w+BVgkdUYNIOUiECe4Lg2phVil6WofGF7MADYLqD00naDgigaBVzKqA66QQ0OsIVaC8C4h-Aq-FzkEGUt2etxNHmCjqLDgcoowfACULCHqBHsfacgkL1vrNgPAA8KVGyACEExXCx5YgDQK0E1BQsQOJnsHDFq38PAtcIINsH0DFZphDMWYTN23T6ATc1lBwEqgADk4AUCPQEWSqA2gCwjwHsNwp1lZhlBVYZY1mEsQE4XIGoNoChCsBzA66O4a0HWGbtj8BuNtF8PJg-D5+YWNDoCNFTAjeWEgJWO-kzAAjARkIkEdcXBFgpERUI9EPf2CBvCQ8bYOtAemI43CUR05WYcwNS5ICYBpw0lJKyJFHgHhhscYVIBJxuJ4gTIpgGHBWFgdIR8wogIsO0Dbot29QUgOMPzL4iCRdic4dsH5F-D6gGI54cEEzBCiKR+ZHER2FZHsiuwVwtwJCMryMtgMao0LAqPJH9CqBTjSEYqONGhZ0w5o2eCaNWFci+MOgTMGqO9BjtdRagNUaKO4KEiaRhZWYfqSUCGBbQ7AlMjoD2HCR9Aew8wHsPdpMBIxoAPYajDjHxiLEcYvYVyHZCpiScVQSwHsIPR0i9oDI8MdbgrjydLAtQWARyOJFJZhQYYjwPoHwL6Ayxg2JMdMLRFCwGRao+igGOLGBDpSrFNsZzAZHFdSApY8sdsCYgeNvRPorvH6OPLDjQeIY7QHsPnGpj+gRAAcCYFTHVg1QWkNxKmIeT7jhwNoXMVcNnHt0+h-RURueD2EXjVxXgB2CJFTH3hKATtegKmLOC41Vx94AMW+LzGs87hZ4obiOGoBDgRIV48EHsOAlAp7wqY3zKmNkAnjOy+Y8aAyNtCJB7wKIXUaOMGzs83+9w6sdeLQm2F8C84hsU2Nngtj8JFqDscyI-YgT7wKnScZ7holsjtA845upqNNGFBpxXo2-kOKwmNixxuEgCdwLYzVFnhGkdrGxIEnkSKs9WIxgOM+jWV5x2E2eH2Ke4Djg4rwdkBJPM4LVrxpEwSc2PUlipNJnZFSUZLUlIT-xrgQsXWJ7GVNLJ44jUd8OHw8SLU9o3GOJJIhSTUJKFGwBZNkk6NPREI7ie5PBzISFQqElIGgmEkIiCJEE2eNxmxqUS7RzEikZhJHFOSdGJkhSelP6HrAagXIVSc5M4l5Tbh4UjyXxIykXiSpcU1saJPkTeTJJdFWqU5MrHXD6YSk83m1Nkm5SmJxubSbpKlp0UaxF4siWONSmhSwOvUscf1MtRmS6ydk7sUGK7jZSuwnoyEQUFhaVTXAnkpVs1L0ksT4gF4jif2LCm7TTJ1UgqYINeFIDGBeEpnmaKNE2jQsggsqSiO1HHkkp85UlNFOSl4sQp9je0RKNeHSjtA1o1QBOIakzcfpH06cVOMulgpYquAXAILVoHACCYOhMYRSJSIo4phSMmYdgAZG3SaxcEqMduIIC7jYxUY58ccEfHzTURfuBMTQFgnWA7x64lIJmOzFsylA+4rcLmM9E0ggAA","body":"...\n: is_amb(component)\n? analyze_amb(component)\n: is_application(component)\n... "}]},{"tag":"TEXT","id":"#p13","child":[{"body":"\n    The top-level\n    function","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"ambeval"},{"body":" (similar to the version of\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"evaluate"},{"body":"\n    given in section ","tag":"#text"},{"tag":"REF","body":"4.1.7","href":"/sicpjs/4.1.7"},{"body":") analyzes the\n    given\n    component\n    and applies the resulting execution\n    function\n    to the given environment, together with two given continuations:\n    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":3,"eval":true,"prependLength":690,"program":"chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQGZMChslAGYCuAdgMYAuAlgPYkDOhATjQLYQzxKpoCMaAJlzFy1OqCr0A+hQCGAc3kBTACZSANpIoAKMmwAOdJSQoAaUBQAWSmQoCUoAN7ZQr0EyUUiTEhOn7ZKiZdAyMTBwAyCNBrWRUQ1kMSYwoHAF4Mi2tbeQBubABfYVJKWl9JDSoKJSZZdQSklIdnN3dPb3LpOUVVSvodPUSws1AAIk1q2vVRu3yikVLxCZq6qQA3OqIlBuHm1pc3Dy8fGKU47TkqesHG8NnC4tEy0FZZAGsbZantDfUt5oOriOHVAmn62nGVRW03Mv3+c0ei06UhIslY2xuuycgLax2R3WUajBA1CyRM5lGqPRMwR2AWYl8rw+KLR23oAE9WAAjGjqAGtYEnYkQqlKUbmDnc3n3Ip0koM0CSnnqKQ0Ags9E7MmpbEC9onWLxS7XUlNGWIhUVWT0ehUeQkdEmLVNXWHfX4hSEvokobainW232x0UGkPenPAN2h0pKRK3nO8KuoHu07nY3aQ0XQIm31muzm8PiSNBmNwmxKAAe+g8NrKCZ1LTdeNTRuzWau9fz5rlT3EFRUSjI6lktQZnaTuJBFQJvWFmL9Yz0DDkJikA6HI9kDJmoAAPruca03NPPbOtPWKRsmFRZFz1DZ18PR2Ud-vD0e-DkvXPTeSxoWSDXQcny3F9uwA0BH03BlY05ZVx0bZNmzjFU1Q1bZM3Tec8wRCCoOfOh1k2csqxrW06AQnFBV8TC2yw39UnzWkIKZGwl36WRV3w0CKNFWFiKkStqyUWs6H5JsQWFUZ2JXCggI3AiSHFUA+NAMtBNIkTyJIcD5WeCph25FRZA04TRJISi9WbE8eiJc9sL-cY0S5YzTLIsDcL0pZnNcgJanRSZYKldR6EsiSTlefRtBQ1V1VU2iOwcxiCy83xDJckyeRUdkwqQkEEvqejczuXTe0Zd5Ph8kyhPcii-NZSZ6HMLL2XEvKhXPJyjOqzTzOU+qApqJrQBa0qkU-AD5JAsckuaABIfYrKnLpTzs8EkopSbuO3FKysIVKpugsp0NyycOv6KQPAIC9QF4Xbxq24CjsIgbPCG07qNBLRLqUa6NtAAR7oVR6FJ4wCWo+lNiR+v6GPMDAgeeEGVQoGgpBkzi5MfSHm1Y9G6A4rinsU7R3w-NxkeewDRU7UwyfJl4Ko0Kq3K0ut6YZimDu247Xsa2mOc5-aysOxSpAh2amIeHtxoqajYzkapg1yz6bO-ey4bGeWOKVlJQ3mVKzsAmq2Yo2ak0+grOzGy1pCXFQqjKOoceWr8z3WzXpLoB2GVWE2+ocN8hc-Gc1p9W4Ri9kgfadlUdaUYN9ZlhV7cduhVmEh2yC3DEGLaz7oaum67s8vbU99lV2KUABHLYnXNxCC++ov-sB0vxvL2OpDqSZUWoNZc+KhtASbi6W81hHmMNip6BruuyDZChWGH8KPVs71oqXyPZ9r4wF6TiCd-nmx4+DUL+mXvZXBHlMrYvxj2+BoILtPlJN+X+h89vs54nvz-H+eDWOSr8TDny3p-C2KZ0x-0Rn2aQCd9AUHZLGOee9F4fy-tZaQJAiDqHqDAgBcDmYv0VgnN+MDIFYJRLgwqbYYE230tIO8NAyBvBdicNW7tw7DApMw1hB9DZ8LeOLGg2V2E0R-u2HMEcpYGz2njIRm8c7BjakbL64JRhCOUiA1IU89oVBoPoFYqMmD425FQPudYG4LTcFRFMFRSAjmQYY4xNBTGDC5BYsG44g5CwqJ41ETBnFGNHG4sxATvGzUIciRxQTVQhK3GEjxXiZp5ycDY6+S0OErXXj+IeFJYnBNce4tgESdrRM-BEuJLjQklPMZYs2aTHAZNAHYqhocN7-U0V46pCSTHhJSR5MMhsamJNMShcR6i5Lj3ybdWBvgCDPzkqM6OkzC6-Rum3YZe1Z723iSsVZDc2mSWbhs-6k9pYsSZrIfQ+hNDZzHJNf22lzAjnkEQYMrNzIQMQmoqSNy7lUAeS+OmwcjxPN6i80AbyPkxmeWUf+lyRl9KSaUwZhFUbd1ufcyJTScQyVAKMkxoA0iEpReMuC8YonHOyVIQp+zakDIaRZWagtQAAH5GbMgBTisceMaZErcXYUFYLRWtGFIspgF0VnxElnYNlAAuLlNgeVAu8fy1k2hBVMGFWysVR4JVLIZZxWVecRX6ota4XZ3tjWHLzrIi0jCsWAuBY0oemDXYdLyRHf02K1XlO2Q9A68K3UyMoflSRRUZHzOhUweQXztKhSOavFsUi01ytpPgACjACAsHYFAOAiBkDoH4BgR1RCKBMCIFYHKFZVGqyYTQXkZwLJ1tacHTlFZFWgBqCwYIFZeFNvvJxHtVZBzVBUOYDwC8qADxUAI-R0gCB1A5NoNtjg1EAEIQ5VprWu2YoBZRXOZABbQfMhrNVEeycwxg1j1qhp1TEpA1AAXFHq1o56pWXuyjekgd6KkVCfdHKQp6CD3vaatDeBAKRAZfalBdQaRaftCmBico9pkbOg3Mipk0Iaod+ehmG2gsNbLkYhpEgk-1BDoMrfDNK0qnOulhi5R7DZ43lmWEIJgXQEYfRojjxFlJLmqOEAD0gBN-G2GWcDnrIPCjLBSCTWwEMKiU2xOgImdDSbQ9-NMbZpMMPEHvdQNBbQkHjbe6j0YnS3pkycdMtmcNGtzZq2zOnmyZkcw8AlVhyyJCQZRtYVngwkpUjQ-Iydnh4xc5qFCw0yw-Po6AAIQRoqUpCvxSTiKyPA38ifdLKG8tX0ySmzMMWlAxvK0RLLxGitOEWim9M5XDO+ErCJtQlmWDWZ0HFzLw0uTWnLH+uzaVjDyCsGl4KECMikvvOZibvxP5ss5Sl4I0W8uTeVPFldwqRqDcC-K4OSq5vjcsJt3kECAA8oIxsLZ28tntTA+0QlRjQRmJB2SxveWfRURA-WqCVaMUAABqdtlrFSVosfIKgBAcpxYcKD5SQPQfvo-P0a85mYc5UW-mbtva3EvabYQJQAB3L7sLQG-f+yoQHIOweWvR1DrH52QoI7GBSOnqOjyM8x7Dn4O2WugibW8P7QVlTVa2Cz39d6JwQVvRoJtUU3O-NaIfbOFletqR2xOBmDbqF4JZ0t8HHKe1-oV4Y7QxnTNQ8C8Ft+tnDvg6VShElmRMzw6560TlmYcee7cM79Xab4fmHTDj+4DMigMxh6AS3f7Xekt84JfzyDOs0Z43q-HwQUIFJIDyZ9KlWShgjz2kKSgdfkwJeV0LkqLrldj-+vVn16CB6q3F2rrJdXG-BXliXIl2-oilhHnEkeU3y5MxbrzrG9rFkAjFTj2etfqGl6ouXZvx9K+G+X1wavOKG766o3X9jsE0MN47y1nKx+K9j0Oa35nbddeVg7v3rhnfpfj6mj3xvOWzzkj7ldmWz8LUA9d9oECtdtQ8Bd8hi96Zo96939E8EEAtU9usD9yZM8pcxhSA89o4C90RQAABafA6FWsEsEwIvcmAoEvWeLfI8SvPLavZzDbLzMFJvFvHvNvZrc1LvZgVkXvQrDvcPCg4fJLS-CfYbTNMAbNZgNgDgQtbgEtNAFActZEasKgVgR2AeEDVKYjUgEbEOOTc8EQCkVQ9Q-uMUGNEwjQmwNQu5MhEwbxEQPQq2Rw7sAlSwswrQsqRgWbc8MmKSQ0ZSNwQ0UVTvD8KSY0QI1wY0EIrgtwKSVbSI5LQIJgGIvwzqYkRI4kVI8mKSCoHBPBZSPImhIWUIg1TqB2egO5WQdkZSCoqoz7TmUo8VTqTPSIzPMFJouIzqV4KwbuLkegcUHoywPoxgBmTo1wKSYHRItwNdcwVqElAAPlAArDpwaPGKmQhHwOmNcFmNAHmLSCWJWKILWNiImM6nwMKUiJWNaAOLcCIOuPWKkgACptiY8B09j0hDjQAni9jXBHjOpgBXjdj9iviwATi0iNEABSIE94kE5Y0ASE340Af4jRGbaY4Ez4+EmbD404jY0YTdDIdE2EzElYgk0lVqXEqSS7GEuYkk0Aa7VwCkiEnQUYS7NIbYjExY+EtkxklElkhYmkj4rklYpY3kykzqBY9k8wI8Tk24kU0lHE5kiETdV4+Em40U0AbdVwOtMme4Nw68Uw2dGwSaOLElHESKDMH+cwdwo0zwpERFfUtQqwu0mCGgLkAAK3HW8PNJuR0N8FuPiINKsOUmcN0PzFxOSyDI8OzXuGwEdMNM0Ixkpx8PBCkmfV+gsVUGUnTMWWSBUHWO4LKI0UgBIFzKqBqOlJLLLKQQLMLK6I0SGKkFgEgEiMbObNrLrLxMbIAFFEieyOy6ypIAA5WQIc14kcocwAzs1oPUgmCgSMp0jwpM4BArM01oC0sgLkzMMgXbG0xMuczGB0uchchM9TZcTGPgtctwDcrcyNNsHc3cqM205cxFSLIsbFZBPc407Qowr7YkPQnlZBCxOlaOGodQdkG3d02QDYZva8RBUmfVL8qQGw+8YMBw3QiM8mN5f83II8JFHZdofQe-NPJ0PQtrYwDrKjB-N+AFCis9J8zQk0grTC6ctwJC5csXC7Ac43Wi1ZJCyaN0z0ygYaZ-Y3dig81cBLbi8HBA5PYilA2kHzbIeQEzAbFUZAkLUlH-UXDSt+WMrNVKHNPNWQrgYtTAHAN85EZyBCD8JLThMOG6UYVVV1JSSIaINlPIzVCFMybSa2UAKIenBmGKNCGmby2qFle1d-Jy7kUYCpZydGSwGgIFPvZNFNN5BNBFTsPRcaTiOodkAAL0+ChG+FSval8HrwlCIDIAXlUHMGXSuE+K53oCqpqviC+FWE41mjquzEF1yvAsKpOlKrUQqt+2qqUFqsIB6sWPfWarGtUG0HHxFyIrn2IhZ1ikGrNVEsLNsxYuDnqr5GyoVD6oKsqm6gytDSxF+TcM3FYG8NBBZk-U4pCiyvxWPK5BEFC2OsKoWpZglntSgJTRGtmtau6oaumtFWBvGviGi20IGn61-J2q2smoasOojFRH6pPlQXIHQQoES1V0NiPhSBvDwRylkGalQLKpj1vUqrmsnWRr5C5L91kBGtEvwEhptFAGEwsSIDBkIDcU5rqE0HM1AAABIAAdaoCsCgaWxwWQAoEW0S7QEyBTemwGcGrvOWd0XvJW3vKci1b-FqqGnWlW-awGJGpVLkIGw2ia026Sj8LNbMbwMvLmnBXmggfm7OPBKHUWiWtrGWuWhW43fawQ1wEfbfQ2dfYjZzUgKdESOSEQPG8mPXfI+oIBTwo3MVTlGveO0gLnY7K-QmkwYm8CqOqVHOkgcwTMNOhO8MpGiwNsau0gT+EOw9V65cYWO6i0r6pQCUcBFu5Ok-GuwK8mC-OPW4nMzMlQbtSOsrJu8AtsGu3q9Gk60WXFd1CcAlF3UlHmQiCZalVoAlNYD60lbu7QHewCdSENCK91fulMK22m0Ghm2499I+0gCq5-fnJfVWzElXS1GfJ67WhfX4ZfAGrvJva2+ICevMx+rZcHAoXa8mYO1GosZegamfZWIazet-E+kg7rJ6l6g+481+-06FVB7YdB0sASK+62UB4a6m0akG+mxq0VYh9+8HT+mBn+sVfAJ43gJ4uuglXkNQMsULRa0XFayTKXOu1isFZg7g-+iRyXIBuoEBuu8B2mjh6RsVbQLh1oHhgQfhmRsVBR9LQB9LBBox7goR3vcwLRyxhmOR+xzmT6U2nR2hpx0OlusVeB5-JB-CnKsh-GaONOdGmyvCwh9u-QY+0hvK76zudOFUTOf1QeaNWhglMgaJ0++J9GoJwu7hbUQfNwAlWQTJshrjGOBJ7udQXuUCAeGhpLe+xh4O9W4OKJt+6m5-Nmw2jml2nm4GfmpQOEUCYW3zSM1QZJ4e0VfAVGQlLkS4XwcWyW6WigRwTOMWsgSwEcAAA173lo-szhse-pactWnF3UsBygOe0y2s5Qyfab-RpqaezDNq7yVRKbubWAeahs4YsaPAdquCds5o025rdoGaGeoBGesDGazhzjmhaV8Z6uQd8Gb04lVGrVXoZCTTxSyWRELoXk7Ae1kGqo+VwRziVtuQop+aFhTspc5gtORcAhoDRfPqajsbcFxZPlITPmtj1qPCVX7GJjXpkQe2FHPvwclm7RTsRamXWscVwfmvh3cxBDpewaWNGCeNlcDDzJeIlDAKle7vFhM1YVOgJRalCyERETEX3qKePMNZXVC3pdRaxgFYxe0FGjSePI1ajFUDuuhjQk9ftHmttdZ3dfbvetIE+rKbdYafochptqmoOPfTDYsnIuA10qdCDeGn9bzOGkRvB1jbpvhZRv8aOsCe1k5bfkwePKYFKdie2Hlmoclloc+kaa+aYeOecZEDYctQ4aOYTa73ze0HYy1s41+F21tppe3wReLeeGUDkjeVCjeYYGl0+bjbBo3XCZTSKIN0XYzs5gNo0epaYe7UzB3bsC7brK6bGp6aBddv6ZSKsEkB9qWf9pED2enKVrjU4fbcLNne7jjVCnTFPYneNw6Y8b0bAHZsYF6ZBaYFZaFnwGnW8FtAHgFrwQsDe0Wb9pWdnfWc2aYB2fnbfbA52PncfoRm-Y8YHdWw-fkFeX-bto8f2oRmA-B3Hbsb8an3GkrEHGrRVT9Rcr9Lo-kGGnzcfr0IqH4p-N0IewHcAqkEk7KkE6+0-hY8nYau7UA1CGfRdLrEcMmaPCzoOjw10IQotRTcoqC2oqdCRsmmQz9IY4-FI5s+DSopIp0BcInddavR+mauqa-efuNwHc1rxG1pah89wR1Dg85TUyCc0y8+ynC+qZ5ZedACgdqrg7Y8tWDrxyewJ1-NGFIDeBIBoBJwWUNiQSMQINHR4+qGdV5SGU45Ldrbq-9SsSxetfboIBrYxr9Iowbf+rbv6GhQTtCy7rIaE-OoYHqexapvuYYdbeab7bBS6-eeA6U9too9FV-fnaVoTtscsdA6MZo+GiY+Yfse47IF45a4E6MLg87NI-0+I6FlE7u7rNO9U85ky6y4RdaUa7Rua+ssrfbtuYYFG99O7teW5ASqSoXkxZvqbbvpjYgbE65N-s+-K7iWSClt0ESuSsTstQHoNw2Zh5EmS-ByzrbDJ8tSVW3Nx9h7PcO6e+52R9e9FR0c26Z8rWQSx50Cwjp9J8KdFTDpYKgUx7a10BrvcY-AKD1bKaGr13aukV2AJcCcV-xaO0-BplZQ7RiYxo2vdQ0+kEB7zhV4B+5HV6Fj5aN-48FeV51-1ectt4KcN+NX6WSWZQt73d15Oq1XJSZTBhkDRkd9SRvpd+yedm16Fk5X1fD6V+d414MhZn64N-t9V6T8hTa5T8t8-HZc94Zmj8Cdz-ZYVmURSDh+jRd8UUj69-1ar5N4T-Ey1p0Tz5Hu94GrLdL-rnr+z4qEphJlmjhdT9rd65gkfED9ydkimmthd-Ppb4-AL+a9n+r4Zit+7lwYwe75r8CYoa76z85iVXQK6UK+K9K8VHZHsKOKIO7qTkssICNXoF5GrTrAsX0GrQAu5EGedj8lnghA3WRwkBICv95yiOQ9DMBY6J4VKbpP2K526wsce2PPKpjUzMKYlgGitTEml3zJ6s8EsYR-i6xf5v8Jw94ecg-z+AYtQskrOaDiAggWIamKoSOvgJGBHAgkFNCQAQBjwMCoqTAmoiwJm5cC3G9MSgkoFLw0EZuzkT-vUG-7bBRgf-OnBwJAEFAwB0jCAapWgGWc3OH3VwPgDEG-B5uNoaRvALayICagliAeD-Tg4kCn+BMULNR2AaKhcBCKLxoWVVjcYfAqwSOqMC4HKQEBPcYwbUwqxS9LUPjC9mAG0F1B6aTtfQegNAq5lVAddRwaHWEKtAaBvgugVfi5wMDKW7PW4mjzBR1FhwOUUYPgGSGuD1Aj2PtOQSF631mwHgAeFKjZD2CCYrhY8sQGwGSCUipKIHEz2Dhi1b+HgWuEEG2D6BisXQhmD0Jm7bp9AJuayg4CVQABycAKBHoCLJVAbQfoR4FmG4U6yPQygiMMsY9CWICcLkDUG0BQhWA5gddLsNaBjDN2x+A3G2kuHkxrh8-MLGhweGionhvLCQErHfyZh7hDwj4c8OuJvCwUAIz4eiA-7BBThIeNsHWgPTEdthwI6cj0KIGpdABI4WeCoHIHhZERR4fYYbEkFSAScbieIESKYBhxhhYHD4X0KIADDtA26LdvUFICSD8ycI+EXYjWHbB6Rtw+oOCKOHBBMwTI9EaoHnodhSR5IrsJsLcAfDK8jLYDGKNCwCi0RdQzAU4w+GCjlRoWdMOqIxGsimeVIvjDoEzBijvQY7WUWoDFG6iu8CInEYWR6H6klAhgW0GQJTI6BZhwkfQLMPMCzD3aTAT0aAFmGow-R-oixH6NmFch2QoYknFUEsCzCD0eIvaASPdHW4K48nSwLUB-4UikRSWYUG6I8D6B8C+gNMYNiDFdDQRQsAkWKPooOjkxDg6UqxTLGcwCRxXUgKmPTHbAmIHja0TaKtFxljyzY0Hi6O0CzD+xoY-oEQAHAmBQx1YNUFpDcShiHk844cDaFjGbC7RRDGoP0VEbnhZhtQrkKOK8AOwRIoY+8JQCdr0BQxZwXGqOPvAOjzxcY1nrsLXHt0Rw1AIcCJC3HghZhL4oFPeFDG+ZQxsgFcZ2XjHjQCRtoRIPeBRCyjWxg2dnuu3sb6jmwOY8CbYXwL9iCxRY2eCWL2Ge4KxxIj9q+PvAqdOxuEoUYSPwn9jm6ko1UYUG7HcEQJCoJsdBMLFti4Jj4qgWxmqJHCNI7WbQP2JgmzxMxWw+mJ9Gsr8SWJg2OsU9wbHBxXg7IbieZwWrbj0JEkrCVJLFQyTOy4kzCT3WAkPjXAiYvMTWMqaqT2xEoq4cPjokWpEJSrLiSRF4lgSUKNgbSaxI7HWTaJVk8HAxOeBgSUgaCNif8OzHbjZ43GbGthJGGaSPwTElsaZJ0bqSjGkUo8ASN3ECSzJ1EhKR5M8nuSIIyUjcalICmliOJ8iOyTxLoopTTJQk20SJJTDWVypOk+KSRONxySFJUtOijmN3EYS2x4U94fpLUh5TTJDUy1IlO4KGTqxToruLFK7C6iPhBQWFllNcA2SIoJUxSXhLJE-ANxVE+sZlPmk9ScpZEhgScMAEED4JhU1oNqJWGkoGB6U4EdKOPIhT5ypKXyaFLxaWiEJ7ImkR4BOHcjtA50lkddMakpp7p-0m0V2J2lgpYqyhaFB-1+A3QkeD9NtidJKyU0smecFtquwOrSx1k10LGUpLHgbIcZOMwWjgNIGZUWhiTIUSkRRydCwZ3Q7AASIOk5j-xXoscROIoCRjoxf46wPOK3DdSPwPQ2YfQBvH6BzxXokMV6KZn+iNwy4tyWB0UE4iAADA5y7yAwNBR4FWc-nVmcwS4QAA","body":"function ambeval(component, env, succeed, fail) {      \n    return analyze(component)(env, succeed, fail);\n} "}]},{"tag":"TEXT","id":"#p14","child":[{"body":"\n    A success\n    \n    continuation is a\n    function\n    of two arguments: the value just obtained and another failure continuation to\n    be used if that value leads to a subsequent failure. A\n    \n    failure continuation\n    is a\n    function\n    of no arguments.  So \n    the general form of an\n    \n    execution\n    function\n    is\n    ","tag":"#text"},{"tag":"SNIPPET","latex":true,"eval":false,"body":"\n(env, succeed, fail) => {      \n    // $\\texttt{succeed}\\,$ is $\\texttt{(value, fail) =>}~\\ldots$\n    // $\\texttt{fail}\\,$ is $\\texttt{() =>}~\\ldots$\n    $\\ldots$\n}\n      "}]},{"tag":"TEXT","id":"#p15","child":[{"body":"\n    For example, executing\n    ","tag":"#text"},{"tag":"SNIPPET","latex":true,"eval":false,"body":"\nambeval($component$,\n        the_global_environment,\n        (value, fail) => value,\n        () => \"failed\");\n\t  "},{"body":"\n    will attempt to evaluate the given\n    component\n    and will return either the\n    component's\n    value (if the evaluation succeeds) or the\n    \n\tstring ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"\"failed\""},{"body":"\n    (if the evaluation fails).\n    The call to ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"ambeval"},{"body":" in the driver loop shown\n    below uses much more complicated continuation\n    functions,\n    which continue the loop and support the\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"retry"},{"body":"\n    request.\n  ","tag":"#text"}]},{"tag":"TEXT","id":"#p16","child":[{"body":"\n    Most of the complexity of the ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":" evaluator\n    results from the mechanics of passing the continuations around as the\n    execution\n    functions\n    call each other.  In going through the following code, you should compare\n    each of the execution\n    functions\n    with the corresponding\n    function\n    for the ordinary evaluator given in\n    section ","tag":"#text"},{"tag":"REF","body":"4.1.7","href":"/sicpjs/4.1.7"},{"body":".\n  ","tag":"#text"}]},{"tag":"SUBHEADING","id":"#h3","child":[{"body":"Simple expressions","tag":"#text"}]},{"tag":"TEXT","id":"#p17","child":[{"body":"\n    The execution\n    functions\n    for the simplest kinds of expressions are\n    essentially the same as those for the ordinary evaluator, except for the\n    need to manage the continuations.  The execution\n    functions\n    simply succeed with the value of the expression, passing along the failure\n    continuation that was passed to them.\n    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":4,"eval":true,"prependLength":689,"program":"chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQGZMChslAGYCuAdgMYAuAlgPYkDOhATjQLYQzxKpoCMaAJlzFy1OqCr0A+hQCGAc3kBTACZSANpIoAKMmwAOdJSQoAaUBQAWSmQoCUoAN7ZQr0EyUUiTEhOn7ZKiZdAyMTBwAyCNBrWRUQ1kMSYwoHAF4Mi2tbeQBubABfYVJKWl9JDSoKJSZZdQSklIdnN3dPb3LpOUVVSvodPUSws1AAIk1q2vVRu3yikVLxCZq6qQA3OqIlBuHm1pc3Dy8fGKU47TkqesHG8NnC4tEy0FZZAGsbZantDfUt5oOriOHVAmn62nGVRW03Mv3+c0ei06UhIslY2xuuycgLax2R3WUajBA1CyRM5lGqPRMwR2AWYl8rw+KLR23oAE9WAAjGjqAGtYEnYkQqlKUbmDnc3n3Ip0koM0CSnnqKQ0Ags9E7MmpbEC9onWLxS7XUlNGWIhUVWT0ehUeQkdEmLVNXWHfX4hSEvokobainW232x0UGkPenPAN2h0pKRK3nO8KuoHu07nY3aQ0XQIm31muzm8PiSNBmNwmxKAAe+g8NrKCZ1LTdeNTRuzWau9fz5rlT3EFRUSjI6lktQZnaTuJBFQJvWFmL9Yz0DDkJikA6HI9kDJmoAAPruca03NPPbOtPWKRsmFRZFz1DZ18PR2Ud-vD0e-DkvXPTeSxoWSDXQcny3F9uwA0BH03BlY05ZVx0bZNmzjFU1Q1bZM3Tec8wRCCoOfOh1k2csqxrW06AQnFBV8TC2yw39UnzWkIKZGwl36WRV3w0CKNFWFiKkStqyUWs6H5JsQWFUZ2JXCggI3AiSHFUA+NAMtBNIkTyJIcD5WeCph25FRZA04TRJISi9WbE8eiJc9sL-cY0S5YzTLIsDcL0pZnNcgJanRSZYKldR6EsiSTlefRtBQ1V1VU2iOwcxiCy83xDJckyeRUdkwqQkEEvqejczuXTe0Zd5Ph8kyhPcii-NZSZ6HMLL2XEvKhXPJyjOqzTzOU+qApqJrQBa0qkU-AD5JAsckuaABIfYrKnLpTzs8EkopSbuO3FKysIVKpugsp0NyycOv6KQPAIC9QF4Xbxq24CjsIgbPCG07qNBLRLqUa6NtAAR7oVR6FJ4wCWo+lNiR+v6GPMDAgeeEGVQoGgpBkzi5MfSHm1Y9G6A4rinsU7R3w-NxkeewDRU7UwyfJl4Ko0Kq3K0ut6YZimDu247Xsa2mOc5-aysOxSpAh2amIeHtxoqajYzkapg1yz6bO-ey4bGeWOKVlJQ3mVKzsAmq2Yo2ak0+grOzGy1pCXFQqjKOoceWr8z3WzXpLoB2GVWE2+ocN8hc-Gc1p9W4Ri9kgfadlUdaUYN9ZlhV7cduhVmEh2yC3DEGLaz7oaum67s8vbU99lV2KUABHLYnXNxCC++ov-sB0vxvL2OpDqSZUWoNZc+KhtASbi6W81hHmMNip6BruuyDZChWGH8KPVs71oqXyPZ9r4wF6TiCd-nmx4+DUL+mXvZXBHlMrYvxj2+BoILtPlJN+X+h89vs54nvz-H+eDWOSr8TDny3p-C2KZ0x-0Rn2aQCd9AUHZLGOee9F4fy-tZaQJAiDqHqDAgBcDmYv0VgnN+MDIFYJRLgwqbYYE230tIO8NAyBvBdicNW7tw7DApMw1hB9DZ8LeOLGg2V2E0R-u2HMEcpYGz2njIRm8c7BjakbL64JRhCOUiA1IU89oVBoPoFYqMmD425FQPudYG4LTcFRFMFRSAjmQYY4xNBTGDC5BYsG44g5CwqJ41ETBnFGNHG4sxATvGzUIciRxQTVQhK3GEjxXiZp5ycDY6+S0OErXXj+IeFJYnBNce4tgESdrRM-BEuJLjQklPMZYs2aTHAZNAHYqhocN7-U0V46pCSTHhJSR5MMhsamJNMShcR6i5Lj3ybdWBvgCDPzkqM6OkzC6-Rum3YZe1Z723iSsVZDc2mSWbhs-6k9pYsSZrIfQ+hNDZzHJNf22lzAjnkEQYMrNzIQMQmoqSNy7lUAeS+OmwcjxPN6i80AbyPkxmeWUf+lyRl9KSaUwZhFUbd1ufcyJTScQyVAKMkxoA0iEpReMuC8YonHOyVIQp+zakDIaRZWagtQAAH5GbMgBTisceMaZErcXYUFYLRWtGFIspgF0VnxElnYNlAAuLlNgeVAu8fy1k2hBVMGFWysVR4JVLIZZxWVecRX6ota4XZ3tjWHLzrIi0jCsWAuBY0oemDXYdLyRHf02K1XlO2Q9A68K3UyMoflSRRUZHzOhUweQXztKhSOavFsUi01ytpPgACjACAsHYFAOAiBkDoH4BgR1RCKBMCIFYHKFZVGqyYTQXkZwLJ1tacHTlFZFWgBqCwYIFZeFNvvJxHtVZBzVBUOYDwC8qADxUAI-R0gCB1A5NoNtjg1EAEIQ5VprWu2YoBZRXOZABbQfMhrNVEeycwxg1j1qhp1TEpA1AAXFHq1o56pWXuyjekgd6KkVCfdHKQp6CD3vaatDeBAKRAZfalBdQaRaftCmBico9pkbOg3Mipk0Iaod+ehmG2gsNbLkYhpEgk-1BDoMrfDNK0qnOulhi5R7DZ43lmWEIJgXQEYfRojjxFlJLmqOEAD0gBN-G2GWcDnrIPCjLBSCTWwEMKiU2xOgImdDSbQ9-NMbZpMMPEHvdQNBbQkHjbe6j0YnS3pkycdMtmcNGtzZq2zOnmyZkcw8AlVhyyJCQZRtYVngwkpUjQ-Iydnh4xc5qFCw0yw-Po6AAIQRoqUpCvxSTiKyPA38ifdLKG8tX0ySmzMMWlAxvK0RLLxGitOEWim9M5XDO+ErCJtQlmWDWZ0HFzLw0uTWnLH+uzaVjDyCsGl4KECMikvvOZibvxP5ss5Sl4I0W8uTeVPFldwqRqDcC-K4OSq5vjcsJt3kECAA8oIxsLZ28tntTA+0QlRjQRmJB2SxveWfRURA-WqCVaMUAABqdtlrFSVosfIKgBAcpxYcKD5SQPQfvo-P0a85mYc5UW-mbtva3EvabYQJQAB3L7sLQG-f+yoQHIOweWvR1DrH52QoI7GBSOnqOjyM8x7Dn4O2WugibW8P7QVlTVa2Cz39d6JwQVvRoJtUU3O-NaIfbOFletqR2xOBmDbqF4JZ0t8HHKe1-oV4Y7QxnTNQ8C8Ft+tnDvg6VShElmRMzw6560TlmYcee7cM79Xab4fmHTDj+4DMigMxh6AS3f7Xekt84JfzyDOs0Z43q-HwQUIFJIDyZ9KlWShgjz2kKSgdfkwJeV0LkqLrldj-+vVn16CB6q3F2rrJdXG-BXliXIl2-oilhHnEkeU3y5MxbrzrG9rFkAjFTj2etfqGl6ouXZvx9K+G+X1wavOKG766o3X9jsE0MN47y1nKx+K9j0Oa35nbddeVg7v3rhnfpfj6mj3xvOWzzkj7ldmWz8LUA9d9oECtdtQ8Bd8hi96Zo96939E8EEAtU9usD9yZM8pcxhSA89o4C90RQAABafA6FWsEsEwIvcmAoEvWeLfI8SvPLavZzDbLzMFJvFvHvNvZrc1LvZgVkXvQrDvcPCg4fJLS-CfYbTNMAbNZgNgDgQtbgEtNAFActZEasKgVgR2AeEDVKYjUgEbEOOTc8EQCkVQ9Q-uMUGNEwjQmwNQu5MhEwbxEQPQq2Rw7sAlSwswrQsqRgWbc8MmKSQ0ZSNwQ0UVTvD8KSY0QI1wY0EIrgtwKSVbSI5LQIJgGIvwzqYkRI4kVI8mKSCoHBPBZSPImhIWUIg1TqB2egO5WQdkZSCoqoz7TmUo8VTqTPSIzPMFJouIzqV4KwbuLkegcUHoywPoxgBmTo1wKSYHRItwNdcwVqElAAPlAArDpwaPGKmQhHwOmNcFmNAHmLSCWJWKILWNiImM6nwMKUiJWNaAOLcCIOuPWKkgACptiY8B09j0hDjQAni9jXBHjOpgBXjdj9iviwATi0iNEABSIE94kE5Y0ASE340Af4jRGbaY4Ez4+EmbD404jY0YTdDIdE2EzElYgk0lVqXEqSS7GEuYkk0Aa7VwCkiEnQUYS7NIbYjExY+EtkxklElkhYmkj4rklYpY3kykzqBY9k8wI8Tk24kU0lHE5kiETdV4+Em40U0AbdVwOtMme4Nw68Uw2dGwSaOLElHESKDMH+cwdwo0zwpERFfUtQqwu0mCGgLkAAK3HW8PNJuR0N8FuPiINKsOUmcN0PzFxOSyDI8OzXuGwEdMNM0Ixkpx8PBCkmfV+gsVUGUnTMWWSBUHWO4LKI0UgBIFzKqBqOlJLLLKQQLMLK6I0SGKkFgEgEiMbObNrLrLxMbIAFFEieyOy6ypIAA5WQIc14kcocwAzs1oPUgmCgSMp0jwpM4BArM01oC0sgLkzMMgXbG0xMuczGB0uchchM9TZcTGPgtctwDcrcyNNsHc3cqM205cxFSLIsbFZBPc407Qowr7YkPQnlZBCxOlaOGodQdkG3d02QDYZva8RBUmfVL8qQGw+8YMBw3QiM8mN5f83II8JFHZdofQe-NPJ0PQtrYwDrKjB-N+AFCis9J8zQk0grTC6ctwJC5csXC7Ac43Wi1ZJCyaN0z0ygYaZ-Y3dig81cBLbi8HBA5PYilA2kHzbIeQEzAbFUZAkLUlH-UXDSt+WMrNVKHNPNWQrgYtTAHAN85EZyBCD8JLThMOG6UYVVV1JSSIaINlPIzVCFMybSa2UAKIenBmGKNCGmby2qFle1d-Jy7kUYCpZydGSwGgIFPvZNFNN5BNBFTsPRcaTiOodkAALxsBplSval8HrwlCIDIAXlUHMGXSuE+PfXoEquqviHHxFyIrn2IhZ1ihOlmhYtYqPFs36qFjqr5GyoVFyvAsKuZm6gytDSxF+TcM3FYG8NBBZk-U4pCiyvxWPK5BEFC0moKu2HSlcglntSgJTXKt+yqqUBqsIGzAatFSaputUG0Gi20IGn61-KGtEu3wevGojFRCmpPlQXIHQQoES1V0NiPhSBvDwRylkGalQNKpj1vQqpesnXuvqq5L91kCutEvwGeoXhtFAGEwsSIDBkIDcVJrqE0HM1AAABIAAdaoCsCgdmxwWQAoBm0S7QEyBTLG9QQGRY36z8NTPm3vKci1b-Zq26+Ifm4iWq7MQGUWpVLkK6omuWpWq4QGYa8mLNbMbwMvMmnBSmggam7OPBKHRmlmtrDmrmnm43UawQ1wEfbfQ2dfYjZzUgKdESOSEQSG8mPXfI+oIBTwo3MVTlGvf20gLnY7K-GGkwOG8Cr2qVGOkgcwTMMOgO8M0WiwNsbO0gT+F2w9Ha5cYWVai0w6wqiUcBEu4Ok-HOwK8mC-OPW4nMzMlQbtT2srIu8AtsHOwXauh8YmXFd1CcAlF3UlHmQiCZalVoAlNYfa0lYe7QGewCdSENCK91eulMDW2Wu652nG0VJe0gcq5-fnJfQW4W24lXS1GfTa3vDA34ZfC6rvJvA++IDuvM7WoWkusVAoPW8Ff6-CnKoGo67uEg7rU6Set-FeqBz5OevON+0m480+-06FcBwqvmhB0sASLe62FBz6fejG3+x6sFdB8+8HS+3+m+pYjdUVfAJ43gJ4vOglXkNQMsULNq0XTqyTKXPOga4OZg7gh+vhyXBfF+03BvQsj+jGmhwRsVbQTEhhtwJhgQVhoR0VMR9LJ+7PRRrRhmDh3vcwAxwxj8ER8xw-ZsUagQZRlBqxw9f+0VQB5-Z2gGosLBs8mOdOaRBa2yhe48-QZezBvK7BzuXxqQTOf1QeaNFBglMgEJ1eiJoG-GBgUG7hbUQfNwAlWQJJrxrjHx1JnuGoSxAeQhpLEhlqshkW0VYJs+tG5-Qm2Wkmk2im4GampQOEUCem3zSM1QGJ5uxhsAVGQlLkS4XwZm1m9migRwTOJmsgSwEcAAA1725ovszhMevvIfB2nF3UsByk2e01+s5USYab-XRuqe2d+qVTyfObWEua1u2aAdaANquCNtQaTtNo6ZSK6c2B6fkCyDL2iYeSUDmhaTcZAan3Gmb04lVGrVFjBiTTxSyWREToXk7Ae1kCqo+VwRzj5tuQopec5hDuJYZgtNhcAhoARfXqajMatVBoXgVmURSGRZ3qlqPCVX7FHtSXdQe2FHXs2utm7RDo8YY2lXVEcSgdevh3cxBApbgaWNGCeKlcDDzJeIlDALFdCeBvFhM1YRgd2qvVCyERETEXnpyePP1ZXVC0pfhaxh5cytGniePNVajFUFWuhjQjdftFeutdZxdfLr2tIAOoKedcqbRuuquaPoOPfWDYsnIuA10qdH9eGh9bzOGh+vB01rushfqu1eHp+jxGZd1nrhRctfLqYHybCe2HlgIcliIb3sjZzcxpjYWPfSrfubJZjykdsZ2YZ0-reqZnFt+F2z7e7fcdAYVGUDkjeVCjuYYGl0ecPoevqzwtRc-BDr5pzoexbe0FJcFo5daCVUzAXc-ioc7OaZutaY03JrNupqsEkBtumftpEHWenL5rjVof7brJne7jjVCnTDPekrrMaccbUbAE1pva+faaRjcXpc5nwGnW8FtAHhprwQsDeymbttmZnYWaWaYFWbnfffA5jznd-oRlqdI6tUHdW0-fkFeQA5A6sdGoRm7fB3HYMcnehYVErEHGrRVT9Rcr9MY-kGGhbZqd4yoX4p-N0N3cHcAqiYYu-LKhE6+0-nY7+vqu7UA1CGfRdLrEcKGaPCjoOjw10IQotUTcoqC2oqdFFsmmQz9OY4-HI4c+DSopIp0BcLJe0Bah+iavUBGD7ePuzcHblndCfv85rFwR1Hpc5TUzSc0z86vQC9i6PeNyVW-pqvpc48tWdrxyewJ1-NGFIDeBIBoBJwWUNiQSMQINHX4+qGdV5SGR48Bprea-9SsXLdcEr2reBr9Io3rfOrLv6GhQDtCyrq8dE7moYAqY3aqaebbffQIBEAvYtTU5C9ja7z-bne3aLtMa0bA6Efo+GlY5-dYr47IAE86+E6MIQ7rPI+M+o6Cs-s0-MfO-e4Zjy-y-+taTa88Y6+spKs+bG7OYYEm99OHteW5ASqSuJvm8uubbe8Pa5Lvs5ggkrWQWSDZt0ESuSsDstQboN0Wfh5Egy-P0FuUbMZPckVJ4J7sHW5e5o9IYe9FWUao+Z9aCx5RDa3TXx+Jq7AcaFjdpYKgTiRx4GBzuF6PAKALYKZB71y+GdlZQ7R1YgeV78ayZ0+wU1VV6Fk5ULeKrzh1+7m5ExbV8LeB5N6O0-GcrHpkSxa8du4d92FN+1SZVd+18t4KY9+SWZRkDRnt95ejVN5SZV5t4N-V+mvD616aFN5Op6h8u675Z9468T9m4t6Fi5ekHRdibd7T91bz+ikZZPlITPmFdt-8X1bYX185kN+d8UTr4Zhz6LY6BLbsMyfj8L4ge1nL7fmb-Jlb8phJlmghZ7+weRkD7ScJgdaHEr+z8-HXqz-r+j5HtBhD4L8X6tFwbLdT6j6t9367-CEK+ey6TK4q6q8VHZHsKOKIOHqTksuhW5D+bj7-GR9IdR9UdsQ3eSbzkW5Xb5sp2SMI1PQF5DVo6wFifQNWgAov9fgZ6EcLPAhAbpkcEgEgNAPnKI5D0MwdjonhUpuk-YnnbrOxxoYqQ2s3cILqU1AgDxMSL9XmpiWy75kC2eCWMOAIZChQoBMAicPeHnJgC-g7A0LKKzmg4gIIFiXuKsE9qcCRgRwIJMjQkAEAY8UgqKjIJqJyCN2Kg+xvTEoJKBS8NBX-nAOdh+QkBowFAXTiUFYCCgOAwRngNUqEDbOXnL7qAHwDORX+UbLSII1IGS8KB4gswio3pZ8CIBBMULHRykYBD2BzjbgqrG4w+AJBV+UYCoOUheCSmMQ3wTLwtSuM6yzggweoEFpG0PBDA0CrmVUB50IhpdVoKLzEFUCVQntLnFIJeYc9b6olOosOByijB8AlQmITkNaKlCKCu9ZsB4AHhSo2QbAhFK4WPLEAWBRgmoKFiBxc8GYTNJ-h4FrhBBtg+gYrHMKPALCN226fQCbmsoOAlUAAcnACgR6AiyVQG0GWEeBDhuFOsgsMoIbDWKCwliAnC5A1BtAUIVgOYHXSPDQAWwlNEUQNxtpfhrQf4R+E5Qh0QRwcMEZywkBKx38mYYERsJhHgi1SUIzmCiNhHogX+wQT4SHjbB1oD04He4eiMLILCeBoAUgFMJUCCDwspI1wM8MNhTCpAJONxPEFZFMAw46wxxjCKWFEAVh2gbdICPqBUjEBqgJiNR15FzwBRQo4-AbmxFvDggmYUUUMPzL4iOwHIrkUL02Gjd5y5tfTpqNCzKj0BYopgeYxhEqjZ4NIhPG2EtHijbhL3KUc2GFCZhNR3oMdtS2AyaiiRZIwoPSK7wLD9SSgQwLaAEEpkdAhw4SPoEOHmBDh5tJgDGNACHDUYiYpMRYkTGHCuQ7IDMSTiqCWBDhB6RkXtGZFRjrcFcKJpYFqBIDuR05J0ScnBCRiPA+gfAvoErGDZUxjoz3MyM1H0VgxZY0YdKSeFdixRKIT0RWKrHbAJR5ov0f6PByBjjyFXIutw3PCHDFxJADMf0CIADgTAGY6sGqC0huIMxDyI8cOBtAFjbh848uoMP6LLiGx14jcV4AdgiQMx94SgEbXoAZizgENDcfeGDEfjCxbPLnpeLG4jhqAQ4ESLeIjGgSgU94DMb5gzGyBzxnZIseNGZG2hEg94UcaQHHGDYOe3-IRnWPOgRj0JthfAmuJbFtjZ4HYrRpiKFjdi2Rn7MCfeA05WNaJnMeiZyP3aeji6Do6cQ8NnEWoUJCoZkWuJwnVi12nYqGvImqJvCNI7WLidhNbETiaxdw+mJ9GsqiSlJg2QcaRzYnBxXg7IWSdZ20DChVxnoiiROOolio9JnZTSZRKUA6SAxgE1wCWKbH9jImWk6sdqLcAwj+JAkoWIRPKiGSSI8ktCShSKpjjPJk4n0dZJnH+TYpEENCSkDQR4THhgUjYocNnjcYwaVkySYhRHF2SJxyjRyQROHFDD1gNQLkGJOim8TSpfk+KdCKf7Mjrx1U1KczxhFXJgpckuii1KikqTfR1jEENZV6n2SSprE0SgZKMls06Kpk68RZPbFjTGpjjEaROMWmCTnJSRcqaWNDFdwopyjbyQyOHzgt4p6UyaSFLoocT4g14niUOPqkNSMRTUkcVII+HoCuB+E3STiDtHWi0BGA2qb8JhGT0UgwQkcVlJEwYsYp04vUFcO2DCjtAX0qcZKKSygy-ppIkkfdLBSxVlCa-SoJMAj7j0pOIIAAa21XbbcxUe7TXk-T6qHtaQ6ya6LTJMmMYGZY8DZPTNpqsD+BmVCYSqCmEpEUcsw9GQ9OZHPTTJ8E2MZuO3EUAcxeYuCdYCPFbhcpH4BYZlN-H6APxsY9MbGNFlJiNwZ4hGVYysFQiAADC5y7y616WZs8HBbIZglwgAA","body":"function analyze_literal(component) {\n    return (env, succeed, fail) =>\n               succeed(literal_value(component), fail);\n} "},{"tag":"SNIPPET","latex":false,"id":5,"eval":true,"prependLength":687,"program":"chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQGZMChslAGYCuAdgMYAuAlgPYkDOhATjQLYQzxKpoCMaAJlzFy1OqCr0A+hQCGAc3kBTACZSANpIoAKMmwAOdJSQoAaUBQAWSmQoCUoAN7ZQr0EyUUiTEhOn7ZKiZdAyMTBwAyCNBrWRUQ1kMSYwoHAF4Mi2tbeQBubABfYVJKWl9JDSoKJSZZdQSklIdnN3dPb3LpOUVVSvodPUSws1AAIk1q2vVRu3yikVLxCZq6qQA3OqIlBuHm1pc3Dy8fGKU47TkqesHG8NnC4tEy0FZZAGsbZantDfUt5oOriOHVAmn62nGVRW03Mv3+c0ei06UhIslY2xuuycgLax2R3WUajBA1CyRM5lGqPRMwR2AWYl8rw+KLR23oAE9WAAjGjqAGtYEnYkQqlKUbmDnc3n3Ip0koM0CSnnqKQ0Ags9E7MmpbEC9onWLxS7XUlNGWIhUVWT0ehUeQkdEmLVNXWHfX4hSEvokobainW232x0UGkPenPAN2h0pKRK3nO8KuoHu07nY3aQ0XQIm31muzm8PiSNBmNwmxKAAe+g8NrKCZ1LTdeNTRuzWau9fz5rlT3EFRUSjI6lktQZnaTuJBFQJvWFmL9Yz0DDkJikA6HI9kDJmoAAPruca03NPPbOtPWKRsmFRZFz1DZ18PR2Ud-vD0e-DkvXPTeSxoWSDXQcny3F9uwA0BH03BlY05ZVx0bZNmzjFU1Q1bZM3Tec8wRCCoOfOh1k2csqxrW06AQnFBV8TC2yw39UnzWkIKZGwl36WRV3w0CKNFWFiKkStqyUWs6H5JsQWFUZ2JXCggI3AiSHFUA+NAMtBNIkTyJIcD5WeCph25FRZA04TRJISi9WbE8eiJc9sL-cY0S5YzTLIsDcL0pZnNcgJanRSZYKldR6EsiSTlefRtBQ1V1VU2iOwcxiCy83xDJckyeRUdkwqQkEEvqejczuXTe0Zd5Ph8kyhPcii-NZSZ6HMLL2XEvKhXPJyjOqzTzOU+qApqJrQBa0qkU-AD5JAsckuaABIfYrKnLpTzs8EkopSbuO3FKysIVKpugsp0NyycOv6KQPAIC9QF4Xbxq24CjsIgbPCG07qNBLRLqUa6NtAAR7oVR6FJ4wCWo+lNiR+v6GPMDAgeeEGVQoGgpBkzi5MfSHm1Y9G6A4rinsU7R3w-NxkeewDRU7UwyfJl4Ko0Kq3K0ut6YZimDu247Xsa2mOc5-aysOxSpAh2amIeHtxoqajYzkapg1yz6bO-ey4bGeWOKVlJQ3mVKzsAmq2Yo2ak0+grOzGy1pCXFQqjKOoceWr8z3WzXpLoB2GVWE2+ocN8hc-Gc1p9W4Ri9kgfadlUdaUYN9ZlhV7cduhVmEh2yC3DEGLaz7oaum67s8vbU99lV2KUABHLYnXNxCC++ov-sB0vxvL2OpDqSZUWoNZc+KhtASbi6W81hHmMNip6BruuyDZChWGH8KPVs71oqXyPZ9r4wF6TiCd-nmx4+DUL+mXvZXBHlMrYvxj2+BoILtPlJN+X+h89vs54nvz-H+eDWOSr8TDny3p-C2KZ0x-0Rn2aQCd9AUHZLGOee9F4fy-tZaQJAiDqHqDAgBcDmYv0VgnN+MDIFYJRLgwqbYYE230tIO8NAyBvBdicNW7tw7DApMw1hB9DZ8LeOLGg2V2E0R-u2HMEcpYGz2njIRm8c7BjakbL64JRhCOUiA1IU89oVBoPoFYqMmD425FQPudYG4LTcFRFMFRSAjmQYY4xNBTGDC5BYsG44g5CwqJ41ETBnFGNHG4sxATvGzUIciRxQTVQhK3GEjxXiZp5ycDY6+S0OErXXj+IeFJYnBNce4tgESdrRM-BEuJLjQklPMZYs2aTHAZNAHYqhocN7-U0V46pCSTHhJSR5MMhsamJNMShcR6i5Lj3ybdWBvgCDPzkqM6OkzC6-Rum3YZe1Z723iSsVZDc2mSWbhs-6k9pYsSZrIfQ+hNDZzHJNf22lzAjnkEQYMrNzIQMQmoqSNy7lUAeS+OmwcjxPN6i80AbyPkxmeWUf+lyRl9KSaUwZhFUbd1ufcyJTScQyVAKMkxoA0iEpReMuC8YonHOyVIQp+zakDIaRZWagtQAAH5GbMgBTisceMaZErcXYUFYLRWtGFIspgF0VnxElnYNlAAuLlNgeVAu8fy1k2hBVMGFWysVR4JVLIZZxWVecRX6ota4XZ3tjWHLzrIi0jCsWAuBY0oemDXYdLyRHf02K1XlO2Q9A68K3UyMoflSRRUZHzOhUweQXztKhSOavFsUi01ytpPgACjACAsHYFAOAiBkDoH4BgR1RCKBMCIFYHKFZVGqyYTQXkZwLJ1tacHTlFZFWgBqCwYIFZeFNvvJxHtVZBzVBUOYDwC8qADxUAI-R0gCB1A5NoNtjg1EAEIQ5VprWu2YoBZRXOZABbQfMhrNVEeycwxg1j1qhp1TEpA1AAXFHq1o56pWXuyjekgd6KkVCfdHKQp6CD3vaatDeBAKRAZfalBdQaRaftCmBico9pkbOg3Mipk0Iaod+ehmG2gsNbLkYhpEgk-1BDoMrfDNK0qnOulhi5R7DZ43lmWEIJgXQEYfRojjxFlJLmqOEAD0gBN-G2GWcDnrIPCjLBSCTWwEMKiU2xOgImdDSbQ9-NMbZpMMPEHvdQNBbQkHjbe6j0YnS3pkycdMtmcNGtzZq2zOnmyZkcw8AlVhyyJCQZRtYVngwkpUjQ-Iydnh4xc5qFCw0yw-Po6AAIQRoqUpCvxSTiKyPA38ifdLKG8tX0ySmzMMWlAxvK0RLLxGitOEWim9M5XDO+ErCJtQlmWDWZ0HFzLw0uTWnLH+uzaVjDyCsGl4KECMikvvOZibvxP5ss5Sl4I0W8uTeVPFldwqRqDcC-K4OSq5vjcsJt3kECAA8oIxsLZ28tntTA+0QlRjQRmJB2SxveWfRURA-WqCVaMUAABqdtlrFSVosfIKgBAcpxYcKD5SQPQfvo-P0a85mYc5UW-mbtva3EvabYQJQAB3L7sLQG-f+yoQHIOweWvR1DrH52QoI7GBSOnqOjyM8x7Dn4O2WugibW8P7QVlTVa2Cz39d6JwQVvRoJtUU3O-NaIfbOFletqR2xOBmDbqF4JZ0t8HHKe1-oV4Y7QxnTNQ8C8Ft+tnDvg6VShElmRMzw6560TlmYcee7cM79Xab4fmHTDj+4DMigMxh6AS3f7Xekt84JfzyDOs0Z43q-HwQUIFJIDyZ9KlWShgjz2kKSgdfkwJeV0LkqLrldj-+vVn16CB6q3F2rrJdXG-BXliXIl2-oilhHnEkeU3y5MxbrzrG9rFkAjFTj2etfqGl6ouXZvx9K+G+X1wavOKG766o3X9jsE0MN47y1nKx+K9j0Oa35nbddeVg7v3rhnfpfj6mj3xvOWzzkj7ldmWz8LUA9d9oECtdtQ8Bd8hi96Zo96939E8EEAtU9usD9yZM8pcxhSA89o4C90RQAABafA6FWsEsEwIvcmAoEvWeLfI8SvPLavZzDbLzMFJvFvHvNvZrc1LvZgVkXvQrDvcPCg4fJLS-CfYbTNMAbNZgNgDgQtbgEtNAFActZEasKgVgR2AeEDVKYjUgEbEOOTc8EQCkVQ9Q-uMUGNEwjQmwNQu5MhEwbxEQPQq2Rw7sAlSwswrQsqRgWbc8MmKSQ0ZSNwQ0UVTvD8KSY0QI1wY0EIrgtwKSVbSI5LQIJgGIvwzqYkRI4kVI8mKSCoHBPBZSPImhIWUIg1TqB2egO5WQdkZSCoqoz7TmUo8VTqTPSIzPMFJouIzqV4KwbuLkegcUHoywPoxgBmTo1wKSYHRItwNdcwVqElAAPlAArDpwaPGKmQhHwOmNcFmNAHmLSCWJWKILWNiImM6nwMKUiJWNaAOLcCIOuPWKkgACptiY8B09j0hDjQAni9jXBHjOpgBXjdj9iviwATi0iNEABSIE94kE5Y0ASE340Af4jRGbaY4Ez4+EmbD404jY0YTdDIdE2EzElYgk0lVqXEqSS7GEuYkk0Aa7VwCkiEnQUYS7NIbYjExY+EtkxklElkhYmkj4rklYpY3kykzqBY9k8wI8Tk24kU0lHE5kiETdV4+Em40U0AbdVwOtMme4Nw68Uw2dGwSaOLElHESKDMH+cwdwo0zwpERFfUtQqwu0mCGgLkAAK3HW8PNJuR0N8FuPiINKsOUmcN0PzFxOSyDI8OzXuGwEdMNM0Ixkpx8PBCkmfV+gsVUGUnTMWWSBUHWO4LKI0UgBIFzKqBqOlJLLLKQQLMLK6I0SGKkFgEgEiMbObNrLrLxMbIAFFEieyOy6ypIAA5WQIc14kcocwAzs1oPUgmCgSMp0jwpM4BArM01oC0sgLkzMMgXbG0xMuczGB0uchchM9TZcTGPgtctwDcrcyNNsHc3cqM205cxFSLIsbFZBPc407Qowr7YkPQnlZBCxOlaOGodQdkG3d02QDYZva8RBUmfVL8qQGw+8YMBw3QiM8mN5f83II8JFHZdofQe-NPJ0PQtrYwDrKjB-N+AFCis9J8zQk0grTC6ctwJC5csXC7Ac43Wi1ZJCyaN0z0ygYaZ-Y3dig81cBLbi8HBA5PYilA2kHzbIeQEzAbFUZAkLUlH-UXDSt+WMrNVKHNPNWQrgYtTAHAN85EZyBCD8JLThMOG6UYVVV1JSSIaINlPIzVCFMybSa2UAKIenBmGKNCGmby2qFle1d-Jy7kUYCpZydGSwGgIFPvZNFNN5BNBFTsPRcaTiOodkAAL0+ChG+FSval8HrwlCIDIAXlUHMGXSuE+K53oCqpqviC+FWE41mjquzEF1yvAsKuZm6gytDSxF+TcM3FYG8NBBZk-U4pCiyvxWPK5BEFCz6oKu2HSlcglntSgJTQqt+2qqUFqsIB6sWPfWasOtUG0Gi20IGn61-NsxYuDnqr5GyoVDWoGqPjQXfgoES1V0Ni+pMBvDwRylkGalQLKpj1vUqsusnROoaq5L91kH2tEvwAuoXhtFAGEwsSIDBkIDcSxrqE0HM1AAABIAAdaoCsCgGmxwWQAoUm0S7QEyBTeG9QQGM67guWd0XvZm3vKci1b-Fqo6+IFm4ibqq4QGUSl-Eafa9GkWiW9m6Sj8LNbMbwMvbGnBPGggAm7OPBKHMmymtrWm+mxm43F6wQ1wEfbfQ2dfYjZzUgKdESOSEQP68mPXfI+oIBTwo3MVTlGvF20gLnY7K-QG6gImnKAOzw8wTMb2128M6WqItsOO0gT+S2w9Ra5cYWKai0j6pQCUcBdOj2k-eOwK8mC-OPW4nMzMlQbtO2srVO8AtseO3q1Efqh8YmXFd1CcAlF3UlHmQiCZalVoAlNYFa0lPO7QAewCdSENCK91IulMOW4W46i2xG0VMe0gCq5-fnJfNmjm24lXS1GfOa3mhfX4ZfXarvJvFe+IauvMxWrZcHAoJ68mC2t6iMNu9a7uEg7rU6Xut-Ce3+z5IevOK+rG48ze-06FL+wq5m4B0sASOe62cBz6Ze2GxWxqjekQbe8HXex+zEjdUVfAJ43gJ4xOiBrO3kNQMsULcfEXIiufYiKXCh1isFZg7gk+phyTDAi+03BvQsm+2G-B1hsVbQQho8EhgQchthsVLh9LM+9LV+2R7g6h3vcwURlRhmDhrRzmT6F6gQcR8B3Rq29OsVF+5-d+-CnK2Bs8mOdOaRUa2yke48-QcemBvKuBzuBxqQTOf1QeaNcBglMgdxye7xtu-GBgVBeuHazO-oaFUJ2xrjexiJnuGoSxAeFBpLdB1qzBzmsFNxre6G5-NG4WzGzW3G4GAmpQOEUCEm3zSM1Qfxsu4hsAVGQlLkS4XwCmqmmmigRwTOcmsgSwEcAAA17wZp3sznUf3qweN2nF3UsBymme02ls5RCaKb-RhtydmelqVVkBwehoOp2YMeVtaFVquHVsoeoC1qqZSJqc2DqfkCyDLz8YeSUDmhaUsZ6o-vEGb04lVGrVFjBiTTxSyWREBoXk7Ae1kGqo+VwRzmZtuQouUeDk9tRaFgtP+cAhoCBenqak0bcEhZPlITPmtgFqPCVX7E7tSXdQe2FGnrmutm7U9t+YY2lXVEcV-quvh3cxBCxcAaWNGCeK5cDDzJeIlDALZY8fbvFhM1YX-qWqvVCyERETEWHrcAJXlZXVC2xcBaxhpcytGiCePNFajFUCmuhjQjNftCuu1dZxNazuWtIFWqSeNeyaOfltXtOoOPfWdYsnIuA10qdHteGhtbzOGkeufy9bhu+Yaulbzp+jxAVmUTflKsofiaYESc8e2HlmQcllQaXs9dvryd9dFSzc2bWAxZmL4dOfyfBxjeuqZjU13t21Oere3x+esYVGUDkjeVCgOdTul22YVrZuK1sXBc-E9uZvjoe0bfRbHe7UzEHYYDsFwc7NKcOvKY0xxu1oJqsEkENt6ZNpEEmenOZrjQIfrc7N7e7jjVCnTBXc-g7eN2KZMfObAHlu3aBtuaRjcUJaFnwGnW8FtAHkJrwQsDex6eNv6d7aGZGaYHGf7bPffZ2P7cVoRmvdQ8bdWwvfkFeXvbOd0ZeoRhffB3bc0asan3GkrEHGrRVT9Rcr9II-kGGhjbyd4yoX4p-N0LndvqRbuU-IYu-LKmY6+2fcTotu7UA1CGfRdLrEcJaaPH9oOjw10IQotUDcoqC2oqdEk4OmQz9KI6PHQ-05FmDZ0BcI7e0Bah+mavUBGDrduNEsbe5uTc41s5rFwR1AA85TU0ic0xs6vTs+84pa7yVXvtqoA4o8tSk6O0e2e1-NGFIDeBIBoBJwWUNiQSMQINHTo+qGdV5SGWo-etscK-9SsTBc1ePIIGzfbr9Io3zdiZcazqfdC1ztsZY+GoYCycnZydHbXrLbBVq8rZfbE6c4WOltvf7ZnaHaU8LLfdkbw+GhI7mZUdo7IHo-K6Y6MIA87PQ-m9Q85nY727rNW7I6Fhi9i5+daRK8-pze7m5EVazo2YYHa99LzteW5ASqSoxt672uLYwbHa5KPs5ggkrWQWSGpt0ESuSrdstWLoN2Gd+5EjC-B39rbDR8tSVW3Nh4xrXcW6O+5xLdO9FXEaw6J7cAh5RDa3TTx9R8H3Ma50+mp6h4GHjuMY-AKATaSfTb13asce1Cx5N0TYF+hfi88s1FZQ7Rle-ppml6FipekGsoV85k5UTZV7zmk+V8Y67pkRhbK+cr192G1+NX6WSWZXF6FnV6Se1SZTBhkDRiN9pejVN-CedlV4Zht4e-d8F6aFN82p6h8sq7pZl9F5Zia9D8V8-GJat7V9l8+uiaheJZTd1lAWZYl6YXlbYU9-LoT5sEUVz4-CV6TY6FT7sO4SF4N4e+1lJbTa18z-k8Imns7C+bD6SeRkd8icJgNaHAz+j+pdBhd5N-b4e5b6L8pc-Bn2Vgn693z5-rFZn4b+j-QK6RS7S4y8VHZHsKOKILzqTksuhW5Aeb97-EB5OdOqIYa0hrCbzn6+9fje7aRiNXoF5GrTrAsX0GrQAuP9+DPRHFngQgN0yOCQCQC-7zlEch6GYGR0TwqU3SfsKiiRTMBM0+GbPbuA53SagQB4mJC+kzUxKRd8yCbPBLGDf4MhQon-b-hOHvDzlX+fwMgaFlZZzQcQEECxL3FWB20KBIwI4EEghoSACAMeTgVFW4E1FeBk7YQUY3piUElApeGgpO2cgn9-+UqbYKMGAF05BBkAgoNANYawDVKCAnTkgIu5uB8A8g34Mcy0isN8GKkNrOgLYFmFCGAHWge-wJihZcOfDRwWQLMaCN7E3GHwOwKvyjBhBykNAWk18F2DOelqCxnWWMG-86gbNdWhYPwGgVcyqgChp4KtrCFWgrAzASqDtpc5OBGLcnofVEp1FhwOUUYPgCyG+D1ACXNxOQVFQFBF6zYDwAPCUHRRSBCKVwjVxoS+MABNQULEDkp5Cxyah-DwLXCCDbB9A47QYR+GGGTtt0+gEXk9wcBKoAA5OAFAj0BFkqgNoGMI8ArDcKdZYYZQWmGyNhhLEBOFyBqDaAoQrAcwOuhOFuBZhKaIogbjbQPCZh9MTlJ7XeGionhxfCQErHfyZg3hDwv4Xn2uI-Dg4YI-4eiGP7BAbhIeNsHWgPSocjhkIzssMOoGgBSAfkWeCoAYHhZ0RrQM4YbFxE2AScbieIBSKYBhwphJjMEaMKIDjDtA26F4fUBxG9D8yKI1EXYl2HbBWRx+A3LCMuHBBMwHIpQfmUREdhqRtIrsAcMeFxN5yOtOTjKNCxiiwBnI7kacJxDii8RoWdMLqNUBaijuDIvjDoEzAyjvQbbXFsBhlHGjjcaIokdwWGH6klAhgW0PQJTI6AVhwkfQCsPMArCdaTAf0aABWGowQxoYixCGJWFch2Q0YknFUEsArCD0JIvaGSN8YeB3RacCJvoEsC1BABdIjEUlmFA+jMx+BXMfmKUARjKe0I4OOmJlH0U3R1uDwdKVYq1ihY6YtLqQF8Z5jBs4je0W2MKBOjnRcZY8l2Le5ejtAKw8cdGP6BEABwJgaMdWDVBaQ3E0Yh5OuOHA2hkxBwl0ZAxqD9E6G54FYS0K5CzivADsESNGPvCUB1a9AaMWcF+qzj7wbo+8SmNJ7TC9xrXJgNQCHAiQjx4IFYSOF-H3hoxvmaMbIB3FFiII6Y20IkHvAogbRPYyseTyv4qNTRzYEsXBNsL4Fxx5Y3sbPGrHoTPc9YykRexAmo9WxxEi1KRJpHaBxxadeUbo0dHDjwcqY8aJ2KQkVi+xhY+kcwLYzVFLhGkdrPRK4kESKs9WbUYfmbDWVxxyEwbFRJ5HG5Xg7IISVp20Ali8J3EwiYpN+EfjXAck7SfnSLHvt0xvo5sV3CMn9imIxI4fKxP1QYT+WgkkiCJNgkoUbAhk8Sf2KYl6Tjh9ki1OxIVCwSUg31XiUpJTRYSQp5AKsbpKJ7tjOYnE7sVZN2x8SaJvQ9YAePkkFiBx05Fif5LFSBTng6Y08VlO2BhStGYIq5KpJcl0USpRk8qQ6PpifRrKdU8SbFOYmiUVJak6mnRRLGnj8JlYoiQVP0lqRMpRk9qQFJGlmTMxFknxslLlG2TWgBQT5vlNACOSIozk4SXRVonxBTxjEwcX5NWlgpCp4gdMZwOuFgDKBaEuKTqI1ESjQsnAnyT8LBG90UgLg9KbPG4zRSjGJo3kUyI8DXDBR7Iu6XiJsk1iksn0igE9KdF5SjpQsWKsoXn7y8qukNe-nDUG6TdRUjbehqLm4aS5gqcUTVF1RGnaNhshgqjrgHWTXQqZGkxjLTLHgbIaZRNEgXQMyrEBiBZIlIijgGFwyhh2AM6ZdJ0AljwJAYucQuIoDxjExYE6wOuK3BDTyYwwlYfQBfH6B7xAYqMQGJFmhiNw24sGe+y0HoiAADMZ2NyAxDBH4M2c-ktmcwS4QAA","body":"function analyze_name(component) {\n    return (env, succeed, fail) =>\n             succeed(lookup_symbol_value(symbol_of_name(component),\n                                         env),\n                     fail);\n} "},{"tag":"SNIPPET","latex":false,"id":6,"eval":true,"prependLength":686,"program":"chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQGZMChslAGYCuAdgMYAuAlgPYkDOhATjQLYQzxKpoCMaAJlzFy1OqCr0A+hQCGAc3kBTACZSANpIoAKMmwAOdJSQoAaUBQAWSmQoCUoAN7ZQr0EyUUiTEhOn7ZKiZdAyMTBwAyCNBrWRUQ1kMSYwoHAF4Mi2tbeQBubABfYVJKWl9JDSoKJSZZdQSklIdnN3dPb3LpOUVVSvodPUSws1AAIk1q2vVRu3yikVLxCZq6qQA3OqIlBuHm1pc3Dy8fGKU47TkqesHG8NnC4tEy0FZZAGsbZantDfUt5oOriOHVAmn62nGVRW03Mv3+c0ei06UhIslY2xuuycgLax2R3WUajBA1CyRM5lGqPRMwR2AWYl8rw+KLR23oAE9WAAjGjqAGtYEnYkQqlKUbmDnc3n3Ip0koM0CSnnqKQ0Ags9E7MmpbEC9onWLxS7XUlNGWIhUVWT0ehUeQkdEmLVNXWHfX4hSEvokobainW232x0UGkPenPAN2h0pKRK3nO8KuoHu07nY3aQ0XQIm31muzm8PiSNBmNwmxKAAe+g8NrKCZ1LTdeNTRuzWau9fz5rlT3EFRUSjI6lktQZnaTuJBFQJvWFmL9Yz0DDkJikA6HI9kDJmoAAPruca03NPPbOtPWKRsmFRZFz1DZ18PR2Ud-vD0e-DkvXPTeSxoWSDXQcny3F9uwA0BH03BlY05ZVx0bZNmzjFU1Q1bZM3Tec8wRCCoOfOh1k2csqxrW06AQnFBV8TC2yw39UnzWkIKZGwl36WRV3w0CKNFWFiKkStqyUWs6H5JsQWFUZ2JXCggI3AiSHFUA+NAMtBNIkTyJIcD5WeCph25FRZA04TRJISi9WbE8eiJc9sL-cY0S5YzTLIsDcL0pZnNcgJanRSZYKldR6EsiSTlefRtBQ1V1VU2iOwcxiCy83xDJckyeRUdkwqQkEEvqejczuXTe0Zd5Ph8kyhPcii-NZSZ6HMLL2XEvKhXPJyjOqzTzOU+qApqJrQBa0qkU-AD5JAsckuaABIfYrKnLpTzs8EkopSbuO3FKysIVKpugsp0NyycOv6KQPAIC9QF4Xbxq24CjsIgbPCG07qNBLRLqUa6NtAAR7oVR6FJ4wCWo+lNiR+v6GPMDAgeeEGVQoGgpBkzi5MfSHm1Y9G6A4rinsU7R3w-NxkeewDRU7UwyfJl4Ko0Kq3K0ut6YZimDu247Xsa2mOc5-aysOxSpAh2amIeHtxoqajYzkapg1yz6bO-ey4bGeWOKVlJQ3mVKzsAmq2Yo2ak0+grOzGy1pCXFQqjKOoceWr8z3WzXpLoB2GVWE2+ocN8hc-Gc1p9W4Ri9kgfadlUdaUYN9ZlhV7cduhVmEh2yC3DEGLaz7oaum67s8vbU99lV2KUABHLYnXNxCC++ov-sB0vxvL2OpDqSZUWoNZc+KhtASbi6W81hHmMNip6BruuyDZChWGH8KPVs71oqXyPZ9r4wF6TiCd-nmx4+DUL+mXvZXBHlMrYvxj2+BoILtPlJN+X+h89vs54nvz-H+eDWOSr8TDny3p-C2KZ0x-0Rn2aQCd9AUHZLGOee9F4fy-tZaQJAiDqHqDAgBcDmYv0VgnN+MDIFYJRLgwqbYYE230tIO8NAyBvBdicNW7tw7DApMw1hB9DZ8LeOLGg2V2E0R-u2HMEcpYGz2njIRm8c7BjakbL64JRhCOUiA1IU89oVBoPoFYqMmD425FQPudYG4LTcFRFMFRSAjmQYY4xNBTGDC5BYsG44g5CwqJ41ETBnFGNHG4sxATvGzUIciRxQTVQhK3GEjxXiZp5ycDY6+S0OErXXj+IeFJYnBNce4tgESdrRM-BEuJLjQklPMZYs2aTHAZNAHYqhocN7-U0V46pCSTHhJSR5MMhsamJNMShcR6i5Lj3ybdWBvgCDPzkqM6OkzC6-Rum3YZe1Z723iSsVZDc2mSWbhs-6k9pYsSZrIfQ+hNDZzHJNf22lzAjnkEQYMrNzIQMQmoqSNy7lUAeS+OmwcjxPN6i80AbyPkxmeWUf+lyRl9KSaUwZhFUbd1ufcyJTScQyVAKMkxoA0iEpReMuC8YonHOyVIQp+zakDIaRZWagtQAAH5GbMgBTisceMaZErcXYUFYLRWtGFIspgF0VnxElnYNlAAuLlNgeVAu8fy1k2hBVMGFWysVR4JVLIZZxWVecRX6ota4XZ3tjWHLzrIi0jCsWAuBY0oemDXYdLyRHf02K1XlO2Q9A68K3UyMoflSRRUZHzOhUweQXztKhSOavFsUi01ytpPgACjACAsHYFAOAiBkDoH4BgR1RCKBMCIFYHKFZVGqyYTQXkZwLJ1tacHTlFZFWgBqCwYIFZeFNvvJxHtVZBzVBUOYDwC8qADxUAI-R0gCB1A5NoNtjg1EAEIQ5VprWu2YoBZRXOZABbQfMhrNVEeycwxg1j1qhp1TEpA1AAXFHq1o56pWXuyjekgd6KkVCfdHKQp6CD3vaatDeBAKRAZfalBdQaRaftCmBico9pkbOg3Mipk0Iaod+ehmG2gsNbLkYhpEgk-1BDoMrfDNK0qnOulhi5R7DZ43lmWEIJgXQEYfRojjxFlJLmqOEAD0gBN-G2GWcDnrIPCjLBSCTWwEMKiU2xOgImdDSbQ9-NMbZpMMPEHvdQNBbQkHjbe6j0YnS3pkycdMtmcNGtzZq2zOnmyZkcw8AlVhyyJCQZRtYVngwkpUjQ-Iydnh4xc5qFCw0yw-Po6AAIQRoqUpCvxSTiKyPA38ifdLKG8tX0ySmzMMWlAxvK0RLLxGitOEWim9M5XDO+ErCJtQlmWDWZ0HFzLw0uTWnLH+uzaVjDyCsGl4KECMikvvOZibvxP5ss5Sl4I0W8uTeVPFldwqRqDcC-K4OSq5vjcsJt3kECAA8oIxsLZ28tntTA+0QlRjQRmJB2SxveWfRURA-WqCVaMUAABqdtlrFSVosfIKgBAcpxYcKD5SQPQfvo-P0a85mYc5UW-mbtva3EvabYQJQAB3L7sLQG-f+yoQHIOweWvR1DrH52QoI7GBSOnqOjyM8x7Dn4O2WugibW8P7QVlTVa2Cz39d6JwQVvRoJtUU3O-NaIfbOFletqR2xOBmDbqF4JZ0t8HHKe1-oV4Y7QxnTNQ8C8Ft+tnDvg6VShElmRMzw6560TlmYcee7cM79Xab4fmHTDj+4DMigMxh6AS3f7Xekt84JfzyDOs0Z43q-HwQUIFJIDyZ9KlWShgjz2kKSgdfkwJeV0LkqLrldj-+vVn16CB6q3F2rrJdXG-BXliXIl2-oilhHnEkeU3y5MxbrzrG9rFkAjFTj2etfqGl6ouXZvx9K+G+X1wavOKG766o3X9jsE0MN47y1nKx+K9j0Oa35nbddeVg7v3rhnfpfj6mj3xvOWzzkj7ldmWz8LUA9d9oECtdtQ8Bd8hi96Zo96939E8EEAtU9usD9yZM8pcxhSA89o4C90RQAABafA6FWsEsEwIvcmAoEvWeLfI8SvPLavZzDbLzMFJvFvHvNvZrc1LvZgVkXvQrDvcPCg4fJLS-CfYbTNMAbNZgNgDgQtbgEtNAFActZEasKgVgR2AeEDVKYjUgEbEOOTc8EQCkVQ9Q-uMUGNEwjQmwNQu5MhEwbxEQPQq2Rw7sAlSwswrQsqRgWbc8MmKSQ0ZSNwQ0UVTvD8KSY0QI1wY0EIrgtwKSVbSI5LQIJgGIvwzqYkRI4kVI8mKSCoHBPBZSPImhIWUIg1TqB2egO5WQdkZSCoqoz7TmUo8VTqTPSIzPMFJouIzqV4KwbuLkegcUHoywPoxgBmTo1wKSYHRItwNdcwVqElAAPlAArDpwaPGKmQhHwOmNcFmNAHmLSCWJWKILWNiImM6nwMKUiJWNaAOLcCIOuPWKkgACptiY8B09j0hDjQAni9jXBHjOpgBXjdj9iviwATi0iNEABSIE94kE5Y0ASE340Af4jRGbaY4Ez4+EmbD404jY0YTdDIdE2EzElYgk0lVqXEqSS7GEuYkk0Aa7VwCkiEnQUYS7NIbYjExY+EtkxklElkhYmkj4rklYpY3kykzqBY9k8wI8Tk24kU0lHE5kiETdV4+Em40U0AbdVwOtMme4Nw68Uw2dGwSaOLElHESKDMH+cwdwo0zwpERFfUtQqwu0mCGgLkAAK3HW8PNJuR0N8FuPiINKsOUmcN0PzFxOSyDI8OzXuGwEdMNM0Ixkpx8PBCkmfV+gsVUGUnTMWWSBUHWO4LKI0UgBIFzKqBqOlJLLLKQQLMLK6I0SGKkFgEgEiMbObNrLrLxMbIAFFEieyOy6ypIAA5WQIc14kcocwAzs1oPUgmCgSMp0jwpM4BArM01oC0sgLkzMMgXbG0xMuczGB0uchchM9TZcTGPgtctwDcrcyNNsHc3cqM205cxFSLIsbFZBPc407Qowr7YkPQnlZBCxOlaOGodQdkG3d02QDYZva8RBUmfVL8qQGw+8YMBw3QiM8mN5f83II8JFHZdofQe-NPJ0PQtrYwDrKjB-N+AFCis9J8zQk0grTC6ctwJC5csXC7Ac43Wi1ZJCyaN0z0ygYaZ-Y3dig81cBLbi8HBA5PYilA2kHzbIeQEzAbFUZAkLUlH-UXDSt+WMrNVKHNPNWQrgYtTAHAN85EZyBCD8JLThMOG6UYVVV1JSSIaINlPIzVCFMybSa2UAKIenBmGKNCGmby2qFle1d-Jy7kUYCpZydGSwGgIFPvZNFNN5BNBFTsPRcaTiOodkAAL0+ChG+FSval8HrwlCIDIAXlUHMGXSuE+K53oCqpqviC+FWE41mjquzEF1yvAsKpOlKrUQqt+2qqUFqsIB6sWPfWarGtUG0HHxFyIrn2IhZ1ikGrNVEsLNsxYuDnqr5GyoVD6oKpPlQXIHQQoES1V0NiPhSBvDwRylkGalQLKpj1vUqrmsnUmoaq5L91kBGtEvwFmoXhtFAGEwsSIDBkIDcTBrqE0HM1AAABIAAdaoCsCgDGxwWQAoRG0S7QEyBTb69QQGaa7guWd0XvfG3vKci1b-Fq8a+IAm4ibqq4QGLa0AJVLkEa4Ghmlm4m6Sj8LNbMbwMvcGnBKGggGG7OPBKHJG1GtrTG7G3G43fawQ1wEfbfQ2dfYjZzUgKdESOSEQK68mPXfI+oIBTwo3MVTlGvQ20gLnY7K-W6kwe68CnWqVO2kgcwTMC2o28M9miwNsX20gT+NWw9fFY8o20LC046wqiUcBMO02k-P2wK8mC-OPW4nMzMlQbtbWsrEO8AtsP23q1Efqh8YmXFd1CcAlF3UlHmQiCZalVoAlNYEQULWO7YeuwCdSENCK91ROlMbm+mia1W360VVu0gCq5-fnJfImkm24lXS1GfTilUefdLTLZfKA7gpvYe+ILOvMvmrZcHAoXa8mVWw6iMUuk67uEg7rU6Gut-UlGfT5RuvOLe1wFutup+q+wq-G2+z5HuyFKxe1d+4a960a1qvmxq8ekQKe8HGew+zEjdUVfAJ43gJ4gOglXkNQMsULRa0XFayTKXAO1isFZg7g5ewhyXBfX4TegOnez6hBkhsVbQJBo8VBgQDB0hsVSh9LSm7PZh7hzmbB3vcwQRoRtA8Q8R-VT6fagQVh0BiRtwAoMOsVE+5-c+-CnKn+s8mOdOaRLEZBhrD+48-QL+6FHRrjPR0uqQTOf1QeaNUBglMgcxjuqxtOGxquXeeuEBiO5caFVxyxzufR7udQXuUCAea2UBz6Iez6qB0msFMxye965-IG+m0GsWyG4GGGpQOEUCBG3zSM1Qex1OlBsAVGQlLkS4XwFGtGjGigRwTOZGsgSwEcAAA17xxunszlEbnugeN2nF3UsByh6e0y2s5RceSb-Q+sgb6a2qVVkFgfAZ5pHuzEBlPsFskOFo8DBo0wholpybyeoAKesCKazhzjmhaQ0Z6ovvEGb04lVGrVFjBiTTxSyWRGdoXk7Ae1kGqo+VwRznxtuQoo2eDjNtBaFgtPucAhoCea7qamkcVDOoXgVmURSFef7ppqPCVX7ArtSXdQe2FC7pXutm7TNtuYY2lXVEcVvvmvh3cxBChcfqWNGCeJpcDDzJeIlDAIpYsbyoGsUSGoJRalCyERETESbrcAJRM2lu8MVHV0eaxjxcytGicePPZajFUDlehjQg1ftHmplZ2zVf8a5ECf5e2FVaS1idmdHoOPfVNeSfRoovkuVkNYy1AD1bzOGh2ufxWa+uuYat5Y7p+jxFRd1h8art+QJSYDNbLu0Hll7qiateWd3vibtdFRjambWAhZmNob6YSfBz9e0HYwps41+F2zkYFtVxua0YVGUDkjeVCkWZDulxmd5qJuK1sXec-DNvxr9oeyLfBY7e7UzGbYYDsDgc7LSbGoyb2fFuyZSKsEkDlrqcVpEC6enPxrjUQYLc7Pre7jjVCnTDHc-hza7xSaUfYbAB5tnZdvnaRjcURYZnwGnW8FtAHlhrwQsDe1qYVoafreadaaYA6cbY3cvZmMbb5oRl3fA4gYZrPWSK3fkFeUParaUf2oRjPZVrWbQ85k0an3GkrEHGrRVT9Rcr9JQ-kGGj9fid4yoX4p-N0IHd3qBbuU-IYu-LKgo6+1PfZtVu7UA1CGfRdLrEcNKaPBtoOjw10IQotXIuA10qdD44OmQz9Nw9aEg+U5FkU50BcLPe0Bah+marCZ3duNEqLfJtDc40M5rFwR1Gkc5TU3xm4ydBs5Ejs6xa7yVX3tqukcrbPf46O0e2e1-NGFIDeBIBoBJwWUNiQSMQINHWI+qGdV5SGQI6Op0ZS-9WAcjb8f6EIFjZOr9Io0TclmNfy5Pejt9I7so4yoJiTe7etfbdtYWPfQICWement-MrZg-1X3cbb7ZbfE+2s66EaQ+Ggw-6aEaI7IBI6y-I6MKfcLMg+G9g85ho6W+4Mm6w72pw6w-PtaXS8vvNe7m5HvuPMmYYCq6ihq+hW5ASqSpBoa5TSa9WZ+oXq5wgkrWQWSHRt0ESuSuNstSToNxace5Ek8-BxtrbEh8tSVW3IB5BonYvbW7R1Tc2+DlYd69R6iLiV+50CwkR4h8HzUa50+m+5RDa10D9sUY-AKCDaCbeZTQMmKudlZQ7T5bLsqEmDZ7zgE+wU1XZ6Fk5WDZpiF85hxekGsvF4ZhF8y+l756C6tDI8rpkR+fl5V-xbV6V+kG1SZVV92HV-Na1XJX15gkxWcoN+1Fxx1+c+sd54JY5+DeCdLu+dt-SlclK8V+F85+vo956h8py+16Fkl5QW8a+Zl7Tt94Gs+bZGRZPlITPlJdt8Fe985jl5O9T8d5D8-G1kT7fkj4-Az657z7RYjeD4l4mm5mVdDV2Cuad8seRhkDRg4uxkln5+ea18N4b5O67rd5z6tH-oL7T9l+j5VSH-L+75z-QK6XC8i+i8VHZHsKOKII7qTksru65FyYd59VN2zbg7e75Hqzwu7bcdmle6+vw+UMICNXoF5GrTrAsX0GrQAu5G3-qD8lnghA3WRwkBIGf-nKI5D0MwHbonhUpuk-YVFEimYDxp5t8eoTcJmYUxK0M8amJHzvmSDZ4JYw9-BkKFCf4v8Jw94ecnfz+C4DQs5LOaDiAggWJwmKobWvgJGBHAgkL1CQAQBjwMCoqTAmoiwO7ZcCFG9MSgkoFLw0FT+b-X4AhylTbBRgP-OnBwKAEFAQBJDMAapUgFBZqK5IEhvgGcjv84ONoEhggxUhtYEBNQSxAPCQbSMSBD-AmKFlWwGDLBuA1RoWVVjcYfAqwbWqMC4HKR4BPcEwREwqy09LU6jOsloLEF1AiaItfQWgNAq5lVAAdRwerWEKtAaBvgugVfi5wMCIWWPD7sbjqLDgcoowfAMkNcHqBgubicgqKhUbRMUwHgAeJIOig4CEUrhSOjQlsYjhZ4KRUlEDhx5CxkaG-DwLXCCDbB9AnbboR+F6Hdtt0+gE3NZQcBKoAA5OAFAj0BFkqgNoAMI8BzDcKdZXoZQVGHcNehLEBOFv2CBQhWA5gddHsLcDjDmex+A3G2kuFjD6YnKM2g8NFTXCPwOLJWO-kzD3DLh7wqPtcVeHBx-hHwl4EcJqDaBThIeNsHWgPSwcdhQIzsr0KIEet-+bQ1YaSnJaIjWgBww2J-xsAk43E8QQkUwDDgjDL2-w-oUQEGHaBt0RRA3KQHxH5k4R8IuxOsO2B0jbh9QdEG-2CCZhGR6I-MtCI7AkiyRXYLYVcLy7zlJawnUUaFn5FojJBGApRv8IFFKjQs6YNUbPGVHdDKRfGHQJmFFHegK2sLYDKKJZHcEER2Iy0XGVMYeBDAtoMgSmR0BzDhI+gOYeYDmGS0mAHo0AHMNRi+i-RFiX0XMK5DsgQxJOKoJYDmEHpcRe0fEbY3tHW4K4tjSwLUC-7kikRSWYUK6PtH4F9AaYwbIGJx4gjg4CY0UfRSUAOiPGp7fYZ7gTGRdSAqY9MdsCYgUjCg1om0QSkbFXdnR2gOYT2JDH9AiAA4EwCGOrBqgtIbiEMQ8hnHDgbQMYrYb0Jbo1B+ieDc8HMNqFcghxXgB2CJBDH3hKAItegCGLOCXUhx94KsSeNjEY8Sxto-xiOGoBDgRI648EHMMfFAp7wIY3zCGNkCLisxEEBMbaESD3gUQpo5sYNix5GMhGeo5sDmOAm2F8CPY-MYWNnjFiYJ9Y9EVIArEfjnxtYlUZhMkHYSiR2gHsaHQlEETdhnY8HHGPGgNjwJBYlsVBNGH-Crk7ILfhpHaykSGJqEirMf1IaljXq1lHsRBNnjSlUegksFK8HYkkQuJOY5CYxKLHiT9Ukk6ciJMUliSsx4HBMW6OTFdwNJrY8UTiOHzUSVJSWaSRxPk7xAgJKFGwOpN4msMLRbwjsaZMtS0SFQQElIGgmYl-DsxG42eC5wXjoTdRhE2eGBKbEGTWGykjCRagTFbjRJhkiiXWKomuSxU7k54HFNXEJSfJd466vImqKWSnWqyeKQZMzGFlJJn0ayiVN4nRTwOqkyFgVNkl0UcxW4lCS2OCnOTwO1UlsbVJom3idJSYx0fpIcldgLR-wgoJc1SmgBYJjLRqZxLorliSJW48iaxStFTTnJgErCQwMhH-8CB0EiSTiC1EYi-+AApKa8P+E10UgNgrCQFJExfMnJEjPUeyMhFcjtAR05kWdPbHdtbpn07EWtPWnBxYq1-YNv7zq590w0UbUxpuFYDasWYn6FehixkTld5yDrf0mPwWoswJYvjRrimziYdtseaPRhtFm0IDR+sv5H1ltxrayh1k10GmQtUYz0yx4GyOmXDWwGkDMqxALAfiJSIo4uhAMnodgATHbScxP4z0cONHEUAIxUY78dYBnFbgOpjwuYfQEvH6ATxno4MZ6NFl+iNwC4tsbB0UGIiAADOp3BzrNpGZs02bWRLhAA","body":"function analyze_lambda_expression(component) {\n    const params = lambda_parameter_symbols(component);\n    const bfun = analyze(lambda_body(component));\n    return (env, succeed, fail) =>\n             succeed(make_function(params, bfun, env),\n                     fail);\n} "}]},{"tag":"TEXT","id":"#p18","child":[{"body":"\n    Notice that looking up a\n    name\n    always \"succeeds.\"\n    If\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"lookup_symbol_value"},{"body":"\n    fails to find the\n    name,\n    it signals an\n    error, as usual.  Such a \"failure\" indicates a program\n    bug—a reference to an unbound\n    name;\n    it is not an indication\n    that we should try another nondeterministic choice instead of the one that\n    is currently being tried.\n  ","tag":"#text"}]},{"tag":"SUBHEADING","id":"#h4","child":[{"body":"Conditionals and sequences","tag":"#text"}]},{"tag":"TEXT","id":"#p19","child":[{"body":"\n    Conditionals are also handled in a similar way as in the ordinary\n    evaluator.  The execution\n    function\n    generated by\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"analyze_conditional"},{"body":"\n    invokes the predicate execution\n    function\n      ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"pfun"},{"body":"\n    with a success continuation that checks whether the predicate value is true\n    and goes on to execute either the consequent or the alternative.  If the\n    execution of\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"pfun"},{"body":"\n    fails, the original failure continuation for\n    the\n    \n\tconditional\n      \n    expression is called.\n    ","tag":"#text"},{"tag":"SNIPPET","latex":true,"eval":false,"body":"\nfunction analyze_conditional(component) {      \n    const pfun = analyze(conditional_predicate(component));\n    const cfun = analyze(conditional_consequent(component));\n    const afun = analyze(conditional_alternative(component));\n    return (env, succeed, fail) =>\n             pfun(env,\n                  // success continuation for evaluating the predicate \n                  // to obtain $\\texttt{pred\\char`_value}$\n                  (pred_value, fail2) =>\n                    is_truthy(pred_value) \n                    ? cfun(env, succeed, fail2)\n                    : afun(env, succeed, fail2),\n                  // failure continuation for evaluating the predicate\t\t    \n                  fail);\n}\n      "}]},{"tag":"TEXT","id":"#p20","child":[{"body":"\n\tSequences are also handled in the same way as in the previous\n\tevaluator, except for the machinations in the\n\tsubfunction\n\t","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"sequentially"},{"body":" that are required for passing the\n\tcontinuations. Namely, to sequentially execute ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"a"},{"body":"\n\tand then ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"b"},{"body":", we call\n\t","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"a"},{"body":" with a success continuation that calls\n\t","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"b"},{"body":".\n\t","tag":"#text"},{"tag":"SNIPPET","latex":true,"eval":false,"body":"\nfunction analyze_sequence(stmts) {\n    function sequentially(a, b) {\n        return (env, succeed, fail) => \n                 a(env, \n                   // success continuation for calling $\\texttt{a}$\n                   (a_value, fail2) =>\n                     is_return_value(a_value)\n                     ? succeed(a_value, fail2)\n                     : b(env, succeed, fail2),\n                   // failure continuation for calling $\\texttt{a}$\n                   fail);\n    }\n    function loop(first_fun, rest_funs) {\n        return is_null(rest_funs)\n               ? first_fun\n               : loop(sequentially(first_fun, head(rest_funs)),\n                      tail(rest_funs));\n    }\n    const funs = map(analyze, stmts);\n    return is_null(funs) \n           ? env => undefined\n           : loop(head(funs), tail(funs));\n}\n\t  "}]},{"tag":"SUBHEADING","id":"#h5","child":[{"body":"Declarations\n      and assignments\n    ","tag":"#text"}]},{"tag":"TEXT","id":"#p21","child":[{"body":"Declarations\n    are another case where we must go to some trouble to\n    manage the continuations, because it is necessary to evaluate the\n    \n\tdeclaration-value expression before actually declaring the new name.\n      \n    To accomplish this, the\n    declaration-value\n    execution\n    function\n      ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"vfun"},{"body":"\n    is called with the environment, a success continuation, and the\n    failure continuation.  If the execution of\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"vfun"},{"body":"\n    succeeds, obtaining a value ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"val"},{"body":" for the\n    \n\tdeclared name, the name is declared and the success is propagated:\n      ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":7,"eval":true,"prependLength":682,"program":"chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQGZMChslAGYCuAdgMYAuAlgPYkDOhATjQLYQzxKpoCMaAJlzFy1OqCr0A+hQCGAc3kBTACZSANpIoAKMmwAOdJSQoAaUBQAWSmQoCUoAN7ZQr0EyUUiTEhOn7ZKiZdAyMTBwAyCNBrWRUQ1kMSYwoHAF4Mi2tbeQBubABfYVJKWl9JDSoKJSZZdQSklIdnN3dPb3LpOUVVSvodPUSws1AAIk1q2vVRu3yikVLxCZq6qQA3OqIlBuHm1pc3Dy8fGKU47TkqesHG8NnC4tEy0FZZAGsbZantDfUt5oOriOHVAmn62nGVRW03Mv3+c0ei06UhIslY2xuuycgLax2R3WUajBA1CyRM5lGqPRMwR2AWYl8rw+KLR23oAE9WAAjGjqAGtYEnYkQqlKUbmDnc3n3Ip0koM0CSnnqKQ0Ags9E7MmpbEC9onWLxS7XUlNGWIhUVWT0ehUeQkdEmLVNXWHfX4hSEvokobainW232x0UGkPenPAN2h0pKRK3nO8KuoHu07nY3aQ0XQIm31muzm8PiSNBmNwmxKAAe+g8NrKCZ1LTdeNTRuzWau9fz5rlT3EFRUSjI6lktQZnaTuJBFQJvWFmL9Yz0DDkJikA6HI9kDJmoAAPruca03NPPbOtPWKRsmFRZFz1DZ18PR2Ud-vD0e-DkvXPTeSxoWSDXQcny3F9uwA0BH03BlY05ZVx0bZNmzjFU1Q1bZM3Tec8wRCCoOfOh1k2csqxrW06AQnFBV8TC2yw39UnzWkIKZGwl36WRV3w0CKNFWFiKkStqyUWs6H5JsQWFUZ2JXCggI3AiSHFUA+NAMtBNIkTyJIcD5WeCph25FRZA04TRJISi9WbE8eiJc9sL-cY0S5YzTLIsDcL0pZnNcgJanRSZYKldR6EsiSTlefRtBQ1V1VU2iOwcxiCy83xDJckyeRUdkwqQkEEvqejczuXTe0Zd5Ph8kyhPcii-NZSZ6HMLL2XEvKhXPJyjOqzTzOU+qApqJrQBa0qkU-AD5JAsckuaABIfYrKnLpTzs8EkopSbuO3FKysIVKpugsp0NyycOv6KQPAIC9QF4Xbxq24CjsIgbPCG07qNBLRLqUa6NtAAR7oVR6FJ4wCWo+lNiR+v6GPMDAgeeEGVQoGgpBkzi5MfSHm1Y9G6A4rinsU7R3w-NxkeewDRU7UwyfJl4Ko0Kq3K0ut6YZimDu247Xsa2mOc5-aysOxSpAh2amIeHtxoqajYzkapg1yz6bO-ey4bGeWOKVlJQ3mVKzsAmq2Yo2ak0+grOzGy1pCXFQqjKOoceWr8z3WzXpLoB2GVWE2+ocN8hc-Gc1p9W4Ri9kgfadlUdaUYN9ZlhV7cduhVmEh2yC3DEGLaz7oaum67s8vbU99lV2KUABHLYnXNxCC++ov-sB0vxvL2OpDqSZUWoNZc+KhtASbi6W81hHmMNip6BruuyDZChWGH8KPVs71oqXyPZ9r4wF6TiCd-nmx4+DUL+mXvZXBHlMrYvxj2+BoILtPlJN+X+h89vs54nvz-H+eDWOSr8TDny3p-C2KZ0x-0Rn2aQCd9AUHZLGOee9F4fy-tZaQJAiDqHqDAgBcDmYv0VgnN+MDIFYJRLgwqbYYE230tIO8NAyBvBdicNW7tw7DApMw1hB9DZ8LeOLGg2V2E0R-u2HMEcpYGz2njIRm8c7BjakbL64JRhCOUiA1IU89oVBoPoFYqMmD425FQPudYG4LTcFRFMFRSAjmQYY4xNBTGDC5BYsG44g5CwqJ41ETBnFGNHG4sxATvGzUIciRxQTVQhK3GEjxXiZp5ycDY6+S0OErXXj+IeFJYnBNce4tgESdrRM-BEuJLjQklPMZYs2aTHAZNAHYqhocN7-U0V46pCSTHhJSR5MMhsamJNMShcR6i5Lj3ybdWBvgCDPzkqM6OkzC6-Rum3YZe1Z723iSsVZDc2mSWbhs-6k9pYsSZrIfQ+hNDZzHJNf22lzAjnkEQYMrNzIQMQmoqSNy7lUAeS+OmwcjxPN6i80AbyPkxmeWUf+lyRl9KSaUwZhFUbd1ufcyJTScQyVAKMkxoA0iEpReMuC8YonHOyVIQp+zakDIaRZWagtQAAH5GbMgBTisceMaZErcXYUFYLRWtGFIspgF0VnxElnYNlAAuLlNgeVAu8fy1k2hBVMGFWysVR4JVLIZZxWVecRX6ota4XZ3tjWHLzrIi0jCsWAuBY0oemDXYdLyRHf02K1XlO2Q9A68K3UyMoflSRRUZHzOhUweQXztKhSOavFsUi01ytpPgACjACAsHYFAOAiBkDoH4BgR1RCKBMCIFYHKFZVGqyYTQXkZwLJ1tacHTlFZFWgBqCwYIFZeFNvvJxHtVZBzVBUOYDwC8qADxUAI-R0gCB1A5NoNtjg1EAEIQ5VprWu2YoBZRXOZABbQfMhrNVEeycwxg1j1qhp1TEpA1AAXFHq1o56pWXuyjekgd6KkVCfdHKQp6CD3vaatDeBAKRAZfalBdQaRaftCmBico9pkbOg3Mipk0Iaod+ehmG2gsNbLkYhpEgk-1BDoMrfDNK0qnOulhi5R7DZ43lmWEIJgXQEYfRojjxFlJLmqOEAD0gBN-G2GWcDnrIPCjLBSCTWwEMKiU2xOgImdDSbQ9-NMbZpMMPEHvdQNBbQkHjbe6j0YnS3pkycdMtmcNGtzZq2zOnmyZkcw8AlVhyyJCQZRtYVngwkpUjQ-Iydnh4xc5qFCw0yw-Po6AAIQRoqUpCvxSTiKyPA38ifdLKG8tX0ySmzMMWlAxvK0RLLxGitOEWim9M5XDO+ErCJtQlmWDWZ0HFzLw0uTWnLH+uzaVjDyCsGl4KECMikvvOZibvxP5ss5Sl4I0W8uTeVPFldwqRqDcC-K4OSq5vjcsJt3kECAA8oIxsLZ28tntTA+0QlRjQRmJB2SxveWfRURA-WqCVaMUAABqdtlrFSVosfIKgBAcpxYcKD5SQPQfvo-P0a85mYc5UW-mbtva3EvabYQJQAB3L7sLQG-f+yoQHIOweWvR1DrH52QoI7GBSOnqOjyM8x7Dn4O2WugibW8P7QVlTVa2Cz39d6JwQVvRoJtUU3O-NaIfbOFletqR2xOBmDbqF4JZ0t8HHKe1-oV4Y7QxnTNQ8C8Ft+tnDvg6VShElmRMzw6560TlmYcee7cM79Xab4fmHTDj+4DMigMxh6AS3f7Xekt84JfzyDOs0Z43q-HwQUIFJIDyZ9KlWShgjz2kKSgdfkwJeV0LkqLrldj-+vVn16CB6q3F2rrJdXG-BXliXIl2-oilhHnEkeU3y5MxbrzrG9rFkAjFTj2etfqGl6ouXZvx9K+G+X1wavOKG766o3X9jsE0MN47y1nKx+K9j0Oa35nbddeVg7v3rhnfpfj6mj3xvOWzzkj7ldmWz8LUA9d9oECtdtQ8Bd8hi96Zo96939E8EEAtU9usD9yZM8pcxhSA89o4C90RQAABafA6FWsEsEwIvcmAoEvWeLfI8SvPLavZzDbLzMFJvFvHvNvZrc1LvZgVkXvQrDvcPCg4fJLS-CfYbTNMAbNZgNgDgQtbgEtNAFActZEasKgVgR2AeEDVKYjUgEbEOOTc8EQCkVQ9Q-uMUGNEwjQmwNQu5MhEwbxEQPQq2Rw7sAlSwswrQsqRgWbc8MmKSQ0ZSNwQ0UVTvD8KSY0QI1wY0EIrgtwKSVbSI5LQIJgGIvwzqYkRI4kVI8mKSCoHBPBZSPImhIWUIg1TqB2egO5WQdkZSCoqoz7TmUo8VTqTPSIzPMFJouIzqV4KwbuLkegcUHoywPoxgBmTo1wKSYHRItwNdcwVqElAAPlAArDpwaPGKmQhHwOmNcFmNAHmLSCWJWKILWNiImM6nwMKUiJWNaAOLcCIOuPWKkgACptiY8B09j0hDjQAni9jXBHjOpgBXjdj9iviwATi0iNEABSIE94kE5Y0ASE340Af4jRGbaY4Ez4+EmbD404jY0YTdDIdE2EzElYgk0lVqXEqSS7GEuYkk0Aa7VwCkiEnQUYS7NIbYjExY+EtkxklElkhYmkj4rklYpY3kykzqBY9k8wI8Tk24kU0lHE5kiETdV4+Em40U0AbdVwOtMme4Nw68Uw2dGwSaOLElHESKDMH+cwdwo0zwpERFfUtQqwu0mCGgLkAAK3HW8PNJuR0N8FuPiINKsOUmcN0PzFxOSyDI8OzXuGwEdMNM0Ixkpx8PBCkmfV+gsVUGUnTMWWSBUHWO4LKI0UgBIFzKqBqOlJLLLKQQLMLK6I0SGKkFgEgEiMbObNrLrLxMbIAFFEieyOy6ypIAA5WQIc14kcocwAzs1oPUgmCgSMp0jwpM4BArM01oC0sgLkzMMgXbG0xMuczGB0uchchM9TZcTGPgtctwDcrcyNNsHc3cqM205cxFSLIsbFZBPc407Qowr7YkPQnlZBCxOlaOGodQdkG3d02QDYZva8RBUmfVL8qQGw+8YMBw3QiM8mN5f83II8JFHZdofQe-NPJ0PQtrYwDrKjB-N+AFCis9J8zQk0grTC6ctwJC5csXC7Ac43Wi1ZJCyaN0z0ygYaZ-Y3dig81cBLbi8HBA5PYilA2kHzbIeQEzAbFUZAkLUlH-UXDSt+WMrNVKHNPNWQrgYtTAHAN85EZyBCD8JLThMOG6UYVVV1JSSIaINlPIzVCFMybSa2UAKIenBmGKNCGmby2qFle1d-Jy7kUYCpZydGSwGgIFPvZNFNN5BNBFTsPRcaTiOodkAAL0+ChG+FSval8HrwlCIDIAXlUHMGXSuE+K53oCqpqviC+FWE41mjquzEF1yvAsKpOlKrUQqt+2qqUFqsIB6sWPfWarGtUG0HHxFyIrn2IhZ1ikGrNVEsLNsxYuDnqr5GyoVD6oKsqm6gytDSxF+TcM3FYG8NBBZk-U4pCiyvxWPK5BEFC2OsKoWpZglntSgJTRGtmtau6oaumtFWBvGviGi20IGn61-J2q2smoasOojFRH6pPlQXIHQQoES1V0NiPhSBvDwRylkGalQLKpj1vUqrmsnWRr5C5L91kBGtEvwEhptFAGEwsSIDBkIDcU5rqE0HM1AAABIAAdaoCsCgaWxwWQAoEW0S7QEyBTemwGcGrvOWd0XvJW3vKci1b-FqqGnWlW-awGJGpVLkIGw2ia026Sj8LNbMbwMvLmnBXmggfm7OPBKHUWiWtrGWuWhW43fawQ1wEfbfQ2dfYjZzUgKdESOSEQPG8mPXfI+oIBTwo3MVTlGveO0gLnY7K-QmkwYm8CqOqVHOkgcwTMNOhO8MpGiwNsau0gT+EOw9V65cYWO6i0r6pQCUcBFu5Ok-GuwK8mC-OPW4nMzMlQbtSOsrJu8AtsGu3q9Gk67uEg7rU6AlF3UlGfT5CZalVoAlNYD67e5e76ne0sASENCK91fulMK22m0Ghmg499I+0gCq5-fnJfVWzEjdUVfAJ43gJ4uuglXkNQMsULRa0XFayTKXOu1isFZg7gmfJ67WhfX4ZfAGrvJva2+IdBuBsVbQH+o8f+gQIB+BsVZB6ByXbPfB8hzmUB3vcwWhuhtA8Q5h-VT6U2whzBlh1oAoFusVAoXa8mYO1GosU+s8mOdOaRS62yg+48-QY+6FCRrjKR9GqQTOf1QeaNHhglMgJR7u1RtOdRquXeeuf6tu-oaFAxlRzuaR7udQXuUCAea2Hhz6e+kG+mxq0VRRt+6m5-Nmw2jml2nm4GfmpQOEUCYW3zSM1QLR4ev+sAVGQlLkS4XwcWyW6WigRwTOMWsgSwEcAAA173lo-szkYe-vVvB2nF3UsBynKe0y2s5X0b8b-Rps8dtq2qVVkBEA8ahsfsBmEftskMdo8E5o025rdvCcieoGiesFiazhzjmhaWf1EfwvGmb04lVGrVFjBiTTxSyWRELoXk7Ae1kGqo+VwRziVtuQoqGeDhTvuaFgtM2cAhoB2Z5gJieYhqxoXgVmURSH2Zvr1qPCVX7GJlxXdQe2FE+dn3S2tm7RTrEYY2lXVEcTXvmvh3cxBBebf1uNGCePRcDDzJeIlDAOReUbyoGsUSGoJRalCyERETEX3rcAJRM09rutee2axghYZFClGl0ePKJajFUDuuhjQmFftHmvZZ20FfbvetIE+pUYFaSz6ZtqmuftFQVYsnIuA10qdBlYy1AElbzOGkRvB0homtWZ6ope7p+jxH+d1nMfdQnAJSYBsape2HlivtcdVeptGo6Y1YWPfXddabWG+Z2PQcqc1eN0tehqZjU0-t21toja8YpeUDkjeVCh6abul3af6a8fqzwsOc-BTqVproezje0Eea8e7UzBzYYDsHfunMCbGuCYmddrCZSKsEkB9syf9pEFKenKVrjQGe8dYoze7jjVCnTAbc-lTfB38d4eIbAHZsYBCamaYHYc5nwGnW8FtAHgFrwQsDewyb9uyYzbyYKaYGKazaHeXZmKzcfoRiqYfatRwbPWSJHfkFeWnbtuXf2oRgXctRTdobWan3GkrEHGrRVT9Rcr9N-fkGGjjcfr0IqH4p-N0MrY-cAo0YYu-LKgQ6+3naRuDu7UA1CGfRdLrEcISaPCzoOjw10IQotV1coqC2oqdFI4OmQz9P-Y-Cfe45Fn1Z0BcIje0Bah+mascbHcZtjY-c1odc40k5rFwR1HYc5TU3xm4ydBU5EjU5Ba7yVQnrzOA5EezEGb9zI6O0e2e1-NGFIDeBIBoBJwWUNiQSMQINHWg+qGdV5SGQg6Ookb8-9SsQOdZePIIA9Yxr9Iox9cljlasbndCy7okcQ-OoYF9ZLbVbpuDtfc5ii7DdTaI9tvy-1UnazfLdzbo+2rae3ZjyffppfZjboag7IBg5C-g6MPq8LMa56+4JQ-6670A-49FVA-B1EdaUC7Rs9e7m5A3uPJaYYBS99O7teW5ASqSoXiBZ0b9baYDYLby9uJVyFggkrWQWSClt0ESuSsTstQHoN3ya25EkM-ByzrbFe8tSVW3Ju+26baXbffJkG8B-JkIbK5B6iLiUu50Cwl+5e8H0Ea50+nO5RDa10Brp4YoNtdsfC8poMmKudlZQ7UpYxsqEmEJ7znI+wU1SJ6Fk5TtZplp85jBekGsqZ4Znp+C7Z8p5s6tDg8hZkTOa5-59SShd5+kG1SZQF92CF89a1XJSl5gkxWcul+1Fx3F+07UYp7F7p5J5XrsfRtOY1-Slcni55917tZN56h8rC51+Z8-GOe0Zl+J7tcd+il+ZPlITPgRY15pfN85k59m797t4ZhZ-tY6EdbsO4TV9l9J+1i97fnZ-JjD8phJlmhWZd5UeRhkDRg4uxklip92dF8F8z9m9haN6FjD-PudZL4t657XuViT4-CVXQK6Uc+c9c8VHZHsKOKIO7qTksuhW5Aie159VN3DYO-VbBt-oa0psMdmhy9Q4peztjF5GrTrAsX0GrQAuH9+E-alW2FGA3WRwkBIC3-nMR0PRmAXcTxUrdL9iopIrMEVqjeh4cacbMMxLweNzB-HtAtzNUC9U8Eq-P4Hy20Cb9t+E4e8POXoBr8+WoWJFnNBxAQQLETjFUJHQgEjAjgQSCmhIAIAx5MBUVbATUVwEltiB3DemJQSUCl4aCJbZyCP3qB+RZ4EIY-nTkIGX8Cg1-OBrf1UoP8OOT-Mzq4HwD0DfgB3G0HA0-rmA3+PcGoJYgHg-12GsA0AQilCyrZJBioOAQigEaFlVY3GHwKsEjqjBiBykaQY41kHOMKsmPcHEIzgbCDd+dQemk7QkGYkTOqgOutoNDrCFWgqA8wegKvxc5MBTzX-ksRO6io6iw4HKKMHwA+D9B6gWzm4nIKip+GbjFMB4AHgH9oomggmK4Ui40INGI4WeCkVJRA4IeQsMWoPw8C1wgg2wfQMVlKHkxyhJbbdPoBNzWUHASqAAOTgBQI9ARZKoDaBVCPAHQ3CnWXKGUF6h5DcoSxAThcgag4ApWOYHXQTC3AjQlNEUQNxtplhH4VYR+E5Qp0thoqHYaCwkBKx38mYTYcsKOG7C1SBw4OFcOOHohh+wQKEKwBDxtg60B6N9mMNuGdlyh0A41mfwKH9DSUSLH4a0CmGGwmBNgEnG4niAwimAYcOoQ+yOGVCiA1Q7QNunWH1BSAUI-Mp8K+F2JBh2wTEcfgNyPDZhwQTMDiKBH5k3hHYeEYiK7AjCVhljecu7So4MjQsVIwEQf3zLMjJhOIakbyNCzpghRs8PkfUJRF8YdAmYBkd6GTbvNgMDI-EdwW+FgjVRcZBRh4EMC2h4BKZHQB0OEj6AOh5gDoe7SYAmjQAHQ1GJaKtEWJLRHQrkOyAdEk4qglgDoQeghF7QoReHJQDqOMYZxLAtQZgUiOnJSjmwwoQ0dqPwL6Agxg2W0RD3uFCwfRDI+in6Otx8tds8DJMZzB9HOdSAGjOMSGJVECjxh6o43OUIJT5jlu+o7QB0OrEOj+gRAAcCYAdHVg1QWkNxA6IeTdjhwNoD0SMMrHHl0h-RCBueA6EjjGxXgB2CJAdH3hKATtegA6LOC41Gx94P0UuM9FDdExmo9uiOGoBDgRIY48EB0P3FAp7wDo3zA6NkADjfhg-H0baESD3gUQiowscGO2ChjWK4Yk5CeMfG2F8C1YmMUWKUAJi6GOYhmCmNhEjsDx94edsu3AnkxIJCI6toqObr8iWGao8seDi9HjQ8xr42Me+LB4z8QeRwq5OyFmEaR2sKEgsQRMGyfjCyOYz6NZWrFvjBs0pEiaJVeDkSSIVEyMYBNomzxQJYqBCXWRYkCSe6d4h9j6KNEZiu44kwhkyPBHD4sJ+qb8RFGqIUS2O+-WeLGBQo2AxJwEhSehLBSYSVJqk+8UCJQQ6cTm9EgkSW0jGzxrJIE9iZKM9x4SaJhkrMbwxElHgfRI41icWOMlfjCgZky1DhIVB+SagXIAKR+KLY7j8a8iDSTxLor+TxJtkrvIxJTDWVUpwElyXZPBxcTNJUtOipGJHFAT3xQkw4duJynvi8pFY7cdJO1GyT7G8krsCqKOEFBlmoU0AGpPKjcTKJdFJCbgyiloTgpZY7qSZIskH9kKZ-atOANmkNgJhRwsUcCNP7n8gplw1kYqBSCqDLJjkkTDZI2nZjCRaIjwOANJHYieR4opiKUN6nbSTAR024aZImlCxYqyhPXgNXL60tjyW9SCLy2Oh7084iXecq-X9IfTtgsLXvBlyy6A1-WKHQtrcRfq9MAeFqdQaV2O511KG6WVBulkywYM662DWmtoFcG5cLOHg4ODYIm42tpY6ya6LTIWqMYGZY8DZPTMFogD1+BMHQsAKhEpEUcJQl6WUOwA+jMBTMg0VeNNFNiWxFAF0W6MvHWBuxW4SqdsOwAdD6A64-QEuNNH2jTR4sq0RuH7E3S32XAn4QAAZRuxuSzvA0tmWprZ5MEuEAA","body":"function analyze_declaration(component) {\n    const symbol = declaration_symbol(component);\n    const vfun = analyze(declaration_value_expression(component));\n    return (env, succeed, fail) => \n             vfun(env,\n                  (val, fail2) => {\n                      assign_symbol_value(symbol, val, env);\n                      return succeed(undefined, fail2);\n                  },\n                  fail);\n} "}]},{"tag":"TEXT","id":"#p22","child":[{"body":"\n    Assignments\n    \n    are more interesting.  This is the first place where we\n    really use the continuations, rather than just passing them around.\n    The execution\n    function\n    for assignments starts out like the one for\n    declarations.\n    It first attempts\n    to obtain the new value to be assigned to the\n    name.\n    If this evaluation of\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"vfun"},{"body":"  \n    fails, the assignment fails.\n  ","tag":"#text"}]},{"tag":"TEXT","id":"#p23","child":[{"body":"\n    If\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"vfun"},{"body":"  \n    succeeds, however, and we go on to make the assignment, we must consider the\n    possibility that this branch of the computation might later fail, which will\n    require us to backtrack out of the assignment.  Thus, we must arrange to\n    undo the assignment as part of the backtracking  process.","tag":"#text"},{"tag":"FOOTNOTE_REF","id":"#footnote-link-3","body":"3","href":"/sicpjs/4.3.3#footnote-3"}]},{"tag":"TEXT","id":"#p24","child":[{"body":"\n    This is accomplished by giving\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"vfun"},{"body":"  \n    a success continuation (marked with the comment \"*1*\" below)\n    that saves the old value of the variable before assigning the new value to\n    the variable and proceeding from the assignment.  The failure continuation\n    that is passed along with the value of the assignment (marked with the\n    comment \"*2*\" below) restores the old value of the variable\n    before continuing the failure. That is, a successful assignment provides a\n    failure continuation that will intercept a subsequent failure; whatever\n    failure would otherwise have called ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"fail2"},{"body":" calls\n    this\n    function\n    instead, to undo the assignment before actually calling\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"fail2"},{"body":".\n    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":8,"eval":true,"prependLength":674,"program":"chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQGZMChslAGYCuAdgMYAuAlgPYkDOhATjQLYQzxKpoCMaAJlzFy1OqCr0A+hQCGAc3kBTACZSANpIoAKMmwAOdJSQoAaUBQAWSmQoCUoAN7ZQr0EyUUiTEhOn7ZKiZdAyMTBwAyCNBrWRUQ1kMSYwoHAF4Mi2tbeQBubABfYVJKWl9JDSoKJSZZdQSklIdnN3dPb3LpOUVVSvodPUSws1AAIk1q2vVRu3yikVLxCZq6qQA3OqIlBuHm1pc3Dy8fGKU47TkqesHG8NnC4tEy0FZZAGsbZantDfUt5oOriOHVAmn62nGVRW03Mv3+c0ei06UhIslY2xuuycgLax2R3WUajBA1CyRM5lGqPRMwR2AWYl8rw+KLR23oAE9WAAjGjqAGtYEnYkQqlKUbmDnc3n3Ip0koM0CSnnqKQ0Ags9E7MmpbEC9onWLxS7XUlNGWIhUVWT0ehUeQkdEmLVNXWHfX4hSEvokobainW232x0UGkPenPAN2h0pKRK3nO8KuoHu07nY3aQ0XQIm31muzm8PiSNBmNwmxKAAe+g8NrKCZ1LTdeNTRuzWau9fz5rlT3EFRUSjI6lktQZnaTuJBFQJvWFmL9Yz0DDkJikA6HI9kDJmoAAPruca03NPPbOtPWKRsmFRZFz1DZ18PR2Ud-vD0e-DkvXPTeSxoWSDXQcny3F9uwA0BH03BlY05ZVx0bZNmzjFU1Q1bZM3Tec8wRCCoOfOh1k2csqxrW06AQnFBV8TC2yw39UnzWkIKZGwl36WRV3w0CKNFWFiKkStqyUWs6H5JsQWFUZ2JXCggI3AiSHFUA+NAMtBNIkTyJIcD5WeCph25FRZA04TRJISi9WbE8eiJc9sL-cY0S5YzTLIsDcL0pZnNcgJanRSZYKldR6EsiSTlefRtBQ1V1VU2iOwcxiCy83xDJckyeRUdkwqQkEEvqejczuXTe0Zd5Ph8kyhPcii-NZSZ6HMLL2XEvKhXPJyjOqzTzOU+qApqJrQBa0qkU-AD5JAsckuaABIfYrKnLpTzs8EkopSbuO3FKysIVKpugsp0NyycOv6KQPAIC9QF4Xbxq24CjsIgbPCG07qNBLRLqUa6NtAAR7oVR6FJ4wCWo+lNiR+v6GPMDAgeeEGVQoGgpBkzi5MfSHm1Y9G6A4rinsU7R3w-NxkeewDRU7UwyfJl4Ko0Kq3K0ut6YZimDu247Xsa2mOc5-aysOxSpAh2amIeHtxoqajYzkapg1yz6bO-ey4bGeWOKVlJQ3mVKzsAmq2Yo2ak0+grOzGy1pCXFQqjKOoceWr8z3WzXpLoB2GVWE2+ocN8hc-Gc1p9W4Ri9kgfadlUdaUYN9ZlhV7cduhVmEh2yC3DEGLaz7oaum67s8vbU99lV2KUABHLYnXNxCC++ov-sB0vxvL2OpDqSZUWoNZc+KhtASbi6W81hHmMNip6BruuyDZChWGH8KPVs71oqXyPZ9r4wF6TiCd-nmx4+DUL+mXvZXBHlMrYvxj2+BoILtPlJN+X+h89vs54nvz-H+eDWOSr8TDny3p-C2KZ0x-0Rn2aQCd9AUHZLGOee9F4fy-tZaQJAiDqHqDAgBcDmYv0VgnN+MDIFYJRLgwqbYYE230tIO8NAyBvBdicNW7tw7DApMw1hB9DZ8LeOLGg2V2E0R-u2HMEcpYGz2njIRm8c7BjakbL64JRhCOUiA1IU89oVBoPoFYqMmD425FQPudYG4LTcFRFMFRSAjmQYY4xNBTGDC5BYsG44g5CwqJ41ETBnFGNHG4sxATvGzUIciRxQTVQhK3GEjxXiZp5ycDY6+S0OErXXj+IeFJYnBNce4tgESdrRM-BEuJLjQklPMZYs2aTHAZNAHYqhocN7-U0V46pCSTHhJSR5MMhsamJNMShcR6i5Lj3ybdWBvgCDPzkqM6OkzC6-Rum3YZe1Z723iSsVZDc2mSWbhs-6k9pYsSZrIfQ+hNDZzHJNf22lzAjnkEQYMrNzIQMQmoqSNy7lUAeS+OmwcjxPN6i80AbyPkxmeWUf+lyRl9KSaUwZhFUbd1ufcyJTScQyVAKMkxoA0iEpReMuC8YonHOyVIQp+zakDIaRZWagtQAAH5GbMgBTisceMaZErcXYUFYLRWtGFIspgF0VnxElnYNlAAuLlNgeVAu8fy1k2hBVMGFWysVR4JVLIZZxWVecRX6ota4XZ3tjWHLzrIi0jCsWAuBY0oemDXYdLyRHf02K1XlO2Q9A68K3UyMoflSRRUZHzOhUweQXztKhSOavFsUi01ytpPgACjACAsHYFAOAiBkDoH4BgR1RCKBMCIFYHKFZVGqyYTQXkZwLJ1tacHTlFZFWgBqCwYIFZeFNvvJxHtVZBzVBUOYDwC8qADxUAI-R0gCB1A5NoNtjg1EAEIQ5VprWu2YoBZRXOZABbQfMhrNVEeycwxg1j1qhp1TEpA1AAXFHq1o56pWXuyjekgd6KkVCfdHKQp6CD3vaatDeBAKRAZfalBdQaRaftCmBico9pkbOg3Mipk0Iaod+ehmG2gsNbLkYhpEgk-1BDoMrfDNK0qnOulhi5R7DZ43lmWEIJgXQEYfRojjxFlJLmqOEAD0gBN-G2GWcDnrIPCjLBSCTWwEMKiU2xOgImdDSbQ9-NMbZpMMPEHvdQNBbQkHjbe6j0YnS3pkycdMtmcNGtzZq2zOnmyZkcw8AlVhyyJCQZRtYVngwkpUjQ-Iydnh4xc5qFCw0yw-Po6AAIQRoqUpCvxSTiKyPA38ifdLKG8tX0ySmzMMWlAxvK0RLLxGitOEWim9M5XDO+ErCJtQlmWDWZ0HFzLw0uTWnLH+uzaVjDyCsGl4KECMikvvOZibvxP5ss5Sl4I0W8uTeVPFldwqRqDcC-K4OSq5vjcsJt3kECAA8oIxsLZ28tntTA+0QlRjQRmJB2SxveWfRURA-WqCVaMUAABqdtlrFSVosfIKgBAcpxYcKD5SQPQfvo-P0a85mYc5UW-mbtva3EvabYQJQAB3L7sLQG-f+yoQHIOweWvR1DrH52QoI7GBSOnqOjyM8x7Dn4O2WugibW8P7QVlTVa2Cz39d6JwQVvRoJtUU3O-NaIfbOFletqR2xOBmDbqF4JZ0t8HHKe1-oV4Y7QxnTNQ8C8Ft+tnDvg6VShElmRMzw6560TlmYcee7cM79Xab4fmHTDj+4DMigMxh6AS3f7Xekt84JfzyDOs0Z43q-HwQUIFJIDyZ9KlWShgjz2kKSgdfkwJeV0LkqLrldj-+vVn16CB6q3F2rrJdXG-BXliXIl2-oilhHnEkeU3y5MxbrzrG9rFkAjFTj2etfqGl6ouXZvx9K+G+X1wavOKG766o3X9jsE0MN47y1nKx+K9j0Oa35nbddeVg7v3rhnfpfj6mj3xvOWzzkj7ldmWz8LUA9d9oECtdtQ8Bd8hi96Zo96939E8EEAtU9usD9yZM8pcxhSA89o4C90RQAABafA6FWsEsEwIvcmAoEvWeLfI8SvPLavZzDbLzMFJvFvHvNvZrc1LvZgVkXvQrDvcPCg4fJLS-CfYbTNMAbNZgNgDgQtbgEtNAFActZEasKgVgR2AeEDVKYjUgEbEOOTc8EQCkVQ9Q-uMUGNEwjQmwNQu5MhEwbxEQPQq2Rw7sAlSwswrQsqRgWbc8MmKSQ0ZSNwQ0UVTvD8KSY0QI1wY0EIrgtwKSVbSI5LQIJgGIvwzqYkRI4kVI8mKSCoHBPBZSPImhIWUIg1TqB2egO5WQdkZSCoqoz7TmUo8VTqTPSIzPMFJouIzqV4KwbuLkegcUHoywPoxgBmTo1wKSYHRItwNdcwVqElAAPlAArDpwaPGKmQhHwOmNcFmNAHmLSCWJWKILWNiImM6nwMKUiJWNaAOLcCIOuPWKkgACptiY8B09j0hDjQAni9jXBHjOpgBXjdj9iviwATi0iNEABSIE94kE5Y0ASE340Af4jRGbaY4Ez4+EmbD404jY0YTdDIdE2EzElYgk0lVqXEqSS7GEuYkk0Aa7VwCkiEnQUYS7NIbYjExY+EtkxklElkhYmkj4rklYpY3kykzqBY9k8wI8Tk24kU0lHE5kiETdV4+Em40U0AbdVwOtMme4Nw68Uw2dGwSaOLElHESKDMH+cwdwo0zwpERFfUtQqwu0mCGgLkAAK3HW8PNJuR0N8FuPiINKsOUmcN0PzFxOSyDI8OzXuGwEdMNM0Ixkpx8PBCkmfV+gsVUGUnTMWWSBUHWO4LKI0UgBIFzKqBqOlJLLLKQQLMLK6I0SGKkFgEgEiMbObNrLrLxMbIAFFEieyOy6ypIAA5WQIc14kcocwAzs1oPUgmCgSMp0jwpM4BArM01oC0sgLkzMMgXbG0xMuczGB0uchchM9TZcTGPgtctwDcrcyNNsHc3cqM205cxFSLIsbFZBPc407Qowr7YkPQnlZBCxOlaOGodQdkG3d02QDYZva8RBUmfVL8qQGw+8YMBw3QiM8mN5f83II8JFHZdofQe-NPJ0PQtrYwDrKjB-N+AFCis9J8zQk0grTC6ctwJC5csXC7Ac43Wi1ZJCyaN0z0ygYaZ-Y3dig81cBLbi8HBA5PYilA2kHzbIeQEzAbFUZAkLUlH-UXDSt+WMrNVKHNPNWQrgYtTAHAN85EZyBCD8JLThMOG6UYVVV1JSSIaINlPIzVCFMybSa2UAKIenBmGKNCGmby2qFle1d-Jy7kUYCpZydGSwGgIFPvZNFNN5BNBFTsPRcaTiOodkAAL0+ChG+FSval8HrwlCIDIAXlUHMGXSuE+K53oCqpqviC+FWE41mjquzEF1yvAsKpOlKrUQqt+2qqUFqsIB6sWPfWarGtUG0HHxFyIrn2IhZ1ikGrNVEsLNsxYuDnqr5GyoVD6oKsqm6gytDSxF+TcM3FYG8NBBZk-U4pCiyvxWPK5BEFC2OsKoWpZglntSgJTRGtmtau6oaumtFWBvGviGi20IGn61-J2q2smoasOojFRH6pPlQXIHQQoES1V0NiPhSBvDwRylkGalQLKpj1vUqrmsnWRr5C5L91kBGtEvwEhptFAGEwsSIDBkIDcU5rqE0HM1AAABIAAdaoCsCgaWxwWQAoEW0S7QEyBTemwGcGrvOWd0XvJW3vKci1b-FqqGnWlW-awGJGpVLkIGw2ia026Sj8LNbMbwMvLmnBXmggfm7OPBKHUWiWtrGWuWhW43fawQ1wEfbfQ2dfYjZzUgKdESOSEQPG8mPXfI+oIBTwo3MVTlGveO0gLnY7K-QmkwYm8CqOqVHOkgcwTMNOhO8MpGiwNsau0gT+EOw9V65cYWO6i0r6pQCUcBFu5Ok-GuwK8mC-OPW4nMzMlQbtSOsrJu8AtsGu3q9Gk60WXFd1CcAlF3UlHmQiCZalVoAlNYD60lbu7QHewCdSENCK91fulMK22m0Ghm2499I+0gCq5-fnJfVWzElXS1GfJ67WhfX4ZfAGrvJva2+ICevMx+rZcHAoXa8mYO1GosZegazudOaRS62yg+48-QY+6FVB3OaONOdGqQTOf1QeaNUBzm48sgfB0+9B0hquXeeuf6tu-oaFehwhrjGODB7udQXuUCAea2ahz6e+kG+mxq0VPBt+6m5-Nmw2jml2nm4GfmpQOEUCYW3zSM1QCh4e0VfAVGQlLkS4XwcWyW6WigRwTOMWsgSwEcAAA173lo-szl7xgakeN2nF3UsByjce0y2s5Todkb-Rpokdtq2qVVkBEHEaho8YQftskMdo8BoaLtdtUZSPUc2E0fkCyDL3IYeSUDmhaWfyQfwvGmb04lVGrVXoZCTTxSyWRELoXk7Ae1kGqo+VwRziVtuQooSeDhTv6aFgtMqcAhoBqfPqajrrRyxoXgVmURSHqZvr1qPCVX7GJjXpkQe2FHPqeutm7RTuQYY2lXVEcRILzNP3cxBBGbf1uNGCeLOcDDzJeIlDAKOYIbyoGsUSGoJRalCyERETEX3rcAJRM09rutGeqaxg2bqe0FGmoYJUeajFUDuuhjQiRftHmrBZ2wRbeq4c+e2HhaS1iZtqmoOPfXetkaloovkuVmxYy1AAxbzOGkRvB0homtKZ6vee7p+jxHmd1lYfXquuPKYHxYxu0HlivpEeJeptGvCbJYWPfVFZCbWCGZmOAe-vVrZYge0HYy1s41+F21trVe3y5fKYVGUDkjeVCmiabulzCbickfqzwsac-BTqVproe3ZfiEGcke7UzFtYYDsHfunIUbGqUY025rdv5qsEkB9osf9pEBcenKVrjQ8a1c7Mte7jjVCnTEDc-hNeNzkdYqFjDYXgjbSZUaRjcWmYMbAGnW8FtAHgFrwQsDe3Mb9qsctdsfsaYCceteTZLYZlTfkGGn2oRgzaHbRx1dWxHdeRzbtqnYpmzARkLfB2NdrckfecrEHGrRVT9Rcr9PndHYddJbBt4yoX4p-N0K9Z1cArIYYu-LKiPa+wLaRuDu7UA1CGfRdLrEcP0aPCzoOjw10IQotXIuA10qdHfYOmQz9MXY-GtbXfDpFig50BcJNbhavR+maoEfTefuN29e0E1r5c4xahw9wR1E3dcE5TU3xm4ydHI5rEo5Wa7yVSgdquo+-pNY-aO0e2e1-NGFIDeBIBoBJwWUNiQSMQINHV3eqGdV5SGSnxysIYU-9SsQaZBePIIDFZOr9IoylcllxfbvzdCy7sIePfOoYGlddZJbpuDsnYZh05VcLZfdtsc7FSzetY9btYA+2tCa452KQ-ponfJaXdk7ID3bU8PaMMC7rOC7i8LO9eQ-C-HYQ9FQ3fXa5daWU6OtU+sp+doYTrM99O7teW5ASqSvLZs8BtleS6dduN-s5ggkrWQWSClt0ESuSsTstQHoNzsaq5ElY-ByzrbGG8tSVW3K6-LeDeLfC6FmS8S7BW0E8fm6Fla5RDa3TWm6G8HzFTDpYKgTiXa4GBruoYoO5e4aGr13aswe1HG5Nx5du9ab488s1FZQ7Q+Yxo2vdU-ekAK7zjafy+5Be6FjWf+4Pc2d2CB4Jei6h-u7++NX6WSWZVB85k5VPu1SZTBhkDRmcvh7NER8Yedg+6Fgx9U+J7u6aER-SlckM8B8+6e5Znp9+9e+kGacoeh8Z9U45+ilmZPlITPn2bZ-FjBbYVJ-R6+5Xu+YZ7B8-G1kF7fgl4ZnJ9h4V4WcFa2ZF8phJlmhKe54Jf05gkfFx-o8JmhaHGF7l-WdBlSVZ7J6l4GvPrR4ZnB+7nOeVmV5Hsd5VQ96V9l85iVXQK6WE9E-E8VHZHsKOKIO7qTksuhW5Cyap7-Dq4gcfuK1sVdYYbzjs-T-eeztjF5GrTrAsX0GrQAsT9+DPRHFnghA3WRwkBIDL-nMR0PRmDXcTxUrdL9iopIrMEVo1ZO-4cEbMMxOAcVsxI4-zO5bwUL7+FhdL-L4nHvHnPoCL7qdC0ObmhxAggsUEZVEjsX5GCOCCQpokAIBjyP6ipP5qLP9dZv5W-O7cEoKUFLxoKz8r+dj8lr9GHr7pyv9b4FB2+0zTvqpR75BZqK5IaZvgGchJ85WWkaZp-XMBD8e4NQSxAPB-pcc1+8-BFKFlnYatsBxfAmC3TrKqxuMPgVYJHVGA39lIKAgRmgKEYVYn+lqeBtALACwDfg9NJ2ogMn6gVcyqgOuiQOf7CFWge-BgQfyvxc4j+QzFblySa5go6iw4HKKMHwBiCKB6gfjm4nIKioCgt9ZsB4AHhSo2Q6-BFK4W040IyGNfGoKFiBxrcxUYtePh4FrhBBtg+gDPnYKFgODXW26fQI9xB4OAlUAAcnACgR6AiyVQG0GcEeBAhuFOsg4MoIeD5uDgliAnC5A1BiOSscwOukSHkwvBKaIogbjbQ5DPB9MTlCnWKGWo8hH4NZkrHfyZgihFQ1wFUO97XFGh9gwWEqnRCJ9ggUIVgCHjbB1oD0dg+IW0JLYOCV+jLJvlYJUCb9wsow3IfH2-42AScbieICsKYBhx3BSQuxFEO2DboCh9QUgEsPzJDDhhOwogC4O0D7Dj8BuLoWkOCCZgjh0w+eh2HWGbCuwsQtwM0MrzjNgMbw0LI8KmFGDp+4XZoU8OBGhZ0w4I2eCCOKHND0Mlpc4G8O9BGtfhagN4acO4IjD5hnZBwfqSUCGBbQG-FMjoECHCR9AgQ8wIEPdpMBKRoAQIajDpH0iLEdIwIVyHZCsiScVQSwIEIPTJDDYSwh9gSOtwVwyGlgWoLXy2G4ikswoMkR4H0D4F9A4owbEyJyHNCwUgot4fRWFFEjTB0pViuqODiCjROpAMURKO2BMRthCQnEYWTxHHkTRDAULLKIdGsj+gRAAcCYFZHVg1QWkNxKyIeT+jhwNoXkbELtHt1DB-RJ0eeECERjXRXgB2CJFZH3hKATtegKyLOC41XR94AkWmL5FLc4RcZY8iOGoBDgRIUY8EIEOLFAp7wrI3zKyNkAhjpREEQUbaESD3gUQvws0YNlkEbpQRMo6Ma2NsL4EHRio5UbPFVFTtDRQsTUasNTYlj7wBbbYRahnEbDtADo5up8L7HWibRXefkXtGNGdilR5onsRUOaFXJ2QaQjSO1jXGHixxFWZ1mMPpifRrKDorsbPH1EeCpxYKV4BeJIjXjnRvw0ceaInHtC1ur4o8YNg-G7j8xSRIwUKMJEkMM4d4lbh8NaDNDtxO40CSmh-GXiIO8QFsShRsDgTkJloi1NiMwnG49x40FsSkDQQni2h8IvjKSNngMcF4IEtUZ7gPGmiIJkoqCUOy-EMxBREYt8RaMxH8TCgFE6Cc2KsHrAagXIESfRI4n415E1RXCdS1WTCSeJ943sY+MPzNhrKmku8XxKXHg4cJf4uirKIjFASVRxk4OAJM7KGTzRtksiTBMFHkiRRXcLSShNIlNDh8xTSSWhKSxmSrxdFFcfEAjEbiDREkgKZUMWEySj+xHJvkvx0lKS3A0IiIaSiP6bicR3w48ixPnKkoaJrEi0dlKXaMTdhxHG4YcKBEwifJn4pLPlNKmYTyJMUsVLFWUI+93eTzT3pp1cCb1bmxBbqTGD3p5xjOHDV+v6R95K0-eklASCzyoYytQm8As9k-UVaioJpIbS1EgM1aNcxU+AJ4rwCeJ10CUvINQGWCdHC5RcK1STFLhgkltmC3Bf+tdMlxAM6gIDOuuA1ppIC7pMxH+keH2kCAjpbQp6elkAbpYUujQ06e4z86tTTcDeNoZ9FNqP8fpodIQWClYFZcUa0sdZNdBxkLVGM+MseBsjxmC05+RA6zsQFn5LCUiKOWwbDLBQODBRCU2UXWKpFuiPRFATkdyNrHWB-RW4diR+AcGBD6A2Y-QGmKpEsiqRrM+kRuGDF1TwuwAm0QAAZ0uxuQGBDKPDqzn8WszmCXCAA","body":"function analyze_assignment(component) {\n    const symbol = assignment_symbol(component);\n    const vfun = analyze(assignment_value_expression(component));\n    return (env, succeed, fail) =>\n             vfun(env,\n                  (val, fail2) => {              // *1*\n                      const old_value = lookup_symbol_value(symbol,\n                                                            env);\n                      assign_symbol_value(symbol, val, env);\n                      return succeed(val,\n                                     () => {     // *2*\n                                         assign_symbol_value(symbol,\n                                                             old_value, \n                                                             env);\n                                         return fail2();\n                                     });\n                  },\n                  fail);\n} "}]},{"tag":"SUBHEADING","id":"#h6","child":[{"body":"Return statements and blocks","tag":"#text"}]},{"tag":"TEXT","id":"#p25","child":[{"body":"\n\tAnalyzing return statements is straightforward. The execution\n\tfunction applies the execution function that results from\n\tanalyzing the return expression to a success continuation that\n\tcalls the original success continuation with the return value\n\twrapped in a return value object.\n\t","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":9,"eval":true,"prependLength":685,"program":"chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQGZMChslAGYCuAdgMYAuAlgPYkDOhATjQLYQzxKpoCMaAJlzFy1OqCr0A+hQCGAc3kBTACZSANpIoAKMmwAOdJSQoAaUBQAWSmQoCUoAN7ZQr0EyUUiTEhOn7ZKiZdAyMTBwAyCNBrWRUQ1kMSYwoHAF4Mi2tbeQBubABfYVJKWl9JDSoKJSZZdQSklIdnN3dPb3LpOUVVSvodPUSws1AAIk1q2vVRu3yikVLxCZq6qQA3OqIlBuHm1pc3Dy8fGKU47TkqesHG8NnC4tEy0FZZAGsbZantDfUt5oOriOHVAmn62nGVRW03Mv3+c0ei06UhIslY2xuuycgLax2R3WUajBA1CyRM5lGqPRMwR2AWYl8rw+KLR23oAE9WAAjGjqAGtYEnYkQqlKUbmDnc3n3Ip0koM0CSnnqKQ0Ags9E7MmpbEC9onWLxS7XUlNGWIhUVWT0ehUeQkdEmLVNXWHfX4hSEvokobainW232x0UGkPenPAN2h0pKRK3nO8KuoHu07nY3aQ0XQIm31muzm8PiSNBmNwmxKAAe+g8NrKCZ1LTdeNTRuzWau9fz5rlT3EFRUSjI6lktQZnaTuJBFQJvWFmL9Yz0DDkJikA6HI9kDJmoAAPruca03NPPbOtPWKRsmFRZFz1DZ18PR2Ud-vD0e-DkvXPTeSxoWSDXQcny3F9uwA0BH03BlY05ZVx0bZNmzjFU1Q1bZM3Tec8wRCCoOfOh1k2csqxrW06AQnFBV8TC2yw39UnzWkIKZGwl36WRV3w0CKNFWFiKkStqyUWs6H5JsQWFUZ2JXCggI3AiSHFUA+NAMtBNIkTyJIcD5WeCph25FRZA04TRJISi9WbE8eiJc9sL-cY0S5YzTLIsDcL0pZnNcgJanRSZYKldR6EsiSTlefRtBQ1V1VU2iOwcxiCy83xDJckyeRUdkwqQkEEvqejczuXTe0Zd5Ph8kyhPcii-NZSZ6HMLL2XEvKhXPJyjOqzTzOU+qApqJrQBa0qkU-AD5JAsckuaABIfYrKnLpTzs8EkopSbuO3FKysIVKpugsp0NyycOv6KQPAIC9QF4Xbxq24CjsIgbPCG07qNBLRLqUa6NtAAR7oVR6FJ4wCWo+lNiR+v6GPMDAgeeEGVQoGgpBkzi5MfSHm1Y9G6A4rinsU7R3w-NxkeewDRU7UwyfJl4Ko0Kq3K0ut6YZimDu247Xsa2mOc5-aysOxSpAh2amIeHtxoqajYzkapg1yz6bO-ey4bGeWOKVlJQ3mVKzsAmq2Yo2ak0+grOzGy1pCXFQqjKOoceWr8z3WzXpLoB2GVWE2+ocN8hc-Gc1p9W4Ri9kgfadlUdaUYN9ZlhV7cduhVmEh2yC3DEGLaz7oaum67s8vbU99lV2KUABHLYnXNxCC++ov-sB0vxvL2OpDqSZUWoNZc+KhtASbi6W81hHmMNip6BruuyDZChWGH8KPVs71oqXyPZ9r4wF6TiCd-nmx4+DUL+mXvZXBHlMrYvxj2+BoILtPlJN+X+h89vs54nvz-H+eDWOSr8TDny3p-C2KZ0x-0Rn2aQCd9AUHZLGOee9F4fy-tZaQJAiDqHqDAgBcDmYv0VgnN+MDIFYJRLgwqbYYE230tIO8NAyBvBdicNW7tw7DApMw1hB9DZ8LeOLGg2V2E0R-u2HMEcpYGz2njIRm8c7BjakbL64JRhCOUiA1IU89oVBoPoFYqMmD425FQPudYG4LTcFRFMFRSAjmQYY4xNBTGDC5BYsG44g5CwqJ41ETBnFGNHG4sxATvGzUIciRxQTVQhK3GEjxXiZp5ycDY6+S0OErXXj+IeFJYnBNce4tgESdrRM-BEuJLjQklPMZYs2aTHAZNAHYqhocN7-U0V46pCSTHhJSR5MMhsamJNMShcR6i5Lj3ybdWBvgCDPzkqM6OkzC6-Rum3YZe1Z723iSsVZDc2mSWbhs-6k9pYsSZrIfQ+hNDZzHJNf22lzAjnkEQYMrNzIQMQmoqSNy7lUAeS+OmwcjxPN6i80AbyPkxmeWUf+lyRl9KSaUwZhFUbd1ufcyJTScQyVAKMkxoA0iEpReMuC8YonHOyVIQp+zakDIaRZWagtQAAH5GbMgBTisceMaZErcXYUFYLRWtGFIspgF0VnxElnYNlAAuLlNgeVAu8fy1k2hBVMGFWysVR4JVLIZZxWVecRX6ota4XZ3tjWHLzrIi0jCsWAuBY0oemDXYdLyRHf02K1XlO2Q9A68K3UyMoflSRRUZHzOhUweQXztKhSOavFsUi01ytpPgACjACAsHYFAOAiBkDoH4BgR1RCKBMCIFYHKFZVGqyYTQXkZwLJ1tacHTlFZFWgBqCwYIFZeFNvvJxHtVZBzVBUOYDwC8qADxUAI-R0gCB1A5NoNtjg1EAEIQ5VprWu2YoBZRXOZABbQfMhrNVEeycwxg1j1qhp1TEpA1AAXFHq1o56pWXuyjekgd6KkVCfdHKQp6CD3vaatDeBAKRAZfalBdQaRaftCmBico9pkbOg3Mipk0Iaod+ehmG2gsNbLkYhpEgk-1BDoMrfDNK0qnOulhi5R7DZ43lmWEIJgXQEYfRojjxFlJLmqOEAD0gBN-G2GWcDnrIPCjLBSCTWwEMKiU2xOgImdDSbQ9-NMbZpMMPEHvdQNBbQkHjbe6j0YnS3pkycdMtmcNGtzZq2zOnmyZkcw8AlVhyyJCQZRtYVngwkpUjQ-Iydnh4xc5qFCw0yw-Po6AAIQRoqUpCvxSTiKyPA38ifdLKG8tX0ySmzMMWlAxvK0RLLxGitOEWim9M5XDO+ErCJtQlmWDWZ0HFzLw0uTWnLH+uzaVjDyCsGl4KECMikvvOZibvxP5ss5Sl4I0W8uTeVPFldwqRqDcC-K4OSq5vjcsJt3kECAA8oIxsLZ28tntTA+0QlRjQRmJB2SxveWfRURA-WqCVaMUAABqdtlrFSVosfIKgBAcpxYcKD5SQPQfvo-P0a85mYc5UW-mbtva3EvabYQJQAB3L7sLQG-f+yoQHIOweWvR1DrH52QoI7GBSOnqOjyM8x7Dn4O2WugibW8P7QVlTVa2Cz39d6JwQVvRoJtUU3O-NaIfbOFletqR2xOBmDbqF4JZ0t8HHKe1-oV4Y7QxnTNQ8C8Ft+tnDvg6VShElmRMzw6560TlmYcee7cM79Xab4fmHTDj+4DMigMxh6AS3f7Xekt84JfzyDOs0Z43q-HwQUIFJIDyZ9KlWShgjz2kKSgdfkwJeV0LkqLrldj-+vVn16CB6q3F2rrJdXG-BXliXIl2-oilhHnEkeU3y5MxbrzrG9rFkAjFTj2etfqGl6ouXZvx9K+G+X1wavOKG766o3X9jsE0MN47y1nKx+K9j0Oa35nbddeVg7v3rhnfpfj6mj3xvOWzzkj7ldmWz8LUA9d9oECtdtQ8Bd8hi96Zo96939E8EEAtU9usD9yZM8pcxhSA89o4C90RQAABafA6FWsEsEwIvcmAoEvWeLfI8SvPLavZzDbLzMFJvFvHvNvZrc1LvZgVkXvQrDvcPCg4fJLS-CfYbTNMAbNZgNgDgQtbgEtNAFActZEasKgVgR2AeEDVKYjUgEbEOOTc8EQCkVQ9Q-uMUGNEwjQmwNQu5MhEwbxEQPQq2Rw7sAlSwswrQsqRgWbc8MmKSQ0ZSNwQ0UVTvD8KSY0QI1wY0EIrgtwKSVbSI5LQIJgGIvwzqYkRI4kVI8mKSCoHBPBZSPImhIWUIg1TqB2egO5WQdkZSCoqoz7TmUo8VTqTPSIzPMFJouIzqV4KwbuLkegcUHoywPoxgBmTo1wKSYHRItwNdcwVqElAAPlAArDpwaPGKmQhHwOmNcFmNAHmLSCWJWKILWNiImM6nwMKUiJWNaAOLcCIOuPWKkgACptiY8B09j0hDjQAni9jXBHjOpgBXjdj9iviwATi0iNEABSIE94kE5Y0ASE340Af4jRGbaY4Ez4+EmbD404jY0YTdDIdE2EzElYgk0lVqXEqSS7GEuYkk0Aa7VwCkiEnQUYS7NIbYjExY+EtkxklElkhYmkj4rklYpY3kykzqBY9k8wI8Tk24kU0lHE5kiETdV4+Em40U0AbdVwOtMme4Nw68Uw2dGwSaOLElHESKDMH+cwdwo0zwpERFfUtQqwu0mCGgLkAAK3HW8PNJuR0N8FuPiINKsOUmcN0PzFxOSyDI8OzXuGwEdMNM0Ixkpx8PBCkmfV+gsVUGUnTMWWSBUHWO4LKI0UgBIFzKqBqOlJLLLKQQLMLK6I0SGKkFgEgEiMbObNrLrLxMbIAFFEieyOy6ypIAA5WQIc14kcocwAzs1oPUgmCgSMp0jwpM4BArM01oC0sgLkzMMgXbG0xMuczGB0uchchM9TZcTGPgtctwDcrcyNNsHc3cqM205cxFSLIsbFZBPc407Qowr7YkPQnlZBCxOlaOGodQdkG3d02QDYZva8RBUmfVL8qQGw+8YMBw3QiM8mN5f83II8JFHZdofQe-NPJ0PQtrYwDrKjB-N+AFCis9J8zQk0grTC6ctwJC5csXC7Ac43Wi1ZJCyaN0z0ygYaZ-Y3dig81cBLbi8HBA5PYilA2kHzbIeQEzAbFUZAkLUlH-UXDSt+WMrNVKHNPNWQrgYtTAHAN85EZyBCD8JLThMOG6UYVVV1JSSIaINlPIzVCFMybSa2UAKIenBmGKNCGmby2qFle1d-Jy7kUYCpZydGSwGgIFPvZNFNN5BNBFTsPRcaTiOodkAAL0+ChG+FSval8HrwlCIDIAXlUHMGXSuE+K53oCqpqviC+FWE41mjquzEF1yvAsKpOlKrUQqt+2qqUFqsIB6sWPfWarGtUG0HHxFyIrn2IhZ1ikGrNVEsLNsxYuDnqr5GyoVD6oKsqm6gytDSxF+TcM3FYG8NBBZk-U4pCiyvxWPK5BEFC2OsKoWpZglntSgJTRGtmtau6oaumtFWBvGviGi20IGn61-J2q2smoasOojFRH6pPlQXIHQQoES1V0NiPhSBvDwRylkGalQLKpj1vUqrmsnWRr5C5L91kBGtEvwEhptFAGEwsSIDBkIDcU5rqE0HM1AAABIAAdaoCsCgaWxwWQAoEW0S7QEyBTemwGcGrvOWd0XvJW3vKci1b-FqqGnWlW-awGJGpVLkIGw2ia026Sj8LNbMbwMvLmnBXmggfm7OPBKHUWiWtrGWuWhW43fawQ1wEfbfQ2dfYjZzUgKdESOSEQPG8mPXfI+oIBTwo3MVTlGveO0gLnY7K-QmkwYm8CqOqVHOkgcwTMNOhO8MpGiwNsau0gT+EOw9V65cYWO6i0r6pQCUcBFu5Ok-GuwK8mC-OPW4nMzMlQbtSOsrJu8AtsGu3q9Gk60WXFd1CcAlF3UlHmQiCZalVoAlNYD60lbu7QHewCdSENCK91fulMK22m0Ghm2499I+0gCq5-fnJfVWzElXS1GfJ67WhfX4ZfAGrvJva2+ICevMx+rZcHAoXa8mYO1GosZegamfZWIazet-E+kg7rJ6l6g+481+-06FVB7YdB0sASK+62UB4a6m0akG+mxq0VYh9+8HT+mBn+sVfAJ43gJ4uuglXkNQMsULRa0XFayTKXOu1isFZg7g-+iRyXIBuoEBuu8B2mjh6RsVbQLh1oHhgQfhmRsVBR9LQB9LBBox7goR3vcwLRyxhmOR+xzmT6U2nR2hpx0OlusVeB5-JB-CnKsh-GaONOdGmyvCwh9u-QY+0hvK76zudOFUTOf1QeaNWhglMgaJ0++J9GoJwu7hbUQfNwAlWQTJshrjGOBJ7udQXuUCAeGhpLe+xh4O9W4OKJt+6m5-Nmw2jml2nm4GfmpQOEUCYW3zSM1QZJ4e0VfAVGQlLkS4XwcWyW6WigRwTOMWsgSwEcAAA173lo-szhse-pactWnF3UsBygOe0y2s5Qyfab-RpqaezDNq7yVRKbubWAeahs4YsaPAdquCds5o025rdoGaGeoBGesDGazhzjmhaV8Z6uQd8Gb04lVGrVXoZCTTxSyWRELoXk7Ae1kGqo+VwRziVtuQop+aFhTspc5gtORcAhoDRfPqajsbcFxZPlITPmtj1qPCVX7GJjXpkQe2FHPvwclm7RTsRamXWscVwfmvh3cxBDpewaWNGCeNlcDDzJeIlDAKle7vFhM1YVOgJRalCyERETEX3qKePMNZXVC3pdRaxgFYxe0FGjSePI1ajFUDuuhjQk9ftHmttdZ3dfbvetIE+rKbdYafochptqmoOPfTDYsnIuA10qdCDeGn9bzOGkRvB1jbpvhZRv8YVGUDkjeVCjeYYGl0+bjbBo3XCZTSKIN0rYzs5gNo0epaYe7UzBbbsDYc7K6bGp6aBddv6ZSKsEkB9qWf9pED2enKVrjU4eObrNLe7jjVCnTF7Zpa7w6Y8b0bAHZsYF6ZBaYFZaFnwGnW8FtAHgFrwQsDe0Wb9pWdLfWc2aYB2fLbnb3Z2PLcfoRmXb3fzbPWSIXfkFeXXbto8f2oRm3aDqecg6Fj8an3GkrEHGrRVT9Rcr9PA-kGGnzcfr0IqH4p-N0IeyA8AqkGI7Kmw6+0-lg4ph6u7UA1CGfRdLrEcMmaPCzoOjw10IQotRTcoqC2oqdCRsmmQz9IQ6PF-bE+DSopIp0BcO3ddavR+mauqaXefuNyA81rxG1pajU9wR1DPc5TUyCc0xU+ykM+qZ5ZedACgdqrPdtu3eDrxyewJ1-NGFIDeBIBoBJwWUNiQSMQINHTQ+qGdV5SGWQ6OsCecsFcurbv6EIFKdie2DCtNmvtScS-nJbdCy7rIZw-OoYHqexapvuYYa+aYYA8QZEH7YtRo9tuq9FVXfLaVoTtscsd3aMdA+Gmg+YfsdQ7IHQ4i-9XY5jrPc7N-c4+-aFnw4m7rL6-o8Q-g9g6QdaWi7RtS+7m5GNePNuYYDy99O7teW5ASqSoXkxZvtoc+kacq+aduN-s5ggkrWQWSClt0ESuSsTstQHoNw2fO5Els-ByzrbCB8tSVW3M+4u77a65m+5wgaW8LJ0aa7h5e5RDa3TSh8B8KdFTDpYKgTiTe4GBrvcY-AKD1bKaGr13aukV2AJcCZp-xaO0-BplZQ7RiYxo2vdSY+kGsrZ6Fk5X1b57zh55G6w-57bY55Xri9SW5+Z4MXJSZXi4Kfp9S61UV+SWZRkDRhl6sXtVF+yedgl4ZkF8CcN9p5V-l+kHSlcmoeN5Hql4Gpt56h8r17l6Fj5ekHZaZ4F8d8xt3mxuiixoXgVmURSEu+jVF8UXt4-FN62+j5F6t5+j050R98l-1e1k5bfhj95Ymm5mdbd5kThfZ9PuRm19ydkimmtlF-PrT5N79-RcL7p6T4ofrkT996F9wYwfb85iVXQK6W898-88VHZHsKOKIO7qTksuhW5EGaN81hjYR6q-rYa0pqybzlu9rYOuLaRiNXoF5GrTrAsX0GrQAtn9+GA6lW2FGA3WRwkBIBP-nMR0PRmHo8TxUrdL9nk+63o44ZUjayqY1MzCmJYBorUxIOd8yerPBLGAP4utj+p-CcPeHnL78-gGLULJKzmg4gIIFiGpiqEjrwCRgRwIJBTQkAEAY8BAqKkQJqIkDSuVAtxvTEoJKBS8NBUrs5Dn71A-Is8CELfzpwUDn+BQV-tI3f6qUv+wnBToj1cD4A2BvwCrjaGkZ-8iegAmoJYgHg-0z2KAw-gTFCyrY-+GgjFl40LKqxuMPgVYJHVGBUDlIignuMoNqYVZSelqHxnWSkHn86g9NJ2vIPAGgVcyqgOugYNDrCFWgOAmwXgKvxc4CBlLZHg91Ep1FhwOUUYPgCCEmD1Aj2PtOQVx631mwHgAeFf2iiwCEUrhY8sQGgGcCagoWIHHD2Dhi1p+HgWuEEG2D6BisFQhmFUNK7bp9AJuayg4CVQABycAKBHoCLJVAbQWoR4G6G4U6yVQygk0MsZVCWICcLkDUG0BQhWA5gddNMNaAtDG2x+A3G2nWHkxNhsfMLHez2GioDhufZYe-kzC7C9hZww4dcROFgpbhufdELP2CDLCQ8bYOtAem-aTCHh05KoUgPs4P8Rws8FQOgPCx-Cjwsww2CUKkAk43E8QeEUwDDiNC92ZwmoUQDqHaBt0TbeoKQBKH5lvhPwuxCMO2A4jth9QF4QsOCCZh8RII1QPPQ7BIiURXYcYW4DOGV5GWwGZkaFlpHAir+kApxmcLpECjQs6YEUaCKJFw90RfGHQJmGZHehds7tVjsyKlFd5fhkIwslUP1JKBDAtoNASmR0DdDhI+gboeYG6Hu0mAZo0AN0NRjWibRFia0d0K5DsgnRJOKoJYG6EHpoRe0WESaOtwVxKOlgWoFwNRH-CkswoY0R4H0D4F9AwYwbPaIqFPChYsI5kfRV1EBj8h0pVismM5iwjfOpAIMSGO2BMQPGGozUeqLjLHkCxB3Q0doG6E1inR-QIgAOBMBOjqwaoLSG4idEPIexw4G0F6PGHaiiGNQfoqI3PDdDshXIJsV4AdgiQnR94SgE7XoBOizguNJsfeF1ErjvR83dYcOPbojhqAQ4ESOOPBDdDDxQKe8E6N8xOjZAg4zsj6PGiwjbQiQe8CiC5FFjBsyPFfjMIjETiXxthfAjWNjHxjZ4iY38RalTEIiF2R4+8HRzLGe4oJyI7QDWObpsihRhQCsdwUfEKh8xH4uMcWO-HTCzhVydkAsI0jtYUJ+E0CRVnqxGNcxn0ayjWM-GzxsxM3XMcHFeBkSSIlEyMcBIIkJi2JYqDiZ2WYkCTWJD43cWxXpGUdoxmYypuJJLGsiNhw+LCRahlG4xqi5EwTpf1nixgUKNgMSTRJ0ZqjHhmEtSeDhwnPBnxKQNBERJuF-izxs8bjNjXAlNCRJH4PCYWMUk6MhJ9ExCTJKnEsSlJ6E-yVMIsnqTp+sIoKT5LDFoisBbGLSTxLooxSaJcUrUfTEYk7dUpxYvyQhONxcTtJUtOipGKnEgTixbk04VJNcA5TBseUy1B5MLJ+i5J+oruLFOUnsjh8sLCKa4A0lKskpFEuikhPiBTi0JOY8yT1OElRSZJBApYQ-wQE-jpROICUUMNJQEDQpDwjkceWcnzlSUNklyXi1MkQS3QpIpYRSO0ArTCRG0-KSmh2nXTNR5YyaWClirKEG+mfMPm33XpXVjyTAFLhjW0Dyw7e-1aNuV3w5VcE2oqX6e81g5-9GuEM7ThA20DsYtanGX4EqJW6Ftt+sodZNdBxkLVGM+MseBsjxmC0YBqAzKkUMSb0iUiKOcoU9MqHYBYRs0yMTePNHNjWxFAN0R6OvHWAexW4SqR+CqHdD6Am4-QCuPNGOjzRrMm0RuAHGljv2ggyEQAAYpOxuQGBIKPDqzn8WszmCXCAA","body":"function analyze_return_statement(component) {\n    const rfun = analyze(return_expression(component));\n    return (env, succeed, fail) =>\n             rfun(env,\n                  (val, fail2) =>\n                    succeed(make_return_value(val), fail2),\n                  fail);\n} "}]},{"tag":"TEXT","id":"#p26","child":[{"body":"\n\tThe execution function for blocks calls the body's execution\n\tfunction on an extended environment, without changing success or\n\tfailure continuations.\n\t","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":10,"eval":true,"prependLength":683,"program":"chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQGZMChsDMBXAOwGMAXASwHsjQAbCgZzIH0q8XiBDRxigcyIBTACYAKRgE8AtgCMqdRgEpQAb2yhNoAE5CyBbbWlcADhJny6oALwA+UACIAVN14DhIpw4A0oKXIVlAG5sAF9cEFBCUkoaRijtKmkIGHgkVDQARjQAJlxo8mpaJhYyLn5+URYGZjESJJMaISIyXzIACyFS8pV1LR09A2LGFhMuCm06hqaWlQAyOdBOrnF66UbhWZtra1AOrrL+EPD8YkKaUBKGMiFtLjop9ZmyXo0tXX1DS5HDypFqphkR4bZqtRzXW73BxKY6nGJFegUG53OgsABu9wIQmBz16-Temg+QyWQhWYjKFAeaxBsxhYXyZ1iRi4AGsuhCUWIMXQsa9+kSvjUgQ4OVDfNzebC4edhiwiFxpNjqbi1ASBp9Zb8qkKcZswQ55YroVKCkzQMY2XKFdj-JY+e9BoLAWIDdafH4LAo6SdTQjbQo2BxDUrpnr7YTHbRluIKVTQ6ClN6GfCLiUeHxBIqWrqE6r+ZHvt0Ktrncq9b4HOn3FmyMb6b6LlXM6CWP6408w3mHRqSWTY2Jo+Txu2aS9E0mG7Qm0Qa+jMV0hAAPEy6Nw0HNbPrd4mD-v9ssJxMmxkIkoiIQkOhcO5MjcvLsRnslLX-HUHloV+pEZhcFosc+XteXBMtCoAAD5gWq-RaM+5R-ACtTvvqGLaBQXCyHQXQAVeN5FKBEFQdBhYvghQJIRWk7-heOHAXhSbSma2FAUyraeiOKpbo+xJtoGVqKgOpIxsOd7jrCk6gExuE0HOPILsuq58OuSHhuqO6CUOlIaexYZHvSDEIhaXRfj+f6SbR67BuK84sEuK5CGuRAqQKtA6g4xllKZ1HMXhviWaAEpyXZDn0eJVwKrIIhcDZ8n2YpRAiQ+qlfLBxavqW8YfuC4WRdFQVxXW4TiVecg5WMdyKsirEBIoCWcUlzJmDx7B8UIvi7sJym6YVJ4XMVEVRfIIiSLVarOb2QmafuGVjiFPXMpafU5bZClFGIZXWsijC+INkhOQWrmLVFy2xT5oDrRVtxbaAO2zSmsqUWZt7KWoACQ+L5k+PxwSWiHTRRc1UYBUlEAV+kXA9XnAy1I0fcSQosLoeB3r4mQTnNUQA49RSjEBF3aIwMPbk6zAI0ISPkaAORo3dGN3YDNEsTthNccTrCI8joAYNTMq0zK9OlFQLDub+rDYcz9XmqyRlxB5ouQ+Z8WEURWgQ0DCvQ8p3hK8rksLdlR0xQ5YjazrKuY-LLHnXol0iVrpv26rDPY0znW3TzJTOa2ZQ3DWzNjSl8Fvn9jiez+PugqD4me8dRvPZxY3tZpnXHjTJRfiISJFPc4v+19qWkRzbk0BnTL3LlK00PhkH28R31pb9Hagp+xeZzQZdh0INaR+j6et-KqJ2RnJDASGjebgSY3w+zFOo2JPct6XqLGUIACOWLZnHE-7YCpPk8HVNzzTveLyw9zIvKlBoqPo7hpPO-T8HXMp+7IyMKv68kDaZDSPe8cFgHP0gTMB-hWN+a9mif27jTMBH8ugdxrATYBv8tBbx7InB4SCupg1oHgCYJN4GggkN-MgygHwJ3Ukg4I9Z0arlYAQloiDiGkL-j2fslDuZmhKJ3EwZBJCtnfhAr+P9mGoOJCUIgBA6AYKYRw08Iwrz4O9p3Qh7CyH-xGBIqRWkiHCKwdgwsGEqAkBZDndRRZA7pTHvqQxxioE8xsSyFgLtpp7TQepKaVisHiUMk4ugRiTH0N-qNbetQHAOPdIEt2nCRhUBMJCMgVBtBCySLICgF9Vpxzeig2GyURjcG0Hw2J8TEnJLkGkhWCUCI1xKKk+UBS2BxJvCUtYtSKnKUPi-TgdTCmNOAs0lJ5SnouNeu9Immo64Fwpg4fJPTilJJaYMuiHTolOPKfUopTT5kDPSUpYZqgsmaGCZ9cxgDC6tPWb0hJWyyk7JBrIi4Gy+lJLbKYnsU8yYc1ntQmmuD8asEeUQVYeyjlw3vh8imB9vk8zfunBpkJAWvNBSTB+VjfBPz0t4qWp8TAmAYMPW8lEY5xV8NefgBBZxEqKCInJLlnSVhxXihWPgTbK0JYbYloBSXkpbJSuIUSESPKuaU1pLEEnYtxRQfFGTgX9HcqAQViSbDysuSUl57SQW5K6deWZmzhWLN2Z4lloAAD8usuimAlVK9cPjgxiAVdoJQdsa7OqIjqX5JMAVAs8YmI1AAuM14rGW3htdaO1KqHVOpdVGxEtR3X-N6QizWRro2mxhcXOFdxE0uL0aFEYFqg3Ss8Wo45JEg6oscPmyVTL7k4IBry+Km8xnjW0cnKFZpSXlxOnEP2BZ0EtuzfRSIk54h4ESMkKAcBEDIHQNkDAyZOlkG0AQDow1FyuLESMeQChSTxTXaAI1prFx+tALcRIkxFwVi3ZhX8J7lwXhuCIXwuhP4UCviIOxKy8D3CkGIPdqgJYAEJiJLpXb+mEoAfTox8ZONauNrb422lQIavhmhonXazF0ypiD-EnMylNVtNqIeQyeogaHllyNKY0bDLAYN4HQ+M-Obrm5PGo7hmtvNLZwc2mIOjiU77Io+XgFG7HKJM143VfjbNBO+Ehd1H5dbSMTBoL7cTGraUCaRkJzm-KLg+M9gFKYLRcwSZCcKfT853RfhuLMcjqYRjmdklyec9Ha6MedAFCsDmsQfoRF56WRnswBRc32oLOnaAQL8XwIg-AbKKcSDOQhqGXP9iS7ZnBeDWCjtDUlvjvb1KpfpHK-YNl1i8Ni2iJTCWWhKs0XQEI+joPlRtGxK6AVqVNrGBMcw1VWvzioXJnmWXFRVUsATIbQg8TZKbYOcbImmsySxGNprk3Dk0r2MJWbz8zRLms-8VDlXfZtl64obaPAFykZc5haLHRuujZUDsXYV3+A3e5MoA9Z1xiTEa6Go7VlFCOuumd8rShj1PZu0dlQAAeegzRnvtCc-997p7EkugSVQSWRBJCcu0GShBfgCAMooKIf1DhQAAGp90pq0MwVC0WKB4GGhD8njgKzM+TcrGnaT+D0+Gq9n1Nd-XI8mA4NHUQhAAHdse49BPERgBOJXE8cGzqnmhOd04Z7dwIKgKfulJxT9nRE1fc413zsL9AqBUBZATkbAYDNthQxdxK4lUPVAt2YHLdV+jiUYMPeKv3-LfpUjrXOcpJEYJayDlXJqSNold7EsQEWqBRZi-t+LvskuR5V-6ts2xdiDghwb6CprBx88L-0bPvvtEQ7aMJU3IQdbhB1vT0ACfSO572J0ErPC+Gp+U8Z5NQvNd0ArMQeQ2HQDBjrA3k9ighCJR1nK8bSq400aa63sjyaxo+9-Dx+bR3d-WkdWXnW42Fv2QP4qXSDe1SN6bS7vx8eCuQZptOG3qI7dsT+w7tDTv0b37d+vkHmbNApXv7nzvPsrCHrVkPm9lHqav-o-qQJFlzuVgdolhdpnlTtnmxO3vnhHsfpoKam-KwCXt+n9pgSmhXjvmwhHjXppHXtrKEJTsrM3uvu3sVtwmVr3lVkEs6oPvbo4KPlQOPsGKAAALRiGcpuDNgtBT7KxMFCCz4QFESL5NbL4Zar7ZYXb141xb6V6n776zaRpR6aCn5tYX4TZ0jX79C34szhakZx7u7aF6RDpzQjpjopCTrpAzpoAoDzorIrgUDSCZxXw0ZzQ8bEAuYAL1xAjRAViBHBGXxCA+YXAJEhFdBBG4rKItAVLRDBbuIbaRH0RyppFJFhF3TxCPbOhKyuTRjuhaDRgupH7KyuSxj1GaCxhNHGFaCuSdbaDtEfYTBdE1F0pCgDFCjDEtF0riJh7ugzFSL2zNGup0oZyMC4pcCSDuirHrFY6mxLHQSuRC7tFC7Or7H9CuTGAdCnyyCMA+CXHtDXHxA6xnE9F0pk4DFaC-q+C7Q2D2CLjM67EvGaCuRiEfGaBfGgA-F2CgD-GSGAndHAl0piEzLtH-H9DQmaCSFolAkxrCheC+BEQQlQl-GgBOCQmaA4muTABgkt4XqQn3YklgDwkjGhIACkNJRJDJMJoArJ5JoAlJdKD2HxnJvx3JD29JCJuJLoAGOwwpdJxJ3JMpuwu0kprkkOHJ8pXJ-x0OmgKpLJwokO1gYJIp0J2puwEp+pLotgGp3xWpoA9gupApoStgRpBJ-QJpJJLpjpqpdKAGNJ3J6JDpoAQGmga6SsdIJRqEiRr6XQlER2NgaoxgZg0YvgpRMZ5RMoVCkZQR6RGZLEVAsgAAVvepUYmaYBEbQNCb0VGeke6H2nkYmJKWdDWWUcOnSNgNmdGaEcLAwkqjqK5NhmTGkqIO6IObgh4DiSYcsaEpAEQOOUiJsQSbOfObwpOVOecXSvcSwLAJAO0VuTuWueuYiaEluQAKIDFnmHlHmuQAByXAN5NJd5N5FBR50EEZMszZOZZRPZdCLWCZ-QSZdQopg4JAAOaZ3ZMsIsWZH54F-mJkrAbW-5WggFJAwFBRScjZn5XZcFssVC+i+afCsFeZq0cRUuQoLmBFLAaSXS542gdAkgKBhZXAGIPuqEPCxs0aRFmRmENYuRkRTZyspK5FQQ0EGK6MxB1u3BvsLmO2zQe2cWfe2YFqcla0LZ6ZcZLWAlr5-QRFP5b+ygWlJhylCKRFlEBZxZ5AV0BBUeulkFf4bWV5UeHBpWPeClPBxRH5xW-AfisgZcUloISqElJgqBaehC7ZrhFRCQSQnhaQ06mAOA+iaYcgtUREamrmFiDco4FYlaVqdyoACwzBps4ioabKeUhaN88wiwRqTUQYJVda7K5VuI92OwFacgDgaWnKcgQs7QVAkq5+jaTaHa9aBM6qz+PMv49wkgAAXuyEiJCNpP3mtuvr4HLiQJ-KIL4F+pSAyYXqteteIKKO-vOLbFEMOGbhNfRTNRrDKk2stfjmtUIBtaddtb8ezntY9QdRblbsFTxB-tVLxLakmtpSmkloZQ7GdVtgiBddNeyPrJ2rHDdZoCUbjJUfQHDQRrcPpSJDoUjR+bINEEqtDTNWIIdE4khsNK2ktahitQQA9U9VtXQDtS6u9aIGINBuEedFdPjcQN-o5abAzedf3DDfwuAqQEIiQipN7gIi0GhFIsNFwNtEAXYS3tTfdftZtWdaKcflwHddZZEO9bwKAFZmkgQArFEIqsPFIlzqAAACQAA6Nwi4ZAztqgXAoQNt1lYgUUHmz1dAVMr1U5HskYZ+XtZ+L5KaRBtN+1odPtDNVM1lmg-qsgd1LNj6vtVMYNysQ6w4Bgc+xtEiZteAFt9wDA0WttDtO2LtbtHtUeAtONEGaoRUABK+pFtC5R7WREUBYeYgbd0QsBUapqLdxAhe-qD+jU0tlAJdw0Q9RAbU6kvdxAygfNps-YC934V+WgthRtH5fdSqgFRNrUfgMi9dXdWifdKgSObe0JY5w5IgoOABM2i9AO-Y59gtk1V1WMBqN8iUcqOeuwn9RAb+2NaocqaIBNuwB9YgADZ+8NcUIkVht1qtqdGtL10J7OYDxAy1BBCOKDftXJnuVOr+v1x1Ah3IvN9dKuW+UdH1YgN9HguDkKKuoQmd0EddYlL+QtV104vsA1uN34ZAHo1UhN0hPBQD6qsqH5GDlZnKnD2I3DLYAUsDjVOkJ9BYKd1D9Nmtdg6D0QWDKuOD6d+DUakQTgmQTgCdfDzA8qdA-wAUfZX11uxDjm9uFjwNLqBW65RDbEIdpD9w5DrjVDdN4gZDrj0aYgRj-QJjOQ5jbjUaXj-1f1lgLDsTUeCgtj84vgoTKTpsHj2T9sY0cd4TFDeTEGCDKazDBBbDY17asjySgKfc2cccqVEj-DZ04DMj79IY9TJ8g8VaNw8D9dcqJA7TkDx8WcS8cQE9AzIDH5XAIzsjhmJc4zp8dA58tEV80zVNpGNNQTuDTNzqJguj1NBB+t1Dht+dptZoRd2gJ6EotEZd+wzZogfTc+JzYACS8qsgFItA9tjtztZAqgg8dtJA7Q14AABmfu7dg4PGfgw-syrs+CBu0MNDC0FoVVTqasM5g0gxo2nXHeHVGv6nM9i9s2rR9XC8k1oNnZSLndvTLQXVc4qkIHc5QA850E80PCPC9Acui1GlU-4X6L7mwMuvTN5N2rwxLCUDAoIiJO9lwGteSpIiPF7TinJZSzrLVuq8rIBdvoA8IXLGrEyFtFk-0NK2LV7CPAgvAwS+XoWAA7KzXKajqNA2qtmserVpDY2LU6HEojw4jXS1Y9oPM50z3cHfWps4g6S8g77fC-k0c9s9g2Q4YwHVHqnWzVin5gjgDvi1q-y-opUKwKSgTMS9+N-js+rTG2oM002vMQ8CW-3abJHUE2IJqzG8eoOPW0oHo6+acw9eczQKy5cwiNcx3kwOXX81XdEFC9pV7TjnCym9pQW6fDjgTP2J21qyrscyU5E2AAbfEBc4XYkiazXJEM+gYHwFfEbSXXsOjr85XQCwW8C6C9oBC0W9O9u+CUW7g1zAux+2S6zX0bO-wCSiu8vSUwzVzBu1Tjmya3m87ouBeMuuaoTrlRWSB-wFdNGwLblscqZeEXke9mm5RXh3dGh1LgZRYwLcemnNMKxvh5Eby0RIPQDGJpERxSDU7XJSFYpUCJRwDBjfjBWWB0RF+3x3TP5dmA2eq2IDtKTHLqs-O2g6m7i2IEHRqCHbJ6uJIveMe9Hn5nU9ZkCJp-ZNpza1Hv6nQxtbpzB9B2dceoPqRdMkQCyEQFQOLrWjTLwnEuIbeohzcIGn00suw+NbUzlW0v64vsG5ddiKVRXA2tmoM7M7vbsPvbI+h0o+Kwl2leo7s5W9oy6ngPG2iFq2R-i7+ymku0W17X3Zkyk1u7E0B1dBB7G240uH58h5anxbPbp6+V+4x3+-bMgz10ec11B-zcOBnZUxDfutU1DaF8lRK0M8l5LGYAfSSl1SC71Z-CNVl1s8V-+3i1o-YAQ-zejIunwsIE7XUD1X1R3SmqfVSDd9t2Zxi77eE8e-6iBU9-ZF2-VwN6a7i2N1OeE+V-9x0fUpd0CPuN90vWU86lvboQWOd3KDtnUOfcU9BKEJ61OAsxKyHodQ6-bKagfQCMiI0y4tRxoqGspHK7U4DRTwLoWOFIT42x09F6fAtwz-bP6mmCh+F4ao62z8LWF0MgL9z4WPanqrcizzrMTws5LwsrcgLAF6h51JT3U0s23AtbMLT50xrw09ry8Or6TeGzT4LyTybw1V-biOr2a5-DL8rHL3r3bzaNLZ-Ba+HAwvA+rw4g70x0L1db72b+L2p0MB79kWRFz6zyTz65a4QsH6bDzyMI7GK-F54jy7r9FxWXzNhMr3pWLGr4z2eBbMowmJn8LfawnzrEn6fCI362L9H6F3X-H1H9XyetoGeoXMQC5257QFIDkbCZIQfaDPhXIMy+T+Wji7l9h-+qJWtqMy4jlxW3B+jCvowAoMuqtGkiYMuhRWP9yLBvjNiA4P+nrpcEQDvwIzrhBtCBu15T5X5W5TWBuwY5Dys2s0kVySE1HiD9fYCkOROWx6copErYDfka1U4X9d+iUTCAI3X48gjWNWMPEEBeiN10YaSNZqiDHoQDL+T6PQAUiVqXA8ALebfsunbwOAPgBSUCCd2ghjQKBw0OHjYRnxvxlCNAgsOFHH4PAyob8F0Kf2ZwkCr+SuUILf1Cb38Cyj-CrKFQ-ChNIg7A7kGS14ChNX+O2d-rcHSRXx8GunOAZvziBKpAOSbLQUawYHrl-YRmQwGXCwHkC8Bi5CfMoLPiqD1mE2DHuUyB6gAZB+-e4L7VzqKCuSlnO+uuSMGaAt6W9dAfYMwEAFC8-A5Jr-2O7WVtiV4YaA4EiAhCzBVgI4gEIbxw9aBzLS6DaDAFUoPKrTQgCAK4G3AlUpOMHqbDtr6JdAa8CYNiBMArYKhREKoWtiAwmBo8zPFQP6gADk4AWiIwFwSiABgtQ3QN0JEpHkqhTBJoW4yqHeJO4sgW4Kpx9i+A-00wzQC0JrYaJu6e6NYdBA2H+9asuw51PsOgg88fYuBdSDsOmEnD-eaJI4fbBuGnDzQ8wxYXNWkB0EHga6cDB+0mH3CJh2AGAaAGIAlCRAiAqROML+GgBZh6MEoSwHFyJJxA8I7QDEUaHbsThNQggHULEBAZa2tDC-teDfgiAjwA3dEe-CxE4ithWiRUGP0mCDhgRBI0QM-WEhIiURokPYTM0KHCFAUcIhEUqjpH4ij+RIiEbExOH0jBRSqfsGKMJHfD-upIt5M6EHAsjSI2bLkf8BZEyipyvwyESYSqGRkhAjQPgAgKqK1BuhdkEwN0N8DdDrmFo0AN0ISQ2jbRaSG0d0NkCSBnR4uJEO0G6HgZoRNMWEWaKTwG9Rg7QO4NwNRHaU5RSKIEKaN0AmAxCJgEMWdgdGyiy8sIlkapX1GBjDBbpCMamIZFyguRwY0MdiGJF5MtR2olXLqI-KudF6fZZ0N0JrFEBnRzAAgOeBaDOiVw7AWKIkmdH4pexCiRgN6PGFVjWmV8bQDcTrEmixxsgZsfoAzj2RnRmEcgLnUHGWjSQJCZsZhH1GDifRw3JoSOKsbXhKAl4eyJOOjFHjJUmEZ0fsGdFcAhxr5X0TzFhF8B1gmEAscQCLFnYQes-bJpGIwzdCXxWRMQo2PjGJi34yYlJo8PthpiERs7Y8ZhAMolMoJpsGCciJbZcil6wo38WEArFR5HxZoWEY2M-Fhiq2YPE4ZikkALDoou2dCR+ITHFjwx-w4PGwOSpET6JZ2HMT8OsrGBKJckGiTqAbFcjQJxYiCVGmQnaU2JYEw+kxJKb+jYxWY5ZuxLDFsitAJwqYbhOOFpUeJVE2SiZXzGAS3xkk4seEw1EupyxGksSfomfGggZWjEv9n+PUzRi34AWT+KJJTH4Z8xRkr8QDiQl5ij+6IW4LIGIkljTJMwnCRZOjT4SEQsI6ccFO-EVDyJUGDYjpM44IpYpSkibKRLCnMSewzPdKVJM4lojuJyUviSpQEnTjhJSYwqZpO3b5Tix1UqnOJNfJyTMxhoxSVJJMmlj1hN+blhFIcmSxeJ1ElSqhOCaBTMJwNcyRFJrhRTUi+Y-gdgKgE-j3JWgKUUMN2D8CsJuwk4b-QCq7BrJLkksZtMgnBIRh2IXEatKJGhTfJa2ZyWQCOl-DJpU002O1QFZes9eQfCLnjXJpKoHEZNIaMAxaZWM-EltVGrq2FYGsnY3aG6Il1aauAMwHgVGvDGahwz3ArNYGYHhhlWNua0jSBtDOy5T9l+R3dnNjITypT5KEgnjiTSMRkEgR8oERqICuig0CC0bKbttSlDvIkYHMkmmCk5k8zuZGmL2iAIMFUoIixQhkTc31zlCnpDw7ALCPmkCSbxlolsW2LIDujPR14zoL2OAhuTmh2AACVuJMCrjHRTYy0YrNtGAReA3oq6bE2EH3CAADMJxMKTc3GzsqnK7OVizwgAA","body":"function analyze_block(component) {\n    const body = block_body(component);\n    const locals = scan_out_declarations(body);\n    const unassigneds = list_of_unassigned(locals);\n    const bfun = analyze(body);\n    return (env, succeed, fail) =>\n             bfun(extend_environment(locals, unassigneds, env),\n                  succeed, \n                  fail);\n} "}]},{"tag":"SUBHEADING","id":"#h7","child":[{"body":"Function\n      applications\n    ","tag":"#text"}]},{"tag":"TEXT","id":"#p27","child":[{"body":"\n    The execution function \n    function\n    for applications contains no new ideas except for the technical complexity\n    of managing the continuations.  This complexity arises in\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"analyze_application"},{"body":",  \n    due to the need to keep track of the success and failure continuations as\n    we evaluate the\n    argument expressions.\n    We use a\n    function ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"get_args"},{"body":"  \n    to evaluate the list of\n    argument expressions,\n    rather than a simple\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"map"},{"body":" as in the ordinary evaluator.\n    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":11,"eval":true,"prependLength":677,"program":"chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQGZMChsDMBXAOwGMAXASwHsjQBzAUzIH0BDAJzoGcAKVwolwA0oBkQBuIrgRIkGDACYi8rCgBsAlKADeoPfuz7Q7JgXa0KXZkQJq1fAVw2Gjr0AH5Q02fIU8bdsqqmi5u+gBcoAAWDKx+-MROPGKSoWHpYSBeMnJcXKAkNJQ2rJQ0oHhU7KBkUZagACQAOmQMAB5kndoJRAC+DWkZQ3p8nEHqAExaALwAfIPDw4wsHNw8ZMEOiRpCC4v7rim7ByeZYN65+YVExQSl1LSV7Hun+1kmJGZcFOIMBax2GpURotdqdMjaZZNEhRDgAAzYnC4-Rer2Go244zUGBm8zR+OyPkUPAADqp2BiRKsnMcCXSjCp1DjafTFoy1FMWfT2RoANzYXq4ATkB6iNoMT6tNgkklqCgke40HgCKlIqQ5XxYrTaNImMhmCxWEnsCgAWwolF+zGFZSIyuIzmGnguvj4MrUAE9mMazRafgxrcQRUqVaBqTtUWzgo6hpFLMxCqaSVRiApA6RbfaiFpIx4KkHbcwAEZUBQerMaHi5txgsRplIUdg0U1iMhVuk2h7ejisFutdi8AQRunUrmvTs0ZgNptEFs3CvD048Etl5gmaRqMhYqagOagathF3E+N6g3McQAggMZelr3r2xkHOsoyeU-mc+XgPXVrzld3hgbo+B4HJEqYMHgFBEIoY7csEnLAfoPK5pEDDsE2FKhgARMQADWRBUAA7o8BaimQHokn8AC0YoSgQUqsO68qKkQmF8gKuBZBOggVE2poQDA8BIKgaAAIxoBMQokeU8YbHQjBpnKXBtomyZQTcIi1AGsnarqpjmKA8Zko2PAqTQrZaAAZBZ0SxH4plqY+u7TNMNQxMwsn8oK+BSYazByv2AImVQSZmTcOlGG+vmyfJfmWMpwWqa2IiYf5qEAqxnneRmoqpewAIfmoV5BSFDnakYun6vpMRxOsmz2eZbFeVxoCmqwOEBrlgUXoVDDhfokWgIpbYpRaaVqJhIjdVejWSdl0lWEQvbXvVYU6BVBoGVY0WKLFSnFYl6mgJhi0thl7FZcGtCte11hLTwXAeqaJaaGtEV6bQQ08MdS0TV4j3PTNF22n9T1UGozBUHgt0tvtoWOTqb2VbQ1V+Bs6iw6VgPNfGrB5BQdCzq2GPma9-XvZt7msHJO2fStW5Hbj3wE3OZBnYKzWM-jhM3MwD2g-YdN9XoA0o7V6Oi2jAsJXDGiyzNHN48zrYFVeU5tMaAHfEqguk8L5MS5skvE2FsuZUDorxgoEpqD2mY6wjZNIxT20KXFxv05h1xKawPNWyQNt5barGgAAPiHuYyVTMW09LDnJReJqsEWagBn7AfMcHYcR1tUc027dPJVxzBp7bDxs7Nl2gCXgddnzz3u0Lxjk3XYMQ1DJ3Xgb6OC6b7HNdXzEqwG7Qa3j2uxyTDt607Xf2EbPdYz5LVtV+NDe771ul0qHeTZ+auj1r2a603TufZ7a8bBv-tbyxIg76AU3D+r66H4vc2+TbT0KKw+8vw8DfHwGpHamrs9oFyOp-Is39f6azLvLJekDoFkjyn2VCvN-pg14Pbda+lWoknuhg8GkNoYMBELPBuvd2YIN7FAn+f4AFTxPhtch88J4mzfpXa6HUaHQJHn-JUyClr9mEKAP8jcBpn0QT-PhsCaC-UEaggcIgxFm2xlYIuA87ZsPhgASHKojDawDo7520YXHyxdN41zkfA9++Z34WOvlYogJCGE4I+nFNc4F3YiBEjYyuGjLGDwUUwVCWDtHiPJkNTxeBvGgCmJlZqATHGD3odggx+kokmBieAnECSl5JPBmQKgCYL4+xYGnVx6SrorxKYIS+5TAmZgQgUm+LjBYwQyFwvyPDpHP1kXaBCDJzGaK7ME4RDcOlsmGY0rsqTwmUIrsDE871eYbFaCzSp09DE5xAbteKJUkpHUiqs0oDAWbl2ascmRY87RpK2VVWyYspYHJNqope8ZrgKD9DQQKdz7lRVzqA-ZB0PafO+YtcG1zD6Z3DsMIxecwGmKOmC20+VvbrNbBcpeKKHj5Q1l8hUrRNlMIyR4rJsTfF5NsTin54MvYMAAI5XnnH8iRZKvHgPiX3bFNAvmovBgCfsi1LTLXCbrNlSlomxNyedNRvNGXMrkPdMgpp4ahCATs4xe0lKquSlwBVYg5BYtsfqplhqAzorOa2XgOr4YGEdswx5RtbULMSY2SVlqNm2qcOK-WjzvV+OBuuFgnrrXKtVT6qeA1nUqrIE4Klld4xnJJGReVZrSDXgDb6p28YAj2ADQmpZVgbYerWVa+cWao3k1zbYOemwA0cKLcWNQVASA4WJSSgFuyY4vI9snVtOFjWV37W24st4O0iydXVeZhbRRdJHe20Nq1GESuGgu36S7HxvNsfGKgFFA5VBKU9SCzEGF6PtQ6-S8ZiAcC9HutKRT2BHqLCerRvatBZzhVYF9i12B3v3aUQ9iYf2nsFrO+azAb1-ohgBx9z7X3-3tuevQbjnaAr2bE7Cv7-0PqA8FEDQdA0W2-Se6D96D1PuAwh8e76dDIf3FUtD3aTG9uSiBsjsG8PHuFXA8DtByOAafS3Z5IKImn3ZdkpFlLuW2IggOFgAmiB2TFSuyJEnYlcqoSaiUvKYNpSUxOtTkryU5MbXOmpDFZRMUzEXKFDxVR0AICzGBNzI2obPpZuUhKy6TPSLZvpNyHNOeVnZteZnygCbg1Rnjk4inSis95mjonj5ezIKASLVRdzpc40JwhDd+SMevdhvTFH4MxdueE3Mngumees--LpHceAZfYIuZ8RhPpyclYp5T77ZbIWXjdWriW7QNbus11rbW9AdfdQpgDBn2mDPxPqz5JWfY9dEws82EGhugZU+q6tmqEXArhslHbhG+N2Mui5w+xLJ01VYb1i7qxrsPDCbRqtM8p3owextwGnEfL5DwLxficBEDIHQGJDAiziPuXYHRKI5Y2hie2WOsGsQ7RI4Y0MTwbR+uoXQjwNobGqBo59mKCi5BoJNzkP6BQQ6m0qDUA9QnZUBoAEJnZw9qIjvkoAmpLy6VxUkPZFEiL-CIFIyPSV7XPiFVM6ZLoTUGWM0JyjbwS4kERiDpl5dC7wFLrtWq2x4GSjrpTCvzsyf8eYlXA5lQG8Gupk3oBpNaet-Y+h+vAFGZYOS53mmtvEXsdOZsRMveqfE8ZrxzuZX89sV045j8go3Enu5t2mFE+fl+t+cyF3llIyHjwR+Dv4VAqL5+ZKmeer09FFX1WOf5zF+959+7mxi-hdoIalt3wiB0CnBIRsof5yS+bxtI2kuLudZYEDu6I+I+OpqhP9iqXXLDyTKmkP3M0suTzfyQPA2Awz5hsJkRj83OMaMhSE-u8erxqt8DI-FrCGDhQb1HQ+jL3I0eY-rXjxX9DxfyWjKgvX+RqE2B-23UrlrHN03y9WfxvzF1xmHk11HwyTEDoFqAIX5h9WchchTl70wO6icCq1AEvx4EF1fywOelPwBBpFESQP73EBjAyEiHwIwKiCoMwS0AAB5Bp0DCDaDmD0hPB8cqgvoilgRWoiAPQwxOBgsbh8hpBGJFBIhMJQAABqLHV4JSE0XvCgPAcsE-LQTQ36NQzQxbPQHQyCOgfQ8sIgvrYYFCNCMQzCCQioBgAiWQxzFmRQggZQhQVQjQrQ04KwvQgwzgpnYwo6ZKIIiwrwMgXQmw8I+wjvQaEnHCPw9BfmQvYTDXJg4+ZqFIPyEnfBOfF4ZqLgBUO0a-B+QQ4+dIDVawWtCI4g-EEQiQYovdZIUgbvawxgwfLfbopgoQk4SIYTJyFyUWIwuIzwUWewuIsYqop5FonYMA9GFIgrMIQUdIfQ0AIYiY1fKcdfL0WA1PRYUQq-QhZKYgEsVMUADuM6dIXoUQJnP4RhdIFfR-LLKfa0SgpfRYAaSon2ZUf-E-EEoA3zE4R-AA8ElsXuJ4tIbYz-UQDoltLopfOPSuTmAmLI56HIq42otQPIxuQo1EkooYxuIZE1JYmo+w+osIRovNFYmYlE8QTo0onoqgHvPvU44fTXEYkCEGZ6A4qY5-AU-YZ0JgZgOY2gm-cUxYRY4E51MUjSNvQQtiJ44IowXY-Y3Aw45NDfAfGcFmSksIC4iI64ogW4pTe4paUASiaibErfR4rYl4-VektwT41-b4mbX42fTXTYoYQEpY6EsEn-SEg4aEs-WE3qDUrYxE1DIotEjkpgs2f7d+QHYHKAUHISCHNAFAaHCDH0c0EVC3f+IcVAw3I7LMZKYsv0X4GvcoOs0ss0WUctNZcsh0SsmyVvdGIcQGFfZs-0MsteLLT6PYM+FGX6fQFGfYCbfQM+SWacvQSWOcjpM+S-Zc0g8kNcic9PIaLcoaXcsIM+GtOwX6M8tQIYecqbdPL5LgWUVgD0X6e8x8mQjIG8x3GXC45ci4xYT8s+VqWoNgIsLgCaICqIEC-IdIAC9PdQrc-QQnEQD0XEUANoII982CmXSiBCkYInUAFC3cWYNC+0givQLC4aSiKDZ8kQPQdCowPcPQaieiiir6AAKlwr2PwsIr3HQrYrItAFYswmAE4qQoItQvQrAEwvXPTwAFJRLuKJLQBZKBKhLcCEKxKeLiL0K9SUKZKZc2dnINLFKiKSLDKXI9K9yZduCFLkKlLeC9BLKTz09uDphcLNL7KXJxL9LhpZhbLxLTL0LiLHKhLZg3LaKjAPLArQAwqQqfKvo2dOKSKGLgrQAOc6LxS2JByTQSzhyi4T9dw0g8EeAUYRAhyrQuI79srfRSyi4qAiwAArCUONQqowYqgQUyjcnK+shgX6chfsz80g7q2qgHNibAaq3Kq0VLMpfIPAt2M+MCCCKCOnEQRayCRQQatrM+SAIgJai0GivQHavasiTa58QC0oSC2ASAZciC5gK6061kc64CgAUS3NuueoevpDPgADlWBvrOLfrvr5TnwsqL4hqarhzpqeYCrpgiqGITJTLRYSBVjyrV46kZrQa6lwbJq0b14WAz9Wr9BiqSBEavsBZZYyrhrIbSkFCxqOZ3QvRUaRy7RQxVghoHdPMvRIJIMlNUJPQ+iGrWALxKiTQU12wDgmbWyU4WZT0hwIyjA2a4pedypMTgZ9V9QSR+jjSiYHdoD6wjSh82xLM6xSQqaKrzFr84i0QmaoaQ0VSrahhjaDMma6rGrmqREHbTgbaab8bPwaRPb0hNIjiU0TiDat8Bywag66AW0ix8peTt8vBTBNb46eAxr0zLpMzgoQdBJwdMAcB98cYnoGE3BUNS8MNwFMIzs4FQArItS3Bc07p-MD5EN5ka7rJcxhM24XEm7+EKtesDjK6npMInsnoEwogqB5QAJDMnZntQtBB8tZUl4fYAQPQAAvDqUaPKETGWbsoY9UIkJQCoaMIihCI8PwTqcGJPdpI+9QVI5ez0detpPbRjPewkOQKnHkE+-YM+ngNEjIzWzupPTu4hRrBbSbE4SXeWjIHkSA4Ge+te7hL+XpZupLHexhQckXWawaHpbsV-fsXEzBBeowFfIsDqlyeB9e3+nBuZR7VDV+s+rUL+xYH+wXHyYXFBMXUMSBh2mBxe2xChi1A1DNcNONEkpeU1ZlSgAET0PgZRU00A+hjUD+4+vcRbVgV+uIrIF0PIAoIoSCO4B-TLBUOwawkEVoDoLoVgFEfEPgIebcXEB2-PM8JPH+YvB250JR+IOxm+jkYGhU0RRRg++xqBtwTiYIMwP4b8fR5iCoIx6R0x5ocx8EboaxtEXhowJEvQZqZM5UX00MYNdMc-Bkg7JouwHgApxwPx1wTwH4gQBCVg8kiR1sCgaR8sWp4gMhR5Cp7YT6oYI2bpwQeE-QTJ3RrGxwLLYqgRqQWNO-QrBaZoypuu6p1k0yta5a-rHJ0WSp1Uvsnp2B0UARhxdON9ZLdBsG8YlyEZScYTIh-QFfcQMhsMCFBBngK55xR+F7VBzGQMztPYo4N+zUHx1Cg8B54gPeiw8vIknxncPcd414J0ghy+z8C0wk4kn5tEQEzxngNZ5RyYOM04XoEJhkaMfZ8oQ5p0jZP5UZpSIUsGLLCl5WG5sDNIe5x5gRvgRWLfIeT5vujbH5gaQJ9+w+z+uYEFgQcFtESF+x0y3QN4MANikSNiz2lfMGNMR+Mc9IzIwB5F3IgO8BoYf4kcTlxF-E-mG-NFz2zFg+qVvV-YVOmV1wLINiiYJV-V-YBF7VnqC021t1sIVV7xn131w4AMwNg4AadkCYVO9FoNvnfFk4Qliw3h1Wg555x+mlCFYu1wFlsGkkNl1N0VJTcFPFEwAlU5ChH5lfEgPNleyh9N-KeldNY7b57NrGnoel-N5PPlXFAVTcVCHjX4ctuh-5hhoFph4YXNsFo4CwrRjUHRqJkoQx6oBgKae4XvVfIaxQazP4adsAIpdLIsNGWgRJsELofFaEWEdgBER+VJpcfFbxiNhxgkGSLnBHU2naJvK2zwKtydiQfeoV+xq2yIHoQVwFh9ol-QMJ9QCJ0Z24GJp4UQFd4oOgdd-FLdnRejRNklvhyuIE5xFMBpZJW0N7U50uqwJp4RwWEg1gWQJzWwMtp2pQPVvNcD9IYq3DiGOiI5m+YQUN8juQE5DFBQihKpuMKwN5huEgz6N5xFihfrXfbD4GKJYhG9Tl4kIw7stjwhUyzCNilTpmZajiqQMU0l2gQ5hdDtEh28LLBdMdMsW5vQFfFtYxrB9j-DrjpxXgFRFtmlvTrmRQLBpTqGXzgmYkJzwQitsG0h4gdtmt68Lzl+4dzxxh0V-YKLu0PWrWw23+1tWU0AYL5akRbhtEEdzD2+kzp52LzxAvTdCzsG9gath+68K5ALG7Hufl8mED3Fl6FLgE8VqdyV7qaVnr4rrFhPFZJPbqVYsD0rzQcr8louqlyt8ZlySZ-NqkUemECe3IQdhL39gFrr1CuF6BpeBIr0KCDoEyceyeop14Rk5ozb67qpk4GpzYJ7wUpGq73ISsfrmNjIBh0Ng4e14b37wO6Dc7tseeT7gCOWaNjIEZ4YaNMHsEEySp2HjJubjtqlxoi+iTp0Crxr2KAKbe0qfrBumGSjvHw50ByrRwimGhXH7HfHhBtgBbmn2MOnxiYbBnjITwclzn3bd9UnqwZrMrAX0TKjjtkX6LQeOLKur5hqIX2pLt2lbn4QpntN3lIt4n8yRXqRHl1XsIXn-N7pJB-Xin9n+MPj0VQXyn43q3+6IR-jzdYjmWETimcz83nn9XgMD3tnlgimY5Grz3tXw5wPstSlv39IUT5m9zsXmWDD232LrMK7NOdyYpW2o52T2ny2GZeXsKCXyr8T4PsIaPhlllSPw373tgTliPm39n80iu3CfCIiP6G4VgdCh0738uffGhZd35JFRLoJ0d2Vj-UA9lwWTr4VrD5N8oH4rgMGOif+SCEkOiDmp6Pv+wZBfVL6XQMwgyIgFftLEwvnViFjlctyaO+quOsOlmM-vYwb+4sENgXt8we4X4VCwbuIoH4inFhQO+uwXmAvyI48Bl+q-Y+CnDSzz9CoRHLLLvh0RpBsYKeV-uDByagD6YeoP9PIwMh4A9iaAgehgOfJYDGMBAqNi8GeIMBXiHpVwANF77dR2G2-TCLvyCJ4Dj+vQU-gHSjox1r+4gAYrfwDpZBaBAIAFnkADpStH+HQZ-kKjf5v5YWgbKAYv1HIuQyCD-eQURzjasggESAiFOyS+gEDfo4PSQX22kHqC0QCbVkAIPX7dQfGETUQahV-6e0TBegEZiM0ghSCUB5JBCGgKJbf8qBwwV8jbHLDCUwArgowVeR-KOCnicbAaCYF+ADhM0QA17BHTGa1pcG+qaoC5DUIg99gTQffCYCZSNhrwJIYAlkOGA5DGMHOEkHmHp5aBIgAAcnAD3AuAEERQE3HyEmBahvIZ8DkOeIlCg2OQ5qC2HX4UhRopoEQJjhH69D9AZQ5EpeRZyTChg0wtwJ4DzTzDTgiw1wHGHWQilHkmOVYXoHWFLDkqew7IZGEiCDCiwqEEAesh2b2AkcytX7t0OOGTYchEAvLgfw4D6oFAsA2tJ0KeGuB+hS8LfgGAIhVA-AII9gECmKEg91heQggAUJ4Ac5ZhxAIEX-3uEPDdIbQ68IiPmZlNzhlw0WMiI+EbUbhPAcEZCJh7-DvOaWSoPLjJFZYCR7wuIX-1+Fut1hhIpkVliNjsjPhaIrITCJ9wlVHkZIvZFNxTDm4yRvI-EI8L+Gsgch2VBgMmG+AwC5qe0WoRrBJC1CRAtQp4JqNAC1CikuovUZBF1G1CiwHoE0QRAtBRBahvOAEbYiBHegTAiorXt6CiB5Rt+UI54WnlVHqjKIJIN0UgUNG9CDh47IkcwDJFvtnRagiKm1hDFDAHR+EYgK6PdHXhTYMbaUTKLpByiwaiY7iCqLbC1DcxJopSAQCtg3ATRxoSGJrCqAmjCUtYktFwBtG-DsxWNWIaBTHJuxahbY4sfqC+QAQTRKccgBE0bFajYgcaYsSnAVGNjbRAPVYS2JpYcBKA-sACB2NVGLj5QKcE0ZpBNGsAmxXQ-fA6O+BJgU41gMUcmKQL2sJh+rfkZHgLFHi2ylEXMX6IDH6ogxrI5XGGIjHrjlxdBPoR+LiHhjQR-gMUU4ElHXiBQmY+kHaMrgJizx-olMZePmHrCBhT5C4WrB-B+Bcx54-VJ6P3ENFyY9PLCfBKQIxjoRcRVqB6DQl61f6nYp8cRNfGkSThv3IiS+NIR4SY2Do9UVyRdH0TUxFIqYYiUgmvAbxG0CiVRI6Am1DxUtAMCxIQlpi1hEEoSVKIPFhj9UKeYRrhJKEiTpcd41sOajfGTC4xGQWCUmN4mp1GJ4DIyekAdFtjsJfElke+J6FKThJKkgCbZLMmaT0xCAgXKhKfgYSi8qEIsHZM8lZiXgNAouu5NYkWS-x+IMSX5JNqfQuxgU58SmIMlMSY2kUlMdFIUm-dOJTo7ifyjsmp1+J+wxEuh2ckCTGMcU9CZJM-FAS2xoEhyVBMUkVSTg0E4GA6LQEgCD+YAq8XyLSDciWhLkNAU1KeHrCV8akhOoeL0kaTRp74t6JiJAE4j7Ag01EXNJinIlJp60mURmNan7Bh6hZUzsbzl68s0GVIioA1xeY91+kO3O5mDR6BYNVusXBzDyxd7NtdukgfblP1vpjshgeAPrr+whahgH2v004MsERBrAHpIgAHj93AYYgRE7IHEKDMmztBaI9EfnjZg6aziRwaoJZn8P+4VTEZvTU4NNzSYkt9wXkTJF4ipkxIaZNEqPLTPUzSNAB0A17PaAAFAjqg5hTIXtMWA5DOpPUtsIlO3FaiSxZYsgBaKtFbiYgtY0oGlLcA5DahXAScSSBHFGiiA0shgPWMZg2iwJ+rdgTKIAAMxM+kPBHAZmzXgFssIJSiAA","body":"function analyze_application(component) {\n    const ffun = analyze(function_expression(component));\n    const afuns = map(analyze, arg_expressions(component));\n    return (env, succeed, fail) =>\n             ffun(env,\n                  (fun, fail2) =>\n                    get_args(afuns, \n                             env,\n                             (args, fail3) =>\n                               execute_application(fun,\n                                                   args, \n                                                   succeed,\n                                                   fail3),\n                             fail2),\n                  fail); \n} "}]},{"tag":"TEXT","id":"#p28","child":[{"body":"\n\tIn ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"get_args"},{"body":",\n\tnotice how walking down the list of\n\t","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"afun"},{"body":"\n\texecution functions\n\tand constructing the resulting list of\n\t","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"args"},{"body":"\n\tis accomplished by calling each\n\t","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"afun"},{"body":"\n\tin the list with a success continuation that recursively calls\n\t","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"get_args"},{"body":".\n      \n    Each of these recursive calls to\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"get_args"},{"body":"  \n    has a success continuation whose value is the\n    \n\tnew list resulting from using\n\t","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"pair"},{"body":"\n\tto adjoin the newly obtained argument\n\tto the list of accumulated arguments:\n      ","tag":"#text"},{"tag":"SNIPPET","latex":true,"eval":false,"body":"\nfunction get_args(afuns, env, succeed, fail) {      \n    return is_null(afuns)\n           ? succeed(null, fail)\n           : head(afuns)(env,\n                         // success continuation for this $\\texttt{afun}$\n                         (arg, fail2) =>\n                           get_args(tail(afuns),\n                                    env,\n                                    // success continuation for\n                                    // recursive call to $\\texttt{get\\char`_args}$\n                                    (args, fail3) =>\n                                      succeed(pair(arg, args),\n                                              fail3),\n                                    fail2),\n                         fail);\n}\n      "}]},{"tag":"TEXT","id":"#p29","child":[{"body":"\n    The actual\n    function\n    application, which is performed by\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"execute_application"},{"body":",\n        \n    is accomplished in the same way as for the ordinary evaluator, except for\n    the need to manage the continuations.\n    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":12,"eval":true,"prependLength":675,"program":"chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQGZMChslAGYCuAdgMYAuAlgPYkDOhATjQLYQzxKpoCMaAJlzFy1OqCr0A+hQCGAc3kBTACZSANpIoAKMmwAOdJSQoAaUBQAWSmQoCUoAN7ZQr0EyUUiTEhOn7ZKiZdAyMTBwAyCNBrWRUQ1kMSYwoHAF4Mi2tbeQBubABfYVJKWl9JDSoKJSZZdQSklIdnN3dPb3LpOUVVSvodPUSws1AAIk1q2vVRu3yikVLxCZq6qQA3OqIlBuHm1pc3Dy8fGKU47TkqesHG8NnC4tEy0FZZAGsbZantDfUt5oOriOHVAmn62nGVRW03Mv3+c0ei06UhIslY2xuuycgLax2R3WUajBA1CyRM5lGqPRMwR2AWYl8rw+KLR23oAE9WAAjGjqAGtYEnYkQqlKUbmDnc3n3Ip0koM0CSnnqKQ0Ags9E7MmpbEC9onWLxS7XUlNGWIhUVWT0ehUeQkdEmLVNXWHfX4hSEvokobainW232x0UGkPenPAN2h0pKRK3nO8KuoHu07nY3aQ0XQIm31muzm8PiSNBmNwmxKAAe+g8NrKCZ1LTdeNTRuzWau9fz5rlT3EFRUSjI6lktQZnaTuJBFQJvWFmL9Yz0DDkJikA6HI9kDJmoAAPruca03NPPbOtPWKRsmFRZFz1DZ18PR2Ud-vD0e-DkvXPTeSxoWSDXQcny3F9uwA0BH03BlY05ZVx0bZNmzjFU1Q1bZM3Tec8wRCCoOfOh1k2csqxrW06AQnFBV8TC2yw39UnzWkIKZGwl36WRV3w0CKNFWFiKkStqyUWs6H5JsQWFUZ2JXCggI3AiSHFUA+NAMtBNIkTyJIcD5WeCph25FRZA04TRJISi9WbE8eiJc9sL-cY0S5YzTLIsDcL0pZnNcgJanRSZYKldR6EsiSTlefRtBQ1V1VU2iOwcxiCy83xDJckyeRUdkwqQkEEvqejczuXTe0Zd5Ph8kyhPcii-NZSZ6HMLL2XEvKhXPJyjOqzTzOU+qApqJrQBa0qkU-AD5JAsckuaABIfYrKnLpTzs8EkopSbuO3FKysIVKpugsp0NyycOv6KQPAIC9QF4Xbxq24CjsIgbPCG07qNBLRLqUa6NtAAR7oVR6FJ4wCWo+lNiR+v6GPMDAgeeEGVQoGgpBkzi5MfSHm1Y9G6A4rinsU7R3w-NxkeewDRU7UwyfJl4Ko0Kq3K0ut6YZimDu247Xsa2mOc5-aysOxSpAh2amIeHtxoqajYzkapg1yz6bO-ey4bGeWOKVlJQ3mVKzsAmq2Yo2ak0+grOzGy1pCXFQqjKOoceWr8z3WzXpLoB2GVWE2+ocN8hc-Gc1p9W4Ri9kgfadlUdaUYN9ZlhV7cduhVmEh2yC3DEGLaz7oaum67s8vbU99lV2KUABHLYnXNxCC++ov-sB0vxvL2OpDqSZUWoNZc+KhtASbi6W81hHmMNip6BruuyDZChWGH8KPVs71oqXyPZ9r4wF6TiCd-nmx4+DUL+mXvZXBHlMrYvxj2+BoILtPlJN+X+h89vs54nvz-H+eDWOSr8TDny3p-C2KZ0x-0Rn2aQCd9AUHZLGOee9F4fy-tZaQJAiDqHqDAgBcDmYv0VgnN+MDIFYJRLgwqbYYE230tIO8NAyBvBdicNW7tw7DApMw1hB9DZ8LeOLGg2V2E0R-u2HMEcpYGz2njIRm8c7BjakbL64JRhCOUiA1IU89oVBoPoFYqMmD425FQPudYG4LTcFRFMFRSAjmQYY4xNBTGDC5BYsG44g5CwqJ41ETBnFGNHG4sxATvGzUIciRxQTVQhK3GEjxXiZp5ycDY6+S0OErXXj+IeFJYnBNce4tgESdrRM-BEuJLjQklPMZYs2aTHAZNAHYqhocN7-U0V46pCSTHhJSR5MMhsamJNMShcR6i5Lj3ybdWBvgCDPzkqM6OkzC6-Rum3YZe1Z723iSsVZDc2mSWbhs-6k9pYsSZrIfQ+hNDZzHJNf22lzAjnkEQYMrNzIQMQmoqSNy7lUAeS+OmwcjxPN6i80AbyPkxmeWUf+lyRl9KSaUwZhFUbd1ufcyJTScQyVAKMkxoA0iEpReMuC8YonHOyVIQp+zakDIaRZWagtQAAH5GbMgBTisceMaZErcXYUFYLRWtGFIspgF0VnxElnYNlAAuLlNgeVAu8fy1k2hBVMGFWysVR4JVLIZZxWVecRX6ota4XZ3tjWHLzrIi0jCsWAuBY0oemDXYdLyRHf02K1XlO2Q9A68K3UyMoflSRRUZHzOhUweQXztKhSOavFsUi01ytpPgACjACAsHYFAOAiBkDoH4BgR1RCKBMCIFYHKFZVGqyYTQXkZwLJ1tacHTlFZFWgBqCwYIFZeFNvvJxHtVZBzVBUOYDwC8qADxUAI-R0gCB1A5NoNtjg1EAEIQ5VprWu2YoBZRXOZABbQfMhrNVEeycwxg1j1qhp1TEpA1AAXFHq1o56pWXuyjekgd6KkVCfdHKQp6CD3vaatDeBAKRAZfalBdQaRaftCmBico9pkbOg3Mipk0Iaod+ehmG2gsNbLkYhpEgk-1BDoMrfDNK0qnOulhi5R7DZ43lmWEIJgXQEYfRojjxFlJLmqOEAD0gBN-G2GWcDnrIPCjLBSCTWwEMKiU2xOgImdDSbQ9-NMbZpMMPEHvdQNBbQkHjbe6j0YnS3pkycdMtmcNGtzZq2zOnmyZkcw8AlVhyyJCQZRtYVngwkpUjQ-Iydnh4xc5qFCw0yw-Po6AAIQRoqUpCvxSTiKyPA38ifdLKG8tX0ySmzMMWlAxvK0RLLxGitOEWim9M5XDO+ErCJtQlmWDWZ0HFzLw0uTWnLH+uzaVjDyCsGl4KECMikvvOZibvxP5ss5Sl4I0W8uTeVPFldwqRqDcC-K4OSq5vjcsJt3kECAA8oIxsLZ28tntTA+0QlRjQRmJB2SxveWfRURA-WqCVaMUAABqdtlrFSVosfIKgBAcpxYcKD5SQPQfvo-P0a85mYc5UW-mbtva3EvabYQJQAB3L7sLQG-f+yoQHIOweWvR1DrH52QoI7GBSOnqOjyM8x7Dn4O2WugibW8P7QVlTVa2Cz39d6JwQVvRoJtUU3O-NaIfbOFletqR2xOBmDbqF4JZ0t8HHKe1-oV4Y7QxnTNQ8C8Ft+tnDvg6VShElmRMzw6560TlmYcee7cM79Xab4fmHTDj+4DMigMxh6AS3f7Xekt84JfzyDOs0Z43q-HwQUIFJIDyZ9KlWShgjz2kKSgdfkwJeV0LkqLrldj-+vVn16CB6q3F2rrJdXG-BXliXIl2-oilhHnEkeU3y5MxbrzrG9rFkAjFTj2etfqGl6ouXZvx9K+G+X1wavOKG766o3X9jsE0MN47y1nKx+K9j0Oa35nbddeVg7v3rhnfpfj6mj3xvOWzzkj7ldmWz8LUA9d9oECtdtQ8Bd8hi96Zo96939E8EEAtU9usD9yZM8pcxhSA89o4C90RQAABafA6FWsEsEwIvcmAoEvWeLfI8SvPLavZzDbLzMFJvFvHvNvZrc1LvZgVkXvQrDvcPCg4fJLS-CfYbTNMAbNZgNgDgQtbgEtNAFActZEasKgVgR2AeEDVKYjUgEbEOOTc8EQCkVQ9Q-uMUGNEwjQmwNQu5MhEwbxEQPQq2Rw7sAlSwswrQsqRgWbc8MmKSQ0ZSNwQ0UVTvD8KSY0QI1wY0EIrgtwKSVbSI5LQIJgGIvwzqYkRI4kVI8mKSCoHBPBZSPImhIWUIg1TqB2egO5WQdkZSCoqoz7TmUo8VTqTPSIzPMFJouIzqV4KwbuLkegcUHoywPoxgBmTo1wKSYHRItwNdcwVqElAAPlAArDpwaPGKmQhHwOmNcFmNAHmLSCWJWKILWNiImM6nwMKUiJWNaAOLcCIOuPWKkgACptiY8B09j0hDjQAni9jXBHjOpgBXjdj9iviwATi0iNEABSIE94kE5Y0ASE340Af4jRGbaY4Ez4+EmbD404jY0YTdDIdE2EzElYgk0lVqXEqSS7GEuYkk0Aa7VwCkiEnQUYS7NIbYjExY+EtkxklElkhYmkj4rklYpY3kykzqBY9k8wI8Tk24kU0lHE5kiETdV4+Em40U0AbdVwOtMme4Nw68Uw2dGwSaOLElHESKDMH+cwdwo0zwpERFfUtQqwu0mCGgLkAAK3HW8PNJuR0N8FuPiINKsOUmcN0PzFxOSyDI8OzXuGwEdMNM0Ixkpx8PBCkmfV+gsVUGUnTMWWSBUHWO4LKI0UgBIFzKqBqOlJLLLKQQLMLK6I0SGKkFgEgEiMbObNrLrLxMbIAFFEieyOy6ypIAA5WQIc14kcocwAzs1oPUgmCgSMp0jwpM4BArM01oC0sgLkzMMgXbG0xMuczGB0uchchM9TZcTGPgtctwDcrcyNNsHc3cqM205cxFSLIsbFZBPc407Qowr7YkPQnlZBCxOlaOGodQdkG3d02QDYZva8RBUmfVL8qQGw+8YMBw3QiM8mN5f83II8JFHZdofQe-NPJ0PQtrYwDrKjB-N+AFCis9J8zQk0grTC6ctwJC5csXC7Ac43Wi1ZJCyaN0z0ygYaZ-Y3dig81cBLbi8HBA5PYilA2kHzbIeQEzAbFUZAkLUlH-UXDSt+WMrNVKHNPNWQrgYtTAHAN85EZyBCD8JLThMOG6UYVVV1JSSIaINlPIzVCFMybSa2UAKIenBmGKNCGmby2qFle1d-Jy7kUYCpZydGSwGgIFPvZNFNN5BNBFTsPRcaTiOodkAAL0+ChG+FSval8HrwlCIDIAXlUHMGXSuE+K53oCqpqviC+FWE41mjquzEF1yvAsKpOlKrUQqt+2qqUFqsIB6sWPfWarGtUG0HHxFyIrn2IhZ1ikGrNVEsLNsxYuDnqr5GyoVD6oKsqm6gytDSxF+TcM3FYG8NBBZk-U4pCiyvxWPK5BEFC2OsKoWpZglntSgJTRGtmtau6oaumtFWBvGviGi20IGn61-J2q2smoasOojFRH6pPlQXIHQQoES1V0NiPhSBvDwRylkGalQLKpj1vUqrmsnWRr5C5L91kBGtEvwEhptFAGEwsSIDBkIDcU5rqE0HM1AAABIAAdaoCsCgaWxwWQAoEW0S7QEyBTemwGcGrvOWd0XvJW3vKci1b-FqqGnWlW-awGJGpVLkIGw2ia026Sj8LNbMbwMvLmnBXmggfm7OPBKHUWiWtrGWuWhW43fawQ1wEfbfQ2dfYjZzUgKdESOSEQPG8mPXfI+oIBTwo3MVTlGveO0gLnY7K-QmkwYm8CqOqVHOkgcwTMNOhO8MpGiwNsau0gT+EOw9V65cYWO6i0r6pQCUcBFu5Ok-GuwK8mC-OPW4nMzMlQbtSOsrJu8AtsGu3q9Gk60WXFd1CcAlF3UlHmQiCZalVoAlNYD60lbu7QHewCdSENCK91fulMK22m0Ghm2499I+0gCq5-fnJfVWzElXS1GfJ67WhfX4ZfAGrvJva2+ICevMx+rZcHAoXa8mYO1GosZegamfZWIazet-E+kg7rJ6l6g+481+-06FVB7YdB0sASK+62UB4a6m0akG+mxq0VYh9+8HT+mBn+sVfAJ43gJ4uuglXkNQMsULRa0XFayTKXOu1isFZg7g-+iRyXIBuoEBuu8B2mjh6RsVbQLh1oHhgQfhmRsVBR9LQB9LBBox7goR3vcwLRyxhmOR+xzmT6U2nR2hpx0OlusVeB5-JB-CnKsh-GaONOdGmyvCwh9u-QY+0hvK76zudOFUTOf1QeaNWhglMgaJ0++J9GoJwu7hbUQfNwAlWQTJshrjGOBJ7udQXuUCAeGhpLe+xh4O9W4OKJt+6m5-Nmw2jml2nm4GfmpQOEUCYW3zSM1QZJ4e0VfAVGQlLkS4XwcWyW6WigRwTOMWsgSwEcAAA173lo-szhse-pactWnF3UsBygOe0y2s5Qyfab-RpqaezDNq7yVRKbubWAeahs4YsaPAdquCds5o025rdoGaGeoBGesDGazhzjmhaV8Z6uQd8Gb04lVGrVXoZCTTxSyWRELoXk7Ae1kGqo+VwRziVtuQop+aFhTspc5gtORcAhoDRfPqajsbcFxZPlITPmtj1qPCVX7GJjXpkQe2FHPvwclm7RTsRamXWscVwfmvh3cxBDpewaWNGCeNlcDDzJeIlDAKle7vFhM1YVOgJRalCyERETEX3qKePMNZXVC3pdRaxgFYxe0FGjSePI1ajFUDuuhjQk9ftHmttdZ3dfbvetIE+rKbdYafochptqmoOPfTDYsnIuA10qdCDeGn9bzOGkRvB1jbpvhZRv8aOsCe1k5bfkwePKYFKdie2Hlmoclloc+kaa+aYeOecZEDYctQ4aOYTa73ze0HYy1s41+F21tppe3wReLeeGUDkjeVCjeYYGl0+bjbBo3XCZTSKIN0XYzs5gNo0epaYe7UzB3bsC7brK6bGp6aBddv6ZSKsEkB9qWf9pED2enKVrjU4fbcLNne7jjVCnTFPYneNw6Y8b0bAHZsYF6ZBaYFZaFnwGnW8FtAHgFrwQsDe0Wb9pWdnfWc2aYB2fnbfbA52PncfoRm-Y8YHdWw-fkFeX-bto8f2oRmA-B3Hbsb8anwCdredV5SsSxetfboIBrYxr9Iowbf+rbv6GhQTtCy7rIbo4s0hUysbejfuYYdbeab7bBSE-eeA79K-a0-B1-fnaVoTtscsdA6MZo+GiY+YfscrEHGrRVT9Rcv07g87NI8meI+DnzZY8Y+zGY-c+-uA6QdaU45Le4+ssrfbtuYYFk99O7teW5ASqSoXkxZvqbbvpjYgcfp-q5wgkrWQWSClt0ESuSsTstQHoNw2dS5Eh5a-3pp0dZaVW3LK7S7Pcs+8+5xy6C9FR0Yo664sDiWK50Cwja7q8KdFTDpYKgWG7a10BrvcY-AKD1bKaGr13aukV2AJcCc2-xaO0-BplZQ7RiYxo2vdW7StG5H26Fk5X1ai7zku+kGcsFe25O-u5c9e4Kae+NX6WSWZRu73dO5Oq1XJSZTBhkDRhe9SRvp++yedmO9u+B4Gvh62++4O4MhZnE4u-e926x6U4uvR6Fj5ekHZcB4Zju8CbJ-ZYVmURSHS+jR+8UUR6B-1eZ8e4x-Ey1p0XJ5HuR5sDLbp-rg5+J4mm5mdb4-dThdx9rdE5gkfEh9ydkimmth+-Pt54-Ep+4-V5Z4ZhJ+7lwYwZF9Z8CYoeF5x9F-QK6VIDeBIBoBJyRfZHsKOKIO7qTksuhW5EGYR81my4frbfXYa0pqybzhbdXYOunfEGztjF5GrTrAsX0GrQAq99+DPRHFnghA3WRwkBIET-nMR0PRmBY8TxUrdL9iopIrMEVuAZUjayqZqbMMxOAcVsxKgdUF6rwRj7+BdYT6T4nHvHnPoFj4xdC0lbmhxAggsRqZVEjt75GCOCCQpokAIBjzn6ioX5qKX+xdxCCTcfpkoKUFLxoO3+cm9-qD8gz9GCz7pzX4L4KCL+kZL9UvL6C2ovJGkfwFP9+HU5tGkZ7ZG-r41BLEA8PLjIyH7d8EUoWajjX3AFx8CYXjQsqrG4w+BVgkdUYBv2UgACe4QA2phViW6WofGF7MAF-zqD00naf-VvqBVzKqA66CA0OsIVaBT8cBM-K-Fzjn6Ut+utxX+qKjqLDgcoowfAEwJQHqBHsfacglN1vrNgPAA8KVGyGH4IpXCx5YgJ3wv41BQsQOQbkLDFoe8PAtcIINsH0DFZNB5MbQdv23T6ATc1lBwEqgADk4AUCPQEWSqA2gegjwDYNwp1ltBlBYwUY20EsQE4XIGoNoChCsBzA66HwW4FMGbtj8BuNtBEI-BRDNeYWNDvELBSJDeWEgJWO-kzBxCIh6QpIdcVSHBx8hGQ9EF72CAhCQ8bYOtAemI5eCihnZbQQP1ACkBVBKgUfuFgaGtA-BhsVQVIBJxuJ4gAwpgGHCMFgd0hugogPoO0Dbot29QVoen3b61C6hdiVwdsFmExD6gZQwIcEEzALDZB+ZKoR2GGGjCuwHgyIZJ3nLu1n0-QwYaFj2G59Fh+Zc4b4JxD7DZ47QhPG2HeHt8Xh3nCYXxh0CZgTh3oMdoy2AwnDlh3BeoV0OhFxljywkQwLaBH4pkdANgxETYPMA2D3aTATEaABsGow8R+IixHiJsFch2QpIknFUEsA2CD0PQvaH0MRHW4K4UgfQJYFqAZ8xh05AEc2GFDoiPA+gfAmyI5FKAiRg3EoULD6EnD6KSgJESE0-jSlWKEozmH0Lt6kBWR7IwbDoyhGvDvBsI43NoIJRqi4uqI7QDYONGkj+gRAAcCYFJHVg1QWkNxKSIeTOjhwNoWkR4MNFEMag-RURueBsEyCuQlorwA7BEikj7wlAJ2vQFJFnBcalo+8LKOjF0jeuxgr0e3RHDUAhwIkP0eCBsEZigU94Ukb5lJGyAPRjQj3n0NtCJB7wKIcERqJFH9dA+ljHkSclzFVjbC+BY0UKM1GzwxRzYz3FKMGEftMx94BUR42VEMxBxIw7QMaObp-D+xeo-UZanpHjRVRdY4UVqK5HjCJ+bGaooEI0jtYZx64nsRVnqyvDD8zYaysaPrGDZFR-w0Sq8HZD7iU2bVf0V2I3G9i7xYqCcZ2WvEfie65YsDoyIFHMiu4-47UUxG6HD4lx+qFsRFD3EkRDxlYlCjYD-EnjtR844oYUBgng4VxCoSsSkDQSNj4hcEhjG2MInY0+xmgn8R+DXHqjwJu2ccQOMWHrAfRN4zkTqJkYwicJsEisSxMDHsTtgW4pifjXkQISDxdFASf+OElwiLxIIaylJJPFfjtxxuR8c+Klp0U+RgY7sSKKomioaJhZRSSKOUm4SUxrgYCbKNAmVMGJZwqCa0AKCwseJoAUiYzCfGIS6KU4+IIGLnFKjsJTk78XxNkHIVc+1aYISFIbA+D0hPwz4Tnzz6YS8hlwxUCkCgEsTZ43GbGm43vF6g1hwQzYdoGimQTxRSWNKRQHikNDuJ-k4OLFWUKjpHO1QHjv6jrC-lPOvnAPnZX8AMVvyZUP0vVzcD7tWqZLO5J+U6kukmpMdL7AqKRrB04eoQG4aBl0JecvcwsCjHhl0IIULUL4+SsrCmkHRkMPUvzhNIOlPIK+3WHqQxx2ItQfozVapgZyWKiUB2mtPENrUuk1hcEOoODpyjUxBNNMrrK9FdLem9SncLQqgZPQOkfg2OlqaaQd3QK-lRgNvO3g72WkKgkERiAgrVLIBOcGpLld3usmui4yFqjGAmWPA2T4zBaXfOAQwB0IqDFhKRFHBoMqlaDsAfQufkTLRHFisRVom0RQEpHUiix1gZ0VuD0kJDsANg+gAmP0DRisRJIrEezPxEbh3RhUsDg-waEAAGc6V3kBhgyjwms5-DrM5glwgAA","body":"function execute_application(fun, args, succeed, fail) {\n    return is_primitive_function(fun)\n           ? succeed(apply_primitive_function(fun, args),\n                     fail)\n           : is_compound_function(fun) \n           ? function_body(fun)(\n                 extend_environment(\n                     function_parameters(fun),\n                     args,\n                     function_environment(fun)),\n                 (body_result, fail2) => \n                   succeed(is_return_value(body_result) \n                           ? return_value_content(body_result)\n                           : undefined,\n                           fail2),\n                 fail)\n           : error(fun, \"unknown function type - execute_application\");\n} "}]},{"tag":"SUBHEADING","id":"#h8","child":[{"body":"Evaluating ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":" expressions","tag":"#text"}]},{"tag":"TEXT","id":"#p30","child":[{"body":"\n    The ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":"syntactic\n    form is the key element in the nondeterministic language.  Here we see the\n    essence of the interpretation process and the reason for keeping track of\n    the continuations.  The execution\n    function\n    for ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":" defines a loop\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"try_next"},{"body":"\n    that cycles through the execution\n    functions\n    for all the possible values of the ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":"\n    expression.  Each execution\n    function\n    is called with a\n    \n    failure continuation that will try the next one.  When\n    there are no more alternatives to try, the entire\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":" expression fails.\n    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":13,"eval":true,"prependLength":679,"program":"chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQGZMChslAGYCuAdgMYAuAlgPYkDOhATjQLYQzxKpoCMaAJlzFy1OqCr0A+hQCGAc3kBTACZSANpIoAKMmwAOdJSQoAaUBQAWSmQoCUoAN7ZQr0EyUUiTEhOn7ZKiZdAyMTBwAyCNBrWRUQ1kMSYwoHAF4Mi2tbeQBubABfYVJKWl9JDSoKJSZZdQSklIdnN3dPb3LpOUVVSvodPUSws1AAIk1q2vVRu3yikVLxCZq6qQA3OqIlBuHm1pc3Dy8fGKU47TkqesHG8NnC4tEy0FZZAGsbZantDfUt5oOriOHVAmn62nGVRW03Mv3+c0ei06UhIslY2xuuycgLax2R3WUajBA1CyRM5lGqPRMwR2AWYl8rw+KLR23oAE9WAAjGjqAGtYEnYkQqlKUbmDnc3n3Ip0koM0CSnnqKQ0Ags9E7MmpbEC9onWLxS7XUlNGWIhUVWT0ehUeQkdEmLVNXWHfX4hSEvokobainW232x0UGkPenPAN2h0pKRK3nO8KuoHu07nY3aQ0XQIm31muzm8PiSNBmNwmxKAAe+g8NrKCZ1LTdeNTRuzWau9fz5rlT3EFRUSjI6lktQZnaTuJBFQJvWFmL9Yz0DDkJikA6HI9kDJmoAAPruca03NPPbOtPWKRsmFRZFz1DZ18PR2Ud-vD0e-DkvXPTeSxoWSDXQcny3F9uwA0BH03BlY05ZVx0bZNmzjFU1Q1bZM3Tec8wRCCoOfOh1k2csqxrW06AQnFBV8TC2yw39UnzWkIKZGwl36WRV3w0CKNFWFiKkStqyUWs6H5JsQWFUZ2JXCggI3AiSHFUA+NAMtBNIkTyJIcD5WeCph25FRZA04TRJISi9WbE8eiJc9sL-cY0S5YzTLIsDcL0pZnNcgJanRSZYKldR6EsiSTlefRtBQ1V1VU2iOwcxiCy83xDJckyeRUdkwqQkEEvqejczuXTe0Zd5Ph8kyhPcii-NZSZ6HMLL2XEvKhXPJyjOqzTzOU+qApqJrQBa0qkU-AD5JAsckuaABIfYrKnLpTzs8EkopSbuO3FKysIVKpugsp0NyycOv6KQPAIC9QF4Xbxq24CjsIgbPCG07qNBLRLqUa6NtAAR7oVR6FJ4wCWo+lNiR+v6GPMDAgeeEGVQoGgpBkzi5MfSHm1Y9G6A4rinsU7R3w-NxkeewDRU7UwyfJl4Ko0Kq3K0ut6YZimDu247Xsa2mOc5-aysOxSpAh2amIeHtxoqajYzkapg1yz6bO-ey4bGeWOKVlJQ3mVKzsAmq2Yo2ak0+grOzGy1pCXFQqjKOoceWr8z3WzXpLoB2GVWE2+ocN8hc-Gc1p9W4Ri9kgfadlUdaUYN9ZlhV7cduhVmEh2yC3DEGLaz7oaum67s8vbU99lV2KUABHLYnXNxCC++ov-sB0vxvL2OpDqSZUWoNZc+KhtASbi6W81hHmMNip6BruuyDZChWGH8KPVs71oqXyPZ9r4wF6TiCd-nmx4+DUL+mXvZXBHlMrYvxj2+BoILtPlJN+X+h89vs54nvz-H+eDWOSr8TDny3p-C2KZ0x-0Rn2aQCd9AUHZLGOee9F4fy-tZaQJAiDqHqDAgBcDmYv0VgnN+MDIFYJRLgwqbYYE230tIO8NAyBvBdicNW7tw7DApMw1hB9DZ8LeOLGg2V2E0R-u2HMEcpYGz2njIRm8c7BjakbL64JRhCOUiA1IU89oVBoPoFYqMmD425FQPudYG4LTcFRFMFRSAjmQYY4xNBTGDC5BYsG44g5CwqJ41ETBnFGNHG4sxATvGzUIciRxQTVQhK3GEjxXiZp5ycDY6+S0OErXXj+IeFJYnBNce4tgESdrRM-BEuJLjQklPMZYs2aTHAZNAHYqhocN7-U0V46pCSTHhJSR5MMhsamJNMShcR6i5Lj3ybdWBvgCDPzkqM6OkzC6-Rum3YZe1Z723iSsVZDc2mSWbhs-6k9pYsSZrIfQ+hNDZzHJNf22lzAjnkEQYMrNzIQMQmoqSNy7lUAeS+OmwcjxPN6i80AbyPkxmeWUf+lyRl9KSaUwZhFUbd1ufcyJTScQyVAKMkxoA0iEpReMuC8YonHOyVIQp+zakDIaRZWagtQAAH5GbMgBTisceMaZErcXYUFYLRWtGFIspgF0VnxElnYNlAAuLlNgeVAu8fy1k2hBVMGFWysVR4JVLIZZxWVecRX6ota4XZ3tjWHLzrIi0jCsWAuBY0oemDXYdLyRHf02K1XlO2Q9A68K3UyMoflSRRUZHzOhUweQXztKhSOavFsUi01ytpPgACjACAsHYFAOAiBkDoH4BgR1RCKBMCIFYHKFZVGqyYTQXkZwLJ1tacHTlFZFWgBqCwYIFZeFNvvJxHtVZBzVBUOYDwC8qADxUAI-R0gCB1A5NoNtjg1EAEIQ5VprWu2YoBZRXOZABbQfMhrNVEeycwxg1j1qhp1TEpA1AAXFHq1o56pWXuyjekgd6KkVCfdHKQp6CD3vaatDeBAKRAZfalBdQaRaftCmBico9pkbOg3Mipk0Iaod+ehmG2gsNbLkYhpEgk-1BDoMrfDNK0qnOulhi5R7DZ43lmWEIJgXQEYfRojjxFlJLmqOEAD0gBN-G2GWcDnrIPCjLBSCTWwEMKiU2xOgImdDSbQ9-NMbZpMMPEHvdQNBbQkHjbe6j0YnS3pkycdMtmcNGtzZq2zOnmyZkcw8AlVhyyJCQZRtYVngwkpUjQ-Iydnh4xc5qFCw0yw-Po6AAIQRoqUpCvxSTiKyPA38ifdLKG8tX0ySmzMMWlAxvK0RLLxGitOEWim9M5XDO+ErCJtQlmWDWZ0HFzLw0uTWnLH+uzaVjDyCsGl4KECMikvvOZibvxP5ss5Sl4I0W8uTeVPFldwqRqDcC-K4OSq5vjcsJt3kECAA8oIxsLZ28tntTA+0QlRjQRmJB2SxveWfRURA-WqCVaMUAABqdtlrFSVosfIKgBAcpxYcKD5SQPQfvo-P0a85mYc5UW-mbtva3EvabYQJQAB3L7sLQG-f+yoQHIOweWvR1DrH52QoI7GBSOnqOjyM8x7Dn4O2WugibW8P7QVlTVa2Cz39d6JwQVvRoJtUU3O-NaIfbOFletqR2xOBmDbqF4JZ0t8HHKe1-oV4Y7QxnTNQ8C8Ft+tnDvg6VShElmRMzw6560TlmYcee7cM79Xab4fmHTDj+4DMigMxh6AS3f7Xekt84JfzyDOs0Z43q-HwQUIFJIDyZ9KlWShgjz2kKSgdfkwJeV0LkqLrldj-+vVn16CB6q3F2rrJdXG-BXliXIl2-oilhHnEkeU3y5MxbrzrG9rFkAjFTj2etfqGl6ouXZvx9K+G+X1wavOKG766o3X9jsE0MN47y1nKx+K9j0Oa35nbddeVg7v3rhnfpfj6mj3xvOWzzkj7ldmWz8LUA9d9oECtdtQ8Bd8hi96Zo96939E8EEAtU9usD9yZM8pcxhSA89o4C90RQAABafA6FWsEsEwIvcmAoEvWeLfI8SvPLavZzDbLzMFJvFvHvNvZrc1LvZgVkXvQrDvcPCg4fJLS-CfYbTNMAbNZgNgDgQtbgEtNAFActZEasKgVgR2AeEDVKYjUgEbEOOTc8EQCkVQ9Q-uMUGNEwjQmwNQu5MhEwbxEQPQq2Rw7sAlSwswrQsqRgWbc8MmKSQ0ZSNwQ0UVTvD8KSY0QI1wY0EIrgtwKSVbSI5LQIJgGIvwzqYkRI4kVI8mKSCoHBPBZSPImhIWUIg1TqB2egO5WQdkZSCoqoz7TmUo8VTqTPSIzPMFJouIzqV4KwbuLkegcUHoywPoxgBmTo1wKSYHRItwNdcwVqElAAPlAArDpwaPGKmQhHwOmNcFmNAHmLSCWJWKILWNiImM6nwMKUiJWNaAOLcCIOuPWKkgACptiY8B09j0hDjQAni9jXBHjOpgBXjdj9iviwATi0iNEABSIE94kE5Y0ASE340Af4jRGbaY4Ez4+EmbD404jY0YTdDIdE2EzElYgk0lVqXEqSS7GEuYkk0Aa7VwCkiEnQUYS7NIbYjExY+EtkxklElkhYmkj4rklYpY3kykzqBY9k8wI8Tk24kU0lHE5kiETdV4+Em40U0AbdVwOtMme4Nw68Uw2dGwSaOLElHESKDMH+cwdwo0zwpERFfUtQqwu0mCGgLkAAK3HW8PNJuR0N8FuPiINKsOUmcN0PzFxOSyDI8OzXuGwEdMNM0Ixkpx8PBCkmfV+gsVUGUnTMWWSBUHWO4LKI0UgBIFzKqBqOlJLLLKQQLMLK6I0SGKkFgEgEiMbObNrLrLxMbIAFFEieyOy6ypIAA5WQIc14kcocwAzs1oPUgmCgSMp0jwpM4BArM01oC0sgLkzMMgXbG0xMuczGB0uchchM9TZcTGPgtctwDcrcyNNsHc3cqM205cxFSLIsbFZBPc407Qowr7YkPQnlZBCxOlaOGodQdkG3d02QDYZva8RBUmfVL8qQGw+8YMBw3QiM8mN5f83II8JFHZdofQe-NPJ0PQtrYwDrKjB-N+AFCis9J8zQk0grTC6ctwJC5csXC7Ac43Wi1ZJCyaN0z0ygYaZ-Y3dig81cBLbi8HBA5PYilA2kHzbIeQEzAbFUZAkLUlH-UXDSt+WMrNVKHNPNWQrgYtTAHAN85EZyBCD8JLThMOG6UYVVV1JSSIaINlPIzVCFMybSa2UAKIenBmGKNCGmby2qFle1d-Jy7kUYCpZydGSwGgIFPvZNFNN5BNBFTsPRcaTiOodkAAL0+ChG+FSval8HrwlCIDIAXlUHMGXSuE+K53oCqpqviC+FWE41mjquzEF1yvAsKpOlKrUQqt+2qqUFqsIB6sWPfWarGtUG0HHxFyIrn2IhZ1ikGrNVEsLNsxYuDnqr5GyoVD6oKsqm6gytDSxF+TcM3FYG8NBBZk-U4pCiyvxWPK5BEFC2OsKoWpZglntSgJTRGtmtau6oaumtFWBvGviGi20IGn61-J2q2smoasOojFRH6pPlQXIHQQoES1V0NiPhSBvDwRylkGalQLKpj1vUqrmsnWRr5C5L91kBGtEvwEhptFAGEwsSIDBkIDcU5rqE0HM1AAABIAAdaoCsCgaWxwWQAoEW0S7QEyBTemwGcGrvOWd0XvJW3vKci1b-FqqGnWlW-awGJGpVLkIGw2ia026Sj8LNbMbwMvLmnBXmggfm7OPBKHUWiWtrGWuWhW43fawQ1wEfbfQ2dfYjZzUgKdESOSEQPG8mPXfI+oIBTwo3MVTlGveO0gLnY7K-QmkwYm8CqOqVHOkgcwTMNOhO8MpGiwNsau0gT+EOw9V65cYWO6i0r6pQCUcBFu5Ok-GuwK8mC-OPW4nMzMlQbtSOsrJu8AtsGu3q9Gk60WXFd1CcAlF3UlHmQiCZalVoAlNYD60lbu7QHewCdSENCK91fulMK22m0Ghm2499I+0gCq5-fnJfVWzElXS1GfJ67WhfX4ZfAGrvJva2+ICevMx+rZcHAoXa8mYO1GosZegamfZWIazet-E+kg7rJ6l6g+481+-06FVB7YdB0sASK+62UB4a6m0akG+mxq0VYh9+8HT+mBn+sVfAJ43gJ4uuglXkNQMsULRa0XFayTKXOu1isFZg7g-+iRyXIBuoEBuu8B2mjh6RsVbQLh1oHhgQfhmRsVBR9LQB9LBBox7goR3vcwLRyxhmOR+xzmT6U2nR2hpx0OlusVeB5-JB-CnKsh-GaONOdGmyvCwh9u-QY+0hvK76zudOFUTOf1QeaNWhglMgaJ0++J9GoJwu7hbUQfNwAlWQTJshrjGOBJ7udQXuUCAeGhpLe+xh4O9W4OKJt+6m5-Nmw2jml2nm4GfmpQOEUCYW3zSM1QZJ4e0VfAVGQlLkS4XwcWyW6WigRwTOMWsgSwEcAAA173lo-szhse-pactWnF3UsBygOe0y2s5Qyfab-RpqaezDNq7yVRKbubWAeahs4YsaPAdquCds5o025rdoGaGeoBGesDGazhzjmhaV8Z6uQd8Gb04lVGrVXoZCTTxSyWRELoXk7Ae1kGqo+VwRziVtuQop+aFhTspc5gtORcAhoDRfPqajsbcFxZPlITPmtj1qPCVX7GJjXpkQe2FHPvwclm7RTsRamXWscVwfmvh3cxBDpewaWNGCeNlcDDzJeIlDAKle7vFhM1YVOgJRalCyERETEX3qKePMNZXVC3pdRaxgFYxe0FGjSePI1ajFUDuuhjQk9ftHmttdZ3dfbvetIE+rKbdYafochptqmoOPfTDYsnIuA10qdCDeGn9bzOGkRvB1jbpvhZRv8aOsCe1k5bfkwePKYFKdie2Hlmoclloc+kaa+aYeOecZEDYctQ4aOYTa73ze0HYy1s41+F21tppe3wReLeeGUDkjeVCjeYYGl0+bjbBo3XCZTSKIN0XYzs5gNo0epaYe7UzB3bsC7brK6bGp6aBddv6ZSKsEkB9qWf9pED2enKVrjU4fbcLNne7jjVCnTFPYneNw6Y8b0bAHZsYF6ZBaYFZaFnwGnW8FtAHgFrwQsDe0Wb9pWdnfWc2aYB2fnbfbA52PncfoRm-Y8YHdWw-fkFeX-bto8f2oRmA-B3Hbsb8an3GkrEHGrRVT9Rcr9Lo-kGGnzcfr0IqH4p-N0IewHcAqkEk7KkE6+0-hY8nYau7UA1CGfRdLrEcMmaPCzoOjw10IQotRTcoqC2oqdCRsmmQz9IY4-FI5s+DSopIp0BcInddavR+mauqa-efuNwHc1rxG1pah89wR1Dg85TUyCc0y8+ynC+qZ5ZedACgdqrg7Y8tWDrxyewJ1-NGFIDeBIBoBJwWUNiQSMQINHR4+qGdV5SGU45Ldrbq-9SsSxetfboIBrYxr9Iowbf+rbv6GhQTtCy7rIaE-OoYHqexapvuYYdbeab7bBS6-eeA6U9too9FV-fnaVoTtscsdA6MZo+GiY+Yfse47IF45a4E6MLg87NI-0+I6FlE7u7rNO9U85ky6y4RdaUa7RtrcmQMmKudlZQ7RiYxsqEmBB7zg0+wU1VB6Fk5X1ZpgR85j5ekGstR4ZiR8Ccx5h6O0-GcsFd2AJdx-4+J4Kdh+NX6WSWZXxbB9Pu1SZTBhkDRiJ9SRvqp+yeh-dVJ+a+5+kRJ4J4MhZn6954Z8CfSlcjF6FeF+kHZfp8R-B5XoV-ZYVmURSExc57l4NZYTYSx5HuV4GsUQN4-HR5+hC50UV73aN5sDLY1-rnx6FnN8phJlmjhYl4B+RlZ9ydkimmtip-Put+x9t-Rba-F+d8J9wYwad5t-1Yocd4j7R8e2ey6UK+K9K8VHZHsKOKIO7qTksuhW5EGZ559VNw+fm9XYZvXYa0pqybzhbar8F2ztjF5GrTrAsX0GrQAuL9+DPRHFnghA3WRwkBIC7-nMR0PRmBY8TxUrdL9lc+6xY57eSClqqZqbMMxOAcVsxLS-zL1bwVb7+Bdc7+74nHvHnPoDb4xdC0lbmhxAggsRqZVEjtP5GCOCCQpokAIBjzf6io-5qJf8ZuAAtxvTEoJKBS8NBGbs5BL71A-Ig-UYMPzpx-9J+BQaftI1n6qUF+lnNzh91cD4AYBvwebjaGkYr82s6-GoJYgHg-04OV-Y-gilCzUdgGioa-gii8aFlVY3GHwKsEjqjAABykVfnO2qaUDamFWdxnAzwGgACBvfOoPTSdqkDd+oFXMqoDrrsDQ6whVoE-xEEv8r8XON-pSx0Zclf6oqOosOByijB8AWg7geoBT5uJyCoqAoLfWbAeAB4UqNkKwIJiuFjyxAQ-vAJqChYgcT3MFGLUL4eBa4QQbYPoGKxBDOYIQmbtun0Am5rKDgJVAAHJwAoEegIslUBtBwhHgVIbhTrIhDKCMQ+xiEJYgJwuQNQbQFCFYDmB10pQo8HEM3bH4DcbaRoQzGaEfhOUKdDofqi6G8sJASsd-JmHaF9CBh3QtUn0NFQTDBh6IYvsEFqEh42wdaA9MR2KHTDWKIQi-qlzH4D8chpKSVpsI-DlDDYfgqQCTjcTxBLhTAMONELA4DCwhRACIdoG3Rbt6gpAPwfmTWHrC7EeQ7YG8NaH1B5hVQ4IJmE+H7D8yywjsDcLuFdhChbgAYZXkZbAZYRoWcEXsLcH78nGAwiEViNCzpg8Rs8bEaUMeF8YdAmYWEd6DHYoi1AsIn4dwQ2HHCihcZY8sJEMC2gb+KZHQKkPZGpDzAqQ92kwH5GgBUhqMEUaKIsQijUhXIdkNKJJxVBLAqQg9KcL2jnD2R1uCuPJ0sC1BB+9w6cmSObDCheRHgfQPgX0A6jBsEomIbMKFjnDYR9FJQByJCYqcjGtozmOcOK6kBtRuo7YExA8ZMjmRjI1ke3S9EMBRG54VIWGOlH9AiAA4EwNKOrBqgtIbiaUQ8jTHDgbQyowoSEMPo1B+iEY8EKkNcFcgYxXgB2CJGlH3hKATtegNKLOC40Yx94J0XWJVGvcOhuY48iOGoBDgRIhYnkd2KBT3hpRvmaUbIGzGdlVR40c4baESD3gUQKIn0YNkME19LGhok5EWNnG2F8CYY80ZaNnjWi1xnue0VcI-Y9j7wronEceP2EXDTxYY5ugiKvElCgxXeKcQqE9GLiLRvolcY0IGFXJ2QVQjSO1m0Bhilxs8fUSyMPzNhrKoEr8YNmlJBD3RwcV4ABJIjATjRu4uCQeIQn9D2xbgWCfuJ7qTi8JrgdUaaM1FdwsJfo+Ea0AGHPiXxYqdcRFGqKATzO-fNwbGBQo2ACJ34-0RakDEMTLUb454DOJSBoIfx4wpLMaNnjcZsah40kdeI4k8Tlxu2AMYpNnjrB8xYE6iY+LdGFBBJxuYSeIHOEljtJEkm0Q-zYwsS0JdFUyVRIgmFl3Rn0aynZMIk4TfhxuFCaxKlp0VjRJYvcb6PkkzCSJakLSVRPcmGSQpZEp0RRMqZUSdGNExEcPlhYGSkpM3LyTZL4o3iHRJYh8VsP0mpT+Jhfc4W-xqFj8z+q4xCTiCJEHDR+4-XSZsKRHHkZJ85UlKJNkl4sGRV4vUP8JqFAjtANU74Q1LUkzcWpw0oMQJMKlgpYqyhUPnj3XpXVjytzcMaSjG61tXk3IBKklQXha9Um0bObqJzba3FjBDMCCJWmQSCDdAiVZKonUtQD0DcGzbaSJGS7g4s6bYF6ZaiVTblrpO0s9odw6EvdphhgpbtMPOkog2s6aH6c9MKYOCucn0MGZdOWmIpg4BQWkOsmujoyFqjGLGWPA2SYzBaR-dvgTB0K+D9hKRFHIEKmnBDsAJU8qToGNGjiBRsY+MRQHlGKiRx1gNMVuCCknDsAqQ+gM2P0B1iBRUogUYzNFEbgsxfEsDugOZEAAGBzl3kBiSDWgys5-GrM5glwgAA","body":"function analyze_amb(component) {\n    const cfuns = map(analyze, amb_choices(component));\n    return (env, succeed, fail) => {\n               function try_next(choices) {\n                   return is_null(choices)\n                          ? fail()\n                          : head(choices)(env,\n                                          succeed,\n                                          () =>\n                                            try_next(tail(choices)));\n               }\n               return try_next(cfuns);\n           };\n} "}]},{"tag":"SUBHEADING","id":"#h9","child":[{"body":"Driver loop","tag":"#text"}]},{"tag":"TEXT","id":"#p31","child":[{"body":"\n    The driver loop for the ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":" evaluator is\n    complex, due to the mechanism that permits the user to retry in evaluating\n    a program.\n    The driver uses a\n    function\n    called\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"internal_loop"},{"body":",\n      \n    which takes as argument a\n    function","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"retry"},{"body":".\n      \n    The intent is that calling\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"retry"},{"body":"\n    should go on to the next untried alternative in the nondeterministic\n    evaluation.\n    The function\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"internal_loop"},{"body":"\n    either calls\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"retry"},{"body":"\n    in response to the user typing\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"retry"},{"body":"\n    at the driver loop, or else starts a new evaluation by calling\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"ambeval"},{"body":".  \n  ","tag":"#text"}]},{"tag":"TEXT","id":"#p32","child":[{"body":"\n    The failure continuation for this call to\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"ambeval"},{"body":"\n    informs the user that there are no more values and re-invokes the driver\n    loop.\n  ","tag":"#text"}]},{"tag":"TEXT","id":"#p33","child":[{"body":"\n    The success continuation for the call to ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"ambeval"},{"body":"\n    is more subtle.  We print the obtained value and then\n    \n\treinvoke the internal loop\n      \n    with a\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"retry"},{"body":"function\n    that will be able to try the next alternative.  This\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"next_alternative"},{"body":"function\n    is the second argument that was passed to the success continuation.\n    Ordinarily, we think of this second argument as a failure continuation to\n    be used if the current evaluation branch later fails.  In this case,\n    however, we have completed a successful evaluation, so we can invoke the\n    \"failure\" alternative branch in order to search for additional\n    successful evaluations.\n    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":14,"eval":true,"prependLength":616,"program":"chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQGZMChslAGYCuAdgMYAuAlgPYkDOhATjQLYQzxKpoCMaAJlzFy1OqCr0A+hQCGAc3kBTACZSANpIoAKMmwAOdJSQoAaUBQAWSmQoCUoAN7ZQr0EyUUiTEhOn7ZKiZdAyMTBwAyCNBrWRUQ1kMSYwoHAF4Mi2tbeQBubABfYVJKWl9JDSoKJSZZdQSklIdnN3dPb3LpOUVVSvodPUSws1AAIk1q2vVRu3yikVLxCZq6qQA3OqIlBuHm1pc3Dy8fGKU47TkqesHG8NnC4tEy0FZZAGsbZantDfUt5oOriOHVAmn62nGVRW03Mv3+c0ei06UhIslY2xuuycgLax2R3WUajBA1CyRM5lGqPRMwR2AWYl8rw+KLR23oAE9WAAjGjqAGtYEnYkQqlKUbmDnc3n3Ip0koM0CSnnqKQ0Ags9E7MmpbEC9onWLxS7XUlNGWIhUVWT0ehUeQkdEmLVNXWHfX4hSEvokobainW232x0UGkPenPAN2h0pKRK3nO8KuoHu07nY3aQ0XQIm31muzm8PiSNBmNwmxKAAe+g8NrKCZ1LTdeNTRuzWau9fz5rlT3EFRUSjI6lktQZnaTuJBFQJvWFmL9Yz0DDkJikA6HI9kDJmoAAPruca03NPPbOtPWKRsmFRZFz1DZ18PR2Ud-vD0e-DkvXPTeSxoWSDXQcny3F9uwA0BH03BlY05ZVx0bZNmzjFU1Q1bZM3Tec8wRCCoOfOh1k2csqxrW06AQnFBV8TC2yw39UnzWkIKZGwl36WRV3w0CKNFWFiKkStqyUWs6H5JsQWFUZ2JXCggI3AiSHFUA+NAMtBNIkTyJIcD5WeCph25FRZA04TRJISi9WbE8eiJc9sL-cY0S5YzTLIsDcL0pZnNcgJanRSZYKldR6EsiSTlefRtBQ1V1VU2iOwcxiCy83xDJckyeRUdkwqQkEEvqejczuXTe0Zd5Ph8kyhPcii-NZSZ6HMLL2XEvKhXPJyjOqzTzOU+qApqJrQBa0qkU-AD5JAsckuaABIfYrKnLpTzs8EkopSbuO3FKysIVKpugsp0NyycOv6KQPAIC9QF4Xbxq24CjsIgbPCG07qNBLRLqUa6NtAAR7oVR6FJ4wCWo+lNiR+v6GPMDAgeeEGVQoGgpBkzi5MfSHm1Y9G6A4rinsU7R3w-NxkeewDRU7UwyfJl4Ko0Kq3K0ut6YZimDu247Xsa2mOc5-aysOxSpAh2amIeHtxoqajYzkapg1yz6bO-ey4bGeWOKVlJQ3mVKzsAmq2Yo2ak0+grOzGy1pCXFQqjKOoceWr8z3WzXpLoB2GVWE2+ocN8hc-Gc1p9W4Ri9kgfadlUdaUYN9ZlhV7cduhVmEh2yC3DEGLaz7oaum67s8vbU99lV2KUABHLYnXNxCC++ov-sB0vxvL2OpDqSZUWoNZc+KhtASbi6W81hHmMNip6BruuyDZChWGH8KPVs71oqXyPZ9r4wF6TiCd-nmx4+DUL+mXvZXBHlMrYvxj2+BoILtPlJN+X+h89vs54nvz-H+eDWOSr8TDny3p-C2KZ0x-0Rn2aQCd9AUHZLGOee9F4fy-tZaQJAiDqHqDAgBcDmYv0VgnN+MDIFYJRLgwqbYYE230tIO8NAyBvBdicNW7tw7DApMw1hB9DZ8LeOLGg2V2E0R-u2HMEcpYGz2njIRm8c7BjakbL64JRhCOUiA1IU89oVBoPoFYqMmD425FQPudYG4LTcFRFMFRSAjmQYY4xNBTGDC5BYsG44g5CwqJ41ETBnFGNHG4sxATvGzUIciRxQTVQhK3GEjxXiZp5ycDY6+S0OErXXj+IeFJYnBNce4tgESdrRM-BEuJLjQklPMZYs2aTHAZNAHYqhocN7-U0V46pCSTHhJSR5MMhsamJNMShcR6i5Lj3ybdWBvgCDPzkqM6OkzC6-Rum3YZe1Z723iSsVZDc2mSWbhs-6k9pYsSZrIfQ+hNDZzHJNf22lzAjnkEQYMrNzIQMQmoqSNy7lUAeS+OmwcjxPN6i80AbyPkxmeWUf+lyRl9KSaUwZhFUbd1ufcyJTScQyVAKMkxoA0iEpReMuC8YonHOyVIQp+zakDIaRZWagtQAAH5GbMgBTisceMaZErcXYUFYLRWtGFIspgF0VnxElnYNlAAuLlNgeVAu8fy1k2hBVMGFWysVR4JVLIZZxWVecRX6ota4XZ3tjWHLzrIi0jCsWAuBY0oemDXYdLyRHf02K1XlO2Q9A68K3UyMoflSRRUZHzOhUweQXztKhSOavFsUi01ytpPgACjACAsHYFAOAiBkDoH4BgR1RCKBMCIFYHKFZVGqyYTQXkZwLJ1tacHTlFZFWgBqCwYIFZeFNvvJxHtVZBzVBUOYDwC8qADxUAI-R0gCB1A5NoNtjg1EAEIQ5VprWu2YoBZRXOZABbQfMhrNVEeycwxg1j1qhp1TEpA1AAXFHq1o56pWXuyjekgd6KkVCfdHKQp6CD3vaatDeBAKRAZfalBdQaRaftCmBico9pkbOg3Mipk0Iaod+ehmG2gsNbLkYhpEgk-1BDoMrfDNK0qnOulhi5R7DZ43lmWEIJgXQEYfRojjxFlJLmqOEAD0gBN-G2GWcDnrIPCjLBSCTWwEMKiU2xOgImdDSbQ9-NMbZpMMPEHvdQNBbQkHjbe6j0YnS3pkycdMtmcNGtzZq2zOnmyZkcw8AlVhyyJCQZRtYVngwkpUjQ-Iydnh4xc5qFCw0yw-Po6AAIQRoqUpCvxSTiKyPA38ifdLKG8tX0ySmzMMWlAxvK0RLLxGitOEWim9M5XDO+ErCJtQlmWDWZ0HFzLw0uTWnLH+uzaVjDyCsGl4KECMikvvOZibvxP5ss5Sl4I0W8uTeVPFldwqRqDcC-K4OSq5vjcsJt3kECAA8oIxsLZ28tntTA+0QlRjQRmJB2SxveWfRURA-WqCVaMUAABqdtlrFSVosfIKgBAcpxYcKD5SQPQfvo-P0a85mYc5UW-mbtva3EvabYQJQAB3L7sLQG-f+yoQHIOweWvR1DrH52QoI7GBSOnqOjyM8x7Dn4O2WugibW8P7QVlTVa2Cz39d6JwQVvRoJtUU3O-NaIfbOFletqR2xOBmDbqF4JZ0t8HHKe1-oV4Y7QxnTNQ8C8Ft+tnDvg6VShElmRMzw6560TlmYcee7cM79Xab4fmHTDj+4DMigMxh6AS3f7Xekt84JfzyDOs0Z43q-HwQUIFJIDyZ9KlWShgjz2kKSgdfkwJeV0LkqLrldj-+vVn16CB6q3F2rrJdXG-BXliXIl2-oilhHnEkeU3y5MxbrzrG9rFkAjFTj2etfqGl6ouXZvx9K+G+X1wavOKG766o3X9jsE0MN47y1nKx+K9j0Oa35nbddeVg7v3rhnfpfj6mj3xvOWzzkj7ldmWz8LUA9d9oECtdtQ8Bd8hi96Zo96939E8EEAtU9usD9yZM8pcxhSA89o4C90RQAABafA6FWsEsEwIvcmAoEvWeLfI8SvPLavZzDbLzMFJvFvHvNvZrc1LvZgVkXvQrDvcPCg4fJLS-CfYbTNMAbNZgNgDgQtbgEtNAFActZEasKgVgR2AeEDVKYjUgEbEOOTc8EQCkVQ9Q-uMUGNEwjQmwNQu5MhEwbxEQPQq2Rw7sAlSwswrQsqRgWbc8MmKSQ0ZSNwQ0UVTvD8KSY0QI1wY0EIrgtwKSVbSI5LQIJgGIvwzqYkRI4kVI8mKSCoHBPBZSPImhIWUIg1TqB2egO5WQdkZSCoqoz7TmUo8VTqTPSIzPMFJouIzqV4KwbuLkegcUHoywPoxgBmTo1wKSYHRItwNdcwVqElAAPlAArDpwaPGKmQhHwOmNcFmNAHmLSCWJWKILWNiImM6nwMKUiJWNaAOLcCIOuPWKkgACptiY8B09j0hDjQAni9jXBHjOpgBXjdj9iviwATi0iNEABSIE94kE5Y0ASE340Af4jRGbaY4Ez4+EmbD404jY0YTdDIdE2EzElYgk0lVqXEqSS7GEuYkk0Aa7VwCkiEnQUYS7NIbYjExY+EtkxklElkhYmkj4rklYpY3kykzqBY9k8wI8Tk24kU0lHE5kiETdV4+Em40U0AbdVwOtMme4Nw68Uw2dGwSaOLElHESKDMH+cwdwo0zwpERFfUtQqwu0mCGgLkAAK3HW8PNJuR0N8FuPiINKsOUmcN0PzFxOSyDI8OzXuGwEdMNM0Ixkpx8PBCkmfV+gsVUGUnTMWWSBUHWO4LKI0UgBIFzKqBqOlJLLLKQQLMLK6I0SGKkFgEgEiMbObNrLrLxMbIAFFEieyOy6ypIAA5WQIc14kcocwAzs1oPUgmCgSMp0jwpM4BArM01oC0sgLkzMMgXbG0xMuczGB0uchchM9TZcTGPgtctwDcrcyNNsHc3cqM205cxFSLIsbFZBPc407Qowr7YkPQnlZBCxOlaOGodQdkG3d02QDYZva8RBUmfVL8qQGw+8YMBw3QiM8mN5f83II8JFHZdofQe-NPJ0PQtrYwDrKjB-N+AFCis9J8zQk0grTC6ctwJC5csXC7Ac43Wi1ZJCyaN0z0ygYaZ-Y3dig81cBLbi8HBA5PYilA2kHzbIeQEzAbFUZAkLUlH-UXDSt+WMrNVKHNPNWQrgYtTAHAN85EZyBCD8JLThMOG6UYVVV1JSSIaINlPIzVCFMybSa2UAKIenBmGKNCGmby2qFle1d-Jy7kUYCpZydGSwGgIFPvZNFNN5BNBFTsPRcaTiOodkAAL0+ChG+FSval8HrwlCIDIAXlUHMGXSuE+K53oCqpqviC+FWE41mjquzEF1yvAsKpOlKrUQqt+2qqUFqsIB6sWPfWarGtUG0HHxFyIrn2IhZ1ikGrNVEsLNsxYuDnqr5GyoVD6oKsqm6gytDSxF+TcM3FYG8NBBZk-U4pCiyvxWPK5BEFC2OsKoWpZglntSgJTRGtmtau6oaumtFWBvGviGi20IGn61-J2q2smoasOojFRH6pPlQXIHQQoES1V0NiPhSBvDwRylkGalQLKpj1vUqrmsnWRr5C5L91kBGtEvwEhptFAGEwsSIDBkIDcU5rqE0HM1AAABIAAdaoCsCgaWxwWQAoEW0S7QEyBTemwGcGrvOWd0XvJW3vKci1b-FqqGnWlW-awGJGpVLkIGw2ia026Sj8LNbMbwMvLmnBXmggfm7OPBKHUWiWtrGWuWhW43fawQ1wEfbfQ2dfYjZzUgKdESOSEQPG8mPXfI+oIBTwo3MVTlGveO0gLnY7K-QmkwYm8CqOqVHOkgcwTMNOhO8MpGiwNsau0gT+EOw9V65cYWO6i0r6pQCUcBFu5Ok-GuwK8mC-OPW4nMzMlQbtSOsrJu8AtsGu3q9Gk60WXFd1CcAlF3UlHmQiCZalVoAlNYD60lbu7QHewCdSENCK91fulMK22m0Ghm2499I+0gCq5-fnJfVWzElXS1GfJ67WhfX4ZfAGrvJva2+ICevMx+rZcHAoXa8mYO1GosZegamfZWIazet-E+kg7rJ6l6g+481+-06FVB7YdB0sASK+62UB4a6m0akG+mxq0VYh9+8HT+mBn+sVfAJ43gJ4uuglXkNQMsULRa0XFayTKXOu1isFZg7g-+iRyXIBuoEBuu8B2mjh6RsVbQLh1oHhgQfhmRsVBR9LQB9LBBox7goR3vcwLRyxhmOR+xzmT6U2nR2hpx0OlusVeB5-JB-CnKsh-GaONOdGmyvCwh9u-QY+0hvK76zudOFUTOf1QeaNWhglMgaJ0++J9GoJwu7hbUQfNwAlWQTJshrjGOBJ7udQXuUCAeGhpLe+xh4O9W4OKJt+6m5-Nmw2jml2nm4GfmpQOEUCYW3zSM1QZJ4e0VfAVGQlLkS4XwcWyW6WigRwTOMWsgSwEcAAA173lo-szhse-pactWnF3UsBygOe0y2s5Qyfab-RpqaezDNq7yVRKbubWAeahs4YsaPAdquCds5o025rdoGaGeoBGesDGazhzjmhaV8Z6uQd8Gb04lVGrVXoZCTTxSyWRELoXk7Ae1kGqo+VwRziVtuQop+aFhTspc5gtORcAhoDRfPqajsbcFxZPlITPmtj1qPCVX7GJjXpkQe2FHPvwclm7RTsRamXWscVwfmvh3cxBDpewaWNGCeNlcDDzJeIlDAKle7vFhM1YVOgJRalCyERETEX3qKePMNZXVC3pdRaxgFYxe0FGjSePI1ajFUDuuhjQk9ftHmttdZ3dfbvetIE+rKbdYafochptqmoOPfTDYsnIuA10qdCDeGn9bzOGkRvB1jbpvhZRv8aOsCe1k5bfkwePKYFKdie2Hlmoclloc+kaa+aYeOecZEDYctQ4aOYTa73ze0HYy1s41+F21tppe3wReLeeGUDkjeVCjeYYGl0+bjbBo3XCZTSKIN0XYzs5gNo0epaYe7UzB3bsC7brK6bGp6aBddv6ZSKsEkB9qWf9pED2enKVrjU4fbcLNne7jjVCnTFPYneNw6Y8b0bAHZsYF6ZBaYFZaFnwGnW8FtAHgFrwQsDe0Wb9pWdnfWc2aYB2fnbfbA52PncfoRm-Y8YHdWw-fkFeX-bto8f2oRmA-B3Hbsb8an3GkrEHGrRVT9Rcr9Lo-kGGnzcfr0IqH4p-N0IewHcAqkEk7KkE6+0-hY8nYau7UA1CGfRdLrEcMmaPCzoOjw10IQotRTcoqC2oqdCRsmmQz9IY4-FI5s+DSopIp0BcInddavR+mauqa-efuNwHc1rxG1pah89wR1Dg85TUyCc0y8+ynC+qZ5ZedACgdqrg7Y8tWDrxyewJ1-NGFIDeBIBoBJwWUNiQSMQINHR4+qGdV5SGU45Ldrbq-9SsSxetfboIBrYxr9Iowbf+rbv6GhQTtCy7rIaE-OoYHqexapvuYYdbeab7bBS6-eeA6U9too9FV-fnaVoTtscsdA6MZo+GiY+Yfse47IF45a4E6MLg87NI-0+I6FlE7u7rNO9U85ky6y4RdaUa7Rua+ssrfbtuYYFG99O7teW5ASqSoXkxZvqbbvpjYgbE65N-s+-K7iWSClt0ESuSsTstQHoNw2Zh5EmS-ByzrbDJ8tSVW3Nx9h7PcO6e+52R9e9FR0c26Z8rWQSx50Cwjp9J8KdFTDpYKgUx7a10BrvcY-AKD1bKaGr13aukV2AJcCcV-xaO0-BplZQ7RiYxo2vdQ0+kEB7zhV4B+5HV6Fj5aN-48FeV51-1ectt4KcN+NX6WSWZQt73d15Oq1XJSZTBhkDRkd9SRvpd+yedm16Fk5X1fD6V+d414MhZn64N-t9V6T8hTa5T8t8-HZc94Zmj8Cdz-ZYVmURSDh+jRd8UUj69-1ar5N4T-Ey1p0Tz5Hu94GrLdL-rnr+z4qEphJlmjhdT9rd65gkfED9ydkimmthd-Ppb4-AL+a9n+r4Zit+7lwYwe75r8CYoa76z85iVXQK6UK+K9K8VHZHsKOKIO7qTksuhW5EGYj81iR4frbfXYa0pqybzhbdXYOunfECIFnimJVCToasAYGASQ5zM5gQSuOhXzlc0YPOeQFqg9IwCaCeuWDDpwojQDKAVPAzmMEuywZ8CAEAUnnU-AKckQSAoSqkC5ycpWSX5QgalGIH6pV+1HLAVQP1Q0CAA2sjnQ4KwMciAzMKwPzB04kcSNUHJigQFppBBbOUYAAF1RgJAhAczkEG0NhedRYcDlFGCEEtB2gnQboL0FbEEGoA-zLwO9qI4xaSkOnOIIgGIDBBwg8wTfwggACagP0c4EYMQQmDzMehNwToG8EeD5ArhY8hYn0BotvBoWaKlyHwIP8-gOcCQCQGCEUAFUsVOMseUZYUB4h8nPNIglCxjBnIkQsFmXjLCJD8geEa8APFMSR1YB+ibjD4FWCR0jgQSCmoC3bpBDq0oWJwaYg8DnAWhckbwV42PAEAY8W7eoN0KEFo9IIkgeopsUII9owW-NSYOoT7iqACChBJHOQWl5UEy8sBboVFXqE1FGhrQNQdUSmH6CThJwt9BrTiEhDMh85MwRYNBzbDbhaw5ximF2FuN6YlBJQKXhoIHCJh6g44RDhHDgt5AKkUnJGTdKoVlhBgrat0IyFgC7Bdw2IfEPhFPCGYzkKIWehHCzwIQG6bgQ8LGCHoZgNLRPCpTdJ+xXO3WGlvgDRG-B5uNoT3D2x55VMamZhH+ltXaEZCLEOgVIekO8EAEpeYqVWNUJyaR1GRPcGoJYgHh9ChYPjC1FSPv40j9qTtekayK7yHCNBpwjUXoPOEyNKQb2VgG4gKHERGAaoBVPYLpx4jRg9gqUaKk+gqBShzgiofyM5gFBrRwvYXoKJqYqhI6XOdnrcTGHBw1R-wlSG9ku5PYUgYIu8AnFcBaDVh1o4OLaPtHlCr8cY6Xt2DtFGkkxFuWYEAA","body":"const input_prompt = \"amb-evaluate input:\";\nconst output_prompt =  \"amb-evaluate value:\";\n\nfunction driver_loop(env) {\n    function internal_loop(retry) {\n        const input = user_read(input_prompt);\n        if (input === \"retry\") {\n            return retry();\n        } else {\n            display(\"Starting a new problem\");\n            const program = parse(input);\n            const locals = scan_out_declarations(program);\n            const unassigneds = list_of_unassigned(locals);\n            const program_env = extend_environment(\n                                    locals, unassigneds, env);\n            return ambeval(\n                       program,  \n                       program_env,\n                       // ambeval success\n                       (val, next_alternative) => {\n                           user_print(output_prompt, val);\n                           return internal_loop(next_alternative);\n                       },\n                       // ambeval failure\n                       () => {\n                           display(\"There are no more values of\");\n                           display(input);\n                           return driver_loop(env);\n                       });\n        }\n    }\n    return internal_loop(() => {\n                             display(\"There is no current problem\");\n                             return driver_loop(env);\n                         });\n} "},{"body":"\n    The initial call to\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"internal_loop"},{"body":"\n    uses a\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"retry"},{"body":"function\n    that complains that there is no current problem and restarts the driver loop.\n    This is the behavior that will happen if the user types\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"retry"},{"body":"\n    when there is no evaluation in progress.\n  ","tag":"#text"}]},{"tag":"TEXT","id":"#p34","child":[{"body":"\n\tWe start the driver loop as usual, by setting up the global environment\n\tand passing it as enclosing environment for the first iteration of\n\t","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"driver_loop"},{"body":".\n\t","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":15,"eval":false,"body":"const the_global_environment = setup_environment();\ndriver_loop(the_global_environment);"}]},{"tag":"EXERCISE","title":"Exercise 4.48","id":"#ex-4.48","child":[{"body":"\n    Implement a new\n    syntactic\n    form ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"ramb"},{"body":" that is like\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":" except that it searches alternatives in a\n    random order, rather than from left to right.  Show how this can help with\n    Alyssa's problem in exercise ","tag":"#text"},{"tag":"REF","body":"4.47","href":"/sicpjs/4.3.2#ex-4.47"},{"body":".\n    ","tag":"#text"}]},{"tag":"EXERCISE","title":"Exercise 4.49","id":"#ex-4.49","child":[{"body":"\n\tChange the implementation of assignment so that it\n      \n    is not undone upon failure. For example, we can choose two distinct\n    elements from a list and count the number of trials required to make a\n    successful choice as follows:\n    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":16,"eval":false,"body":"let count = 0;\n\nlet x = an_element_of(\"a\", \"b\", \"c\");\nlet y = an_element_of(\"a\", \"b\", \"c\");\ncount = count + 1;\nrequire(x !== y);\nlist(x, y, count);","output":"Starting a new problem\namb-evaluate value:\n[\"a\", [\"b\", [2, null]]]"},{"tag":"SNIPPET","latex":false,"id":17,"eval":false,"body":"retry","output":"amb-evaluate value:\n[\"a\", [\"c\", [3, null]]]"},{"body":"\n\tWhat values would have been displayed if we had used\n\tthe original meaning of assignment rather than\n\tpermanent assignment?\n      ","tag":"#text"}]},{"tag":"EXERCISE","title":"Exercise 4.50","id":"#ex-4.50","child":[{"body":"\n\tWe shall horribly abuse the syntax for conditional statements, by\n\timplementing a construct of the following form: \n\t","tag":"#text"},{"tag":"SNIPPET","latex":true,"eval":false,"body":"\nif (evaluation_succeeds_take) { $statement$ } else { $alternative$ }\n\t  "},{"body":"\n\tThe construct permits the user to catch the failure of a\n\tstatement. It evaluates the statement as usual and returns\n\tas usual if the evaluation succeeds. If the evaluation fails,\n\thowever, the given alternative statement \n\tis evaluated, as in the following example:\n\t","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":18,"eval":false,"body":"if (evaluation_succeeds_take) {\n    const x = an_element_of(list(1, 3, 5));\n    require(is_even(x));\n    x;\n} else {\n    \"all odd\";\n}","output":"Starting a new problem\namb-evaluate value:\n\"all odd\""},{"tag":"SNIPPET","latex":false,"id":19,"eval":false,"body":"if (evaluation_succeeds_take) {\n    const x = an_element_of(list(1, 3, 5, 8));\n    require(is_even(x));\n    x;\n} else {\n    \"all odd\";\n}","output":"Starting a new problem\namb-evaluate value:\n8"},{"body":"\n\tImplement this construct by extending the\n\t","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":"\n\tevaluator. Hint: Exercise ","tag":"#text"},{"tag":"REF","body":"4.24","href":"/sicpjs/4.2.1#ex-4.24"},{"body":" shows\n\thow to abuse the existing JavaScript syntax in order to implement\n\ta new syntactic form.\n      ","tag":"#text"}]},{"tag":"EXERCISE","title":"Exercise 4.51","id":"#ex-4.51","child":[{"body":"\n    With\n    \n\tthe new kind of assignment\n      \n    as described in exercise ","tag":"#text"},{"tag":"REF","body":"4.49","href":"/sicpjs/4.3.3#ex-4.49"},{"body":" and\n    \n\tthe construct\n\t","tag":"#text"},{"tag":"SNIPPET","latex":true,"eval":false,"body":"\nif (evaluation_succeeds_take) { $\\ldots$ } else { $\\ldots$ }\n      "},{"body":"\n    as in exercise ","tag":"#text"},{"tag":"REF","body":"4.50","href":"/sicpjs/4.3.3#ex-4.50"},{"body":", what will be the result of\n    evaluating\n    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":20,"eval":false,"body":"let pairs = null;      \nif (evaluation_succeeds_take) {\n    const p = prime_sum_pair(list(1, 3, 5, 8), list(20, 35, 110));\n    pairs = pair(p, pairs); // using permanent assignment\n    amb();\n} else {\n    pairs;\n}"}]},{"tag":"EXERCISE","title":"Exercise 4.52","id":"#ex-4.52","child":[{"body":"\n    If we had not realized that\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"require"},{"body":" could be\n    implemented as an ordinary\n    function\n    that uses ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":", to be defined by the user as\n    part of a nondeterministic program, we would have had to implement it\n    as a \n    syntactic\n    form. This would require syntax\n    functions","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":21,"eval":false,"body":"function is_require(component) {\n    return is_tagged_list(component, \"require\");\n}\nfunction require_predicate(component) {\n    return head(tail(component));\n}"},{"body":"\n    and a new clause in the dispatch in ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"analyze"},{"tag":"SNIPPET","latex":false,"id":22,"eval":false,"body":": is_require(component)\n? analyze_require(component)"},{"body":"\n    as well the\n    function","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"analyze_require"},{"body":"\n    that handles ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"require"},{"body":"\n    expressions.  Complete the following definition of\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"analyze_require"},{"body":".\n      ","tag":"#text"},{"tag":"SNIPPET","latex":true,"eval":false,"body":"\nfunction analyze_require(component) {\n    const pfun = analyze(require_predicate(component));\n    return (env, succeed, fail) =>\n             pfun(env,\n                  (pred_value, fail2) =>\n                    $\\langle{}$??$\\rangle$\n                    ? $\\langle{}$??$\\rangle$\n                    : succeed(\"ok\", fail2),\n                  fail);\n}\n      "}]},{"tag":"DISPLAYFOOTNOTE","id":"#footnote-1","count":1,"href":"/sicpjs/4.3.3#footnote-link-1","child":[{"body":"We chose to\n    implement the lazy evaluator in\n    section ","tag":"#text"},{"tag":"REF","body":"4.2","href":"/sicpjs/4.2"},{"body":" as a modification of the\n    ordinary metacircular evaluator of\n    section ","tag":"#text"},{"tag":"REF","body":"4.1.1","href":"/sicpjs/4.1.1"},{"body":".  In contrast, we will\n    base the ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":" evaluator on the analyzing\n    evaluator of section ","tag":"#text"},{"tag":"REF","body":"4.1.7","href":"/sicpjs/4.1.7"},{"body":", because\n    the execution\n    functions\n    in that evaluator provide a convenient framework for implementing\n    backtracking.","tag":"#text"}]},{"tag":"DISPLAYFOOTNOTE","id":"#footnote-2","count":2,"href":"/sicpjs/4.3.3#footnote-link-2","child":[{"body":"To avoid confusion, we shall\n\trefrain from declaring ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":" as a\n\tname in our nondeterministic programs.","tag":"#text"}]},{"tag":"DISPLAYFOOTNOTE","id":"#footnote-3","count":3,"href":"/sicpjs/4.3.3#footnote-link-3","child":[{"body":"We\n    \n\tdidn't worry about undoing declarations, since we assume that a\n\tname can't be used prior to the evaluation of its declaration,\n\t\n\tso its previous value doesn't matter.\n      ","tag":"#text"}]}]